var sz=Object.defineProperty;var oz=(t,e,n)=>e in t?sz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Db=(t,e,n)=>oz(t,typeof e!="symbol"?e+"":e,n);function lz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function oa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mb={exports:{}},Hf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xI;function uz(){if(xI)return Hf;xI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Hf.Fragment=e,Hf.jsx=n,Hf.jsxs=n,Hf}var wI;function cz(){return wI||(wI=1,Mb.exports=uz()),Mb.exports}var w=cz(),jb={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI;function fz(){if(EI)return Ve;EI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),b=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=b&&$[b]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function C($,ee,fe){this.props=$,this.context=ee,this.refs=T,this.updater=fe||S}C.prototype.isReactComponent={},C.prototype.setState=function($,ee){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ee,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function k(){}k.prototype=C.prototype;function M($,ee,fe){this.props=$,this.context=ee,this.refs=T,this.updater=fe||S}var F=M.prototype=new k;F.constructor=M,E(F,C.prototype),F.isPureReactComponent=!0;var B=Array.isArray;function U(){}var R={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function D($,ee,fe){var de=fe.ref;return{$$typeof:t,type:$,key:ee,ref:de!==void 0?de:null,props:fe}}function z($,ee){return D($.type,ee,$.props)}function j($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function L($){var ee={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(fe){return ee[fe]})}var q=/\/+/g;function ye($,ee){return typeof $=="object"&&$!==null&&$.key!=null?L(""+$.key):ee.toString(36)}function Ce($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(U,U):($.status="pending",$.then(function(ee){$.status==="pending"&&($.status="fulfilled",$.value=ee)},function(ee){$.status==="pending"&&($.status="rejected",$.reason=ee)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function Z($,ee,fe,de,_e){var Pe=typeof $;(Pe==="undefined"||Pe==="boolean")&&($=null);var Se=!1;if($===null)Se=!0;else switch(Pe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch($.$$typeof){case t:case e:Se=!0;break;case m:return Se=$._init,Z(Se($._payload),ee,fe,de,_e)}}if(Se)return _e=_e($),Se=de===""?"."+ye($,0):de,B(_e)?(fe="",Se!=null&&(fe=Se.replace(q,"$&/")+"/"),Z(_e,ee,fe,"",function(ke){return ke})):_e!=null&&(j(_e)&&(_e=z(_e,fe+(_e.key==null||$&&$.key===_e.key?"":(""+_e.key).replace(q,"$&/")+"/")+Se)),ee.push(_e)),1;Se=0;var Et=de===""?".":de+":";if(B($))for(var oe=0;oe<$.length;oe++)de=$[oe],Pe=Et+ye(de,oe),Se+=Z(de,ee,fe,Pe,_e);else if(oe=_($),typeof oe=="function")for($=oe.call($),oe=0;!(de=$.next()).done;)de=de.value,Pe=Et+ye(de,oe++),Se+=Z(de,ee,fe,Pe,_e);else if(Pe==="object"){if(typeof $.then=="function")return Z(Ce($),ee,fe,de,_e);throw ee=String($),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ue($,ee,fe){if($==null)return $;var de=[],_e=0;return Z($,de,"","",function(Pe){return ee.call(fe,Pe,_e++)}),de}function be($){if($._status===-1){var ee=$._result;ee=ee(),ee.then(function(fe){($._status===0||$._status===-1)&&($._status=1,$._result=fe)},function(fe){($._status===0||$._status===-1)&&($._status=2,$._result=fe)}),$._status===-1&&($._status=0,$._result=ee)}if($._status===1)return $._result.default;throw $._result}var Ie=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ie={map:ue,forEach:function($,ee,fe){ue($,function(){ee.apply(this,arguments)},fe)},count:function($){var ee=0;return ue($,function(){ee++}),ee},toArray:function($){return ue($,function(ee){return ee})||[]},only:function($){if(!j($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Ve.Activity=p,Ve.Children=ie,Ve.Component=C,Ve.Fragment=n,Ve.Profiler=i,Ve.PureComponent=M,Ve.StrictMode=r,Ve.Suspense=f,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ve.__COMPILER_RUNTIME={__proto__:null,c:function($){return R.H.useMemoCache($)}},Ve.cache=function($){return function(){return $.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function($,ee,fe){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var de=E({},$.props),_e=$.key;if(ee!=null)for(Pe in ee.key!==void 0&&(_e=""+ee.key),ee)!N.call(ee,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&ee.ref===void 0||(de[Pe]=ee[Pe]);var Pe=arguments.length-2;if(Pe===1)de.children=fe;else if(1<Pe){for(var Se=Array(Pe),Et=0;Et<Pe;Et++)Se[Et]=arguments[Et+2];de.children=Se}return D($.type,_e,de)},Ve.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:s,_context:$},$},Ve.createElement=function($,ee,fe){var de,_e={},Pe=null;if(ee!=null)for(de in ee.key!==void 0&&(Pe=""+ee.key),ee)N.call(ee,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(_e[de]=ee[de]);var Se=arguments.length-2;if(Se===1)_e.children=fe;else if(1<Se){for(var Et=Array(Se),oe=0;oe<Se;oe++)Et[oe]=arguments[oe+2];_e.children=Et}if($&&$.defaultProps)for(de in Se=$.defaultProps,Se)_e[de]===void 0&&(_e[de]=Se[de]);return D($,Pe,_e)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function($){return{$$typeof:c,render:$}},Ve.isValidElement=j,Ve.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:be}},Ve.memo=function($,ee){return{$$typeof:d,type:$,compare:ee===void 0?null:ee}},Ve.startTransition=function($){var ee=R.T,fe={};R.T=fe;try{var de=$(),_e=R.S;_e!==null&&_e(fe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(U,Ie)}catch(Pe){Ie(Pe)}finally{ee!==null&&fe.types!==null&&(ee.types=fe.types),R.T=ee}},Ve.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ve.use=function($){return R.H.use($)},Ve.useActionState=function($,ee,fe){return R.H.useActionState($,ee,fe)},Ve.useCallback=function($,ee){return R.H.useCallback($,ee)},Ve.useContext=function($){return R.H.useContext($)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function($,ee){return R.H.useDeferredValue($,ee)},Ve.useEffect=function($,ee){return R.H.useEffect($,ee)},Ve.useEffectEvent=function($){return R.H.useEffectEvent($)},Ve.useId=function(){return R.H.useId()},Ve.useImperativeHandle=function($,ee,fe){return R.H.useImperativeHandle($,ee,fe)},Ve.useInsertionEffect=function($,ee){return R.H.useInsertionEffect($,ee)},Ve.useLayoutEffect=function($,ee){return R.H.useLayoutEffect($,ee)},Ve.useMemo=function($,ee){return R.H.useMemo($,ee)},Ve.useOptimistic=function($,ee){return R.H.useOptimistic($,ee)},Ve.useReducer=function($,ee,fe){return R.H.useReducer($,ee,fe)},Ve.useRef=function($){return R.H.useRef($)},Ve.useState=function($){return R.H.useState($)},Ve.useSyncExternalStore=function($,ee,fe){return R.H.useSyncExternalStore($,ee,fe)},Ve.useTransition=function(){return R.H.useTransition()},Ve.version="19.2.3",Ve}var SI;function Ec(){return SI||(SI=1,jb.exports=fz()),jb.exports}var I=Ec();const f1=oa(I),hz=lz({__proto__:null,default:f1},[I]);var kb={exports:{}},Kf={},Vb={exports:{}},Lb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TI;function dz(){return TI||(TI=1,(function(t){function e(Z,ue){var be=Z.length;Z.push(ue);e:for(;0<be;){var Ie=be-1>>>1,ie=Z[Ie];if(0<i(ie,ue))Z[Ie]=ue,Z[be]=ie,be=Ie;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ue=Z[0],be=Z.pop();if(be!==ue){Z[0]=be;e:for(var Ie=0,ie=Z.length,$=ie>>>1;Ie<$;){var ee=2*(Ie+1)-1,fe=Z[ee],de=ee+1,_e=Z[de];if(0>i(fe,be))de<ie&&0>i(_e,fe)?(Z[Ie]=_e,Z[de]=be,Ie=de):(Z[Ie]=fe,Z[ee]=be,Ie=ee);else if(de<ie&&0>i(_e,be))Z[Ie]=_e,Z[de]=be,Ie=de;else break e}}return ue}function i(Z,ue){var be=Z.sortIndex-ue.sortIndex;return be!==0?be:Z.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],m=1,p=null,b=3,_=!1,S=!1,E=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function F(Z){for(var ue=n(d);ue!==null;){if(ue.callback===null)r(d);else if(ue.startTime<=Z)r(d),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=n(d)}}function B(Z){if(E=!1,F(Z),!S)if(n(f)!==null)S=!0,U||(U=!0,L());else{var ue=n(d);ue!==null&&Ce(B,ue.startTime-Z)}}var U=!1,R=-1,N=5,D=-1;function z(){return T?!0:!(t.unstable_now()-D<N)}function j(){if(T=!1,U){var Z=t.unstable_now();D=Z;var ue=!0;try{e:{S=!1,E&&(E=!1,k(R),R=-1),_=!0;var be=b;try{t:{for(F(Z),p=n(f);p!==null&&!(p.expirationTime>Z&&z());){var Ie=p.callback;if(typeof Ie=="function"){p.callback=null,b=p.priorityLevel;var ie=Ie(p.expirationTime<=Z);if(Z=t.unstable_now(),typeof ie=="function"){p.callback=ie,F(Z),ue=!0;break t}p===n(f)&&r(f),F(Z)}else r(f);p=n(f)}if(p!==null)ue=!0;else{var $=n(d);$!==null&&Ce(B,$.startTime-Z),ue=!1}}break e}finally{p=null,b=be,_=!1}ue=void 0}}finally{ue?L():U=!1}}}var L;if(typeof M=="function")L=function(){M(j)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ye=q.port2;q.port1.onmessage=j,L=function(){ye.postMessage(null)}}else L=function(){C(j,0)};function Ce(Z,ue){R=C(function(){Z(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var be=b;b=ue;try{return Z()}finally{b=be}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var be=b;b=Z;try{return ue()}finally{b=be}},t.unstable_scheduleCallback=function(Z,ue,be){var Ie=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Ie+be:Ie):be=Ie,Z){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=be+ie,Z={id:m++,callback:ue,priorityLevel:Z,startTime:be,expirationTime:ie,sortIndex:-1},be>Ie?(Z.sortIndex=be,e(d,Z),n(f)===null&&Z===n(d)&&(E?(k(R),R=-1):E=!0,Ce(B,be-Ie))):(Z.sortIndex=ie,e(f,Z),S||_||(S=!0,U||(U=!0,L()))),Z},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(Z){var ue=b;return function(){var be=b;b=ue;try{return Z.apply(this,arguments)}finally{b=be}}}})(Lb)),Lb}var AI;function mz(){return AI||(AI=1,Vb.exports=dz()),Vb.exports}var zb={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var II;function pz(){if(II)return Ln;II=1;var t=Ec();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,d,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:d,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ln.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,m)},Ln.flushSync=function(f){var d=l.T,m=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=m,r.d.f()}},Ln.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Ln.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Ln.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,p=c(m,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:b,fetchPriority:_}):m==="script"&&r.d.X(f,{crossOrigin:p,integrity:b,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ln.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Ln.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,p=c(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ln.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Ln.requestFormReset=function(f){r.d.r(f)},Ln.unstable_batchedUpdates=function(f,d){return f(d)},Ln.useFormState=function(f,d,m){return l.H.useFormState(f,d,m)},Ln.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ln.version="19.2.3",Ln}var OI;function ZD(){if(OI)return zb.exports;OI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zb.exports=pz(),zb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CI;function gz(){if(CI)return Kf;CI=1;var t=mz(),e=Ec(),n=ZD();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function d(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,h=o;;){var y=u.return;if(y===null)break;var v=y.alternate;if(v===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===u)return f(y),a;if(v===h)return f(y),o;v=v.sibling}throw Error(r(188))}if(u.return!==h.return)u=y,h=v;else{for(var A=!1,P=y.child;P;){if(P===u){A=!0,u=y,h=v;break}if(P===h){A=!0,h=y,u=v;break}P=P.sibling}if(!A){for(P=v.child;P;){if(P===u){A=!0,u=v,h=y;break}if(P===h){A=!0,h=v,u=y;break}P=P.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function m(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=m(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var q=Symbol.for("react.client.reference");function ye(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case B:return"Suspense";case U:return"SuspenseList";case D:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case M:return a.displayName||"Context";case k:return(a._context.displayName||"Context")+".Consumer";case F:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return o=a.displayName||null,o!==null?o:ye(a.type)||"Memo";case N:o=a._payload,a=a._init;try{return ye(a(o))}catch{}}return null}var Ce=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Ie=[],ie=-1;function $(a){return{current:a}}function ee(a){0>ie||(a.current=Ie[ie],Ie[ie]=null,ie--)}function fe(a,o){ie++,Ie[ie]=a.current,a.current=o}var de=$(null),_e=$(null),Pe=$(null),Se=$(null);function Et(a,o){switch(fe(Pe,o),fe(_e,a),fe(de,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?$2(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=$2(o),a=H2(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ee(de),fe(de,a)}function oe(){ee(de),ee(_e),ee(Pe)}function ke(a){a.memoizedState!==null&&fe(Se,a);var o=de.current,u=H2(o,a.type);o!==u&&(fe(_e,a),fe(de,u))}function qe(a){_e.current===a&&(ee(de),ee(_e)),Se.current===a&&(ee(Se),Uf._currentValue=be)}var me,Ft;function $e(a){if(me===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);me=o&&o[1]||"",Ft=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+a+Ft}var dn=!1;function $t(a,o){if(!a||dn)return"";dn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var J=re}Reflect.construct(a,[],ce)}else{try{ce.call()}catch(re){J=re}a.call(ce.prototype)}}else{try{throw Error()}catch(re){J=re}(ce=a())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&J&&typeof re.stack=="string")return[re.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),A=v[0],P=v[1];if(A&&P){var H=A.split(`
`),W=P.split(`
`);for(y=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;y<W.length&&!W[y].includes("DetermineComponentFrameRoot");)y++;if(h===H.length||y===W.length)for(h=H.length-1,y=W.length-1;1<=h&&0<=y&&H[h]!==W[y];)y--;for(;1<=h&&0<=y;h--,y--)if(H[h]!==W[y]){if(h!==1||y!==1)do if(h--,y--,0>y||H[h]!==W[y]){var ae=`
`+H[h].replace(" at new "," at ");return a.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",a.displayName)),ae}while(1<=h&&0<=y);break}}}finally{dn=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?$e(u):""}function ur(a,o){switch(a.tag){case 26:case 27:case 5:return $e(a.type);case 16:return $e("Lazy");case 13:return a.child!==o&&o!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return $t(a.type,!1);case 11:return $t(a.type.render,!1);case 1:return $t(a.type,!0);case 31:return $e("Activity");default:return""}}function ts(a){try{var o="",u=null;do o+=ur(a,u),u=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Wt=Object.prototype.hasOwnProperty,mn=t.unstable_scheduleCallback,ns=t.unstable_cancelCallback,jv=t.unstable_shouldYield,zd=t.unstable_requestPaint,$n=t.unstable_now,vo=t.unstable_getCurrentPriorityLevel,Fc=t.unstable_ImmediatePriority,$c=t.unstable_UserBlockingPriority,rs=t.unstable_NormalPriority,kv=t.unstable_LowPriority,Bd=t.unstable_IdlePriority,Ud=t.log,qd=t.unstable_setDisableYieldValue,ei=null,Cn=null;function Cr(a){if(typeof Ud=="function"&&qd(a),Cn&&typeof Cn.setStrictMode=="function")try{Cn.setStrictMode(ei,a)}catch{}}var Ht=Math.clz32?Math.clz32:$d,Fd=Math.log,Ll=Math.LN2;function $d(a){return a>>>=0,a===0?32:31-(Fd(a)/Ll|0)|0}var Si=256,bo=262144,Zt=4194304;function Ti(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ai(a,o,u){var h=a.pendingLanes;if(h===0)return 0;var y=0,v=a.suspendedLanes,A=a.pingedLanes;a=a.warmLanes;var P=h&134217727;return P!==0?(h=P&~v,h!==0?y=Ti(h):(A&=P,A!==0?y=Ti(A):u||(u=P&~a,u!==0&&(y=Ti(u))))):(P=h&~v,P!==0?y=Ti(P):A!==0?y=Ti(A):u||(u=h&~a,u!==0&&(y=Ti(u)))),y===0?0:o!==0&&o!==y&&(o&v)===0&&(v=y&-y,u=o&-o,v>=u||v===32&&(u&4194048)!==0)?o:y}function ti(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Vv(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hd(){var a=Zt;return Zt<<=1,(Zt&62914560)===0&&(Zt=4194304),a}function Ii(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function _o(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Lv(a,o,u,h,y,v){var A=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var P=a.entanglements,H=a.expirationTimes,W=a.hiddenUpdates;for(u=A&~u;0<u;){var ae=31-Ht(u),ce=1<<ae;P[ae]=0,H[ae]=-1;var J=W[ae];if(J!==null)for(W[ae]=null,ae=0;ae<J.length;ae++){var re=J[ae];re!==null&&(re.lane&=-536870913)}u&=~ce}h!==0&&xo(a,h,0),v!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=v&~(A&~o))}function xo(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Ht(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|u&261930}function Hc(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var h=31-Ht(u),y=1<<h;y&o|a[h]&o&&(a[h]|=o),u&=~y}}function Kc(a,o){var u=o&-o;return u=(u&42)!==0?1:wo(u),(u&(a.suspendedLanes|o))!==0?0:u}function wo(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ca(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Kd(){var a=ue.p;return a!==0?a:(a=window.event,a===void 0?32:mI(a.type))}function ni(a,o){var u=ue.p;try{return ue.p=a,o()}finally{ue.p=u}}var ri=Math.random().toString(36).slice(2),Jt="__reactFiber$"+ri,xn="__reactProps$"+ri,Oi="__reactContainer$"+ri,zl="__reactEvents$"+ri,zv="__reactListeners$"+ri,Gd="__reactHandles$"+ri,Yd="__reactResources$"+ri,Ci="__reactMarker$"+ri;function Bl(a){delete a[Jt],delete a[xn],delete a[zl],delete a[zv],delete a[Gd]}function Ri(a){var o=a[Jt];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Oi]||u[Jt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=Z2(a);a!==null;){if(u=a[Jt])return u;a=Z2(a)}return o}a=u,u=a.parentNode}return null}function Rr(a){if(a=a[Jt]||a[Oi]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function cr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Ni(a){var o=a[Yd];return o||(o=a[Yd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function en(a){a[Ci]=!0}var Gc=new Set,Yc={};function Pi(a,o){Di(a,o),Di(a+"Capture",o)}function Di(a,o){for(Yc[a]=o,a=0;a<o.length;a++)Gc.add(o[a])}var Qc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xc={},Wc={};function Qd(a){return Wt.call(Wc,a)?!0:Wt.call(Xc,a)?!1:Qc.test(a)?Wc[a]=!0:(Xc[a]=!0,!1)}function Ul(a,o,u){if(Qd(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function fr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function tn(a,o,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+h)}}function wn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function is(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Zc(a,o,u){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,v=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(A){u=""+A,v.call(this,A)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function ot(a){if(!a._valueTracker){var o=is(a)?"checked":"value";a._valueTracker=Zc(a,o,""+a[o])}}function Eo(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return a&&(h=is(a)?a.checked?"true":"false":a.value),a=h,a!==u?(o.setValue(a),!0):!1}function Mi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var So=/[\n"\\]/g;function Wn(a){return a.replace(So,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ql(a,o,u,h,y,v,A,P){a.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.type=A:a.removeAttribute("type"),o!=null?A==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+wn(o)):a.value!==""+wn(o)&&(a.value=""+wn(o)):A!=="submit"&&A!=="reset"||a.removeAttribute("value"),o!=null?Jc(a,A,wn(o)):u!=null?Jc(a,A,wn(u)):h!=null&&a.removeAttribute("value"),y==null&&v!=null&&(a.defaultChecked=!!v),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.name=""+wn(P):a.removeAttribute("name")}function Xd(a,o,u,h,y,v,A,P){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null)){ot(a);return}u=u!=null?""+wn(u):"",o=o!=null?""+wn(o):u,P||o===a.value||(a.value=o),a.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=P?a.checked:!!h,a.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.name=A),ot(a)}function Jc(a,o,u){o==="number"&&Mi(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function as(a,o,u,h){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&h&&(a[u].defaultSelected=!0)}else{for(u=""+wn(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function Wd(a,o,u){if(o!=null&&(o=""+wn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+wn(u):""}function ss(a,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(Ce(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=wn(o),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h),ot(a)}function Zn(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Zd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ef(a,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,u):typeof u!="number"||u===0||Zd.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function tf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&u[y]!==h&&ef(a,y,h)}else for(var v in o)o.hasOwnProperty(v)&&ef(a,v,o[v])}function Fl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $l(a){return os.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ii(){}var nf=null;function Nr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ls=null,ji=null;function To(a){var o=Rr(a);if(o&&(a=o.stateNode)){var u=a[xn]||null;e:switch(a=o.stateNode,o.type){case"input":if(ql(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Wn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==a&&h.form===a.form){var y=h[xn]||null;if(!y)throw Error(r(90));ql(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===a.form&&Eo(h)}break e;case"textarea":Wd(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&as(a,!!u.multiple,o,!1)}}}var Hl=!1;function us(a,o,u){if(Hl)return a(o,u);Hl=!0;try{var h=a(o);return h}finally{if(Hl=!1,(ls!==null||ji!==null)&&(Km(),ls&&(o=ls,a=ji,ji=ls=null,To(o),a)))for(o=0;o<a.length;o++)To(a[o])}}function ai(a,o){var u=a.stateNode;if(u===null)return null;var h=u[xn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ao=!1;if(Pr)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{Ao=!1}var ki=null,rf=null,Io=null;function af(){if(Io)return Io;var a,o=rf,u=o.length,h,y="value"in ki?ki.value:ki.textContent,v=y.length;for(a=0;a<u&&o[a]===y[a];a++);var A=u-a;for(h=1;h<=A&&o[u-h]===y[v-h];h++);return Io=y.slice(a,1<h?1-h:void 0)}function Oo(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function fa(){return!0}function si(){return!1}function Rn(a){function o(u,h,y,v,A){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var P in a)a.hasOwnProperty(P)&&(u=a[P],this[P]=u?u(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?fa:si,this.isPropagationStopped=si,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),o}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Rn(ha),cs=p({},ha,{view:0,detail:0}),sf=Rn(cs),fs,Kl,Li,Gl=p({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Li&&(Li&&a.type==="mousemove"?(fs=a.screenX-Li.screenX,Kl=a.screenY-Li.screenY):Kl=fs=0,Li=a),fs)},movementY:function(a){return"movementY"in a?a.movementY:Kl}}),of=Rn(Gl),Co=p({},Gl,{dataTransfer:0}),em=Rn(Co),tm=p({},cs,{relatedTarget:0}),Ro=Rn(tm),lf=p({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),nm=Rn(lf),Yl=p({},ha,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),rm=Rn(Yl),im=p({},ha,{data:0}),zi=Rn(im),am={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=om[a])?!!o[a]:!1}function hs(){return lm}var Hn=p({},cs,{key:function(a){if(a.key){var o=am[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Oo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?sm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(a){return a.type==="keypress"?Oo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Oo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),um=Rn(Hn),cm=p({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),da=Rn(cm),g=p({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),x=Rn(g),O=p({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=Rn(O),Q=p({},Gl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=Rn(Q),ge=p({},ha,{newState:0,oldState:0}),Le=Rn(ge),Kt=[9,13,27,32],it=Pr&&"CompositionEvent"in window,It=null;Pr&&"documentMode"in document&&(It=document.documentMode);var Dr=Pr&&"TextEvent"in window&&!It,Bi=Pr&&(!it||It&&8<It&&11>=It),oi=" ",li=!1;function No(a,o){switch(a){case"keyup":return Kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ql(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Xl=!1;function RL(a,o){switch(a){case"compositionend":return Ql(o);case"keypress":return o.which!==32?null:(li=!0,oi);case"textInput":return a=o.data,a===oi&&li?null:a;default:return null}}function NL(a,o){if(Xl)return a==="compositionend"||!it&&No(a,o)?(a=af(),Io=rf=ki=null,Xl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Bi&&o.locale!=="ko"?null:o.data;default:return null}}var PL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tT(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!PL[a.type]:o==="textarea"}function nT(a,o,u,h){ls?ji?ji.push(h):ji=[h]:ls=h,o=Jm(o,"onChange"),0<o.length&&(u=new Vi("onChange","change",null,u,h),a.push({event:u,listeners:o}))}var uf=null,cf=null;function DL(a){L2(a,0)}function fm(a){var o=cr(a);if(Eo(o))return a}function rT(a,o){if(a==="change")return o}var iT=!1;if(Pr){var Bv;if(Pr){var Uv="oninput"in document;if(!Uv){var aT=document.createElement("div");aT.setAttribute("oninput","return;"),Uv=typeof aT.oninput=="function"}Bv=Uv}else Bv=!1;iT=Bv&&(!document.documentMode||9<document.documentMode)}function sT(){uf&&(uf.detachEvent("onpropertychange",oT),cf=uf=null)}function oT(a){if(a.propertyName==="value"&&fm(cf)){var o=[];nT(o,cf,a,Nr(a)),us(DL,o)}}function ML(a,o,u){a==="focusin"?(sT(),uf=o,cf=u,uf.attachEvent("onpropertychange",oT)):a==="focusout"&&sT()}function jL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return fm(cf)}function kL(a,o){if(a==="click")return fm(o)}function VL(a,o){if(a==="input"||a==="change")return fm(o)}function LL(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var hr=typeof Object.is=="function"?Object.is:LL;function ff(a,o){if(hr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!Wt.call(o,y)||!hr(a[y],o[y]))return!1}return!0}function lT(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function uT(a,o){var u=lT(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=o&&h>=o)return{node:u,offset:o-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=lT(u)}}function cT(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?cT(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function fT(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Mi(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Mi(a.document)}return o}function qv(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var zL=Pr&&"documentMode"in document&&11>=document.documentMode,Wl=null,Fv=null,hf=null,$v=!1;function hT(a,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;$v||Wl==null||Wl!==Mi(h)||(h=Wl,"selectionStart"in h&&qv(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),hf&&ff(hf,h)||(hf=h,h=Jm(Fv,"onSelect"),0<h.length&&(o=new Vi("onSelect","select",null,o,u),a.push({event:o,listeners:h}),o.target=Wl)))}function Po(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Zl={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionrun:Po("Transition","TransitionRun"),transitionstart:Po("Transition","TransitionStart"),transitioncancel:Po("Transition","TransitionCancel"),transitionend:Po("Transition","TransitionEnd")},Hv={},dT={};Pr&&(dT=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function Do(a){if(Hv[a])return Hv[a];if(!Zl[a])return a;var o=Zl[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in dT)return Hv[a]=o[u];return a}var mT=Do("animationend"),pT=Do("animationiteration"),gT=Do("animationstart"),BL=Do("transitionrun"),UL=Do("transitionstart"),qL=Do("transitioncancel"),yT=Do("transitionend"),vT=new Map,Kv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kv.push("scrollEnd");function ui(a,o){vT.set(a,o),Pi(o,[a])}var hm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Mr=[],Jl=0,Gv=0;function dm(){for(var a=Jl,o=Gv=Jl=0;o<a;){var u=Mr[o];Mr[o++]=null;var h=Mr[o];Mr[o++]=null;var y=Mr[o];Mr[o++]=null;var v=Mr[o];if(Mr[o++]=null,h!==null&&y!==null){var A=h.pending;A===null?y.next=y:(y.next=A.next,A.next=y),h.pending=y}v!==0&&bT(u,y,v)}}function mm(a,o,u,h){Mr[Jl++]=a,Mr[Jl++]=o,Mr[Jl++]=u,Mr[Jl++]=h,Gv|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Yv(a,o,u,h){return mm(a,o,u,h),pm(a)}function Mo(a,o){return mm(a,null,null,o),pm(a)}function bT(a,o,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var y=!1,v=a.return;v!==null;)v.childLanes|=u,h=v.alternate,h!==null&&(h.childLanes|=u),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(y=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,y&&o!==null&&(y=31-Ht(u),a=v.hiddenUpdates,h=a[y],h===null?a[y]=[o]:h.push(o),o.lane=u|536870912),v):null}function pm(a){if(50<Mf)throw Mf=0,rb=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var eu={};function FL(a,o,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(a,o,u,h){return new FL(a,o,u,h)}function Qv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ma(a,o){var u=a.alternate;return u===null?(u=dr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function _T(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function gm(a,o,u,h,y,v){var A=0;if(h=a,typeof a=="function")Qv(a)&&(A=1);else if(typeof a=="string")A=Y5(a,u,de.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case D:return a=dr(31,u,o,y),a.elementType=D,a.lanes=v,a;case E:return jo(u.children,y,v,o);case T:A=8,y|=24;break;case C:return a=dr(12,u,o,y|2),a.elementType=C,a.lanes=v,a;case B:return a=dr(13,u,o,y),a.elementType=B,a.lanes=v,a;case U:return a=dr(19,u,o,y),a.elementType=U,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case M:A=10;break e;case k:A=9;break e;case F:A=11;break e;case R:A=14;break e;case N:A=16,h=null;break e}A=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=dr(A,u,o,y),o.elementType=a,o.type=h,o.lanes=v,o}function jo(a,o,u,h){return a=dr(7,a,h,o),a.lanes=u,a}function Xv(a,o,u){return a=dr(6,a,null,o),a.lanes=u,a}function xT(a){var o=dr(18,null,null,0);return o.stateNode=a,o}function Wv(a,o,u){return o=dr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var wT=new WeakMap;function jr(a,o){if(typeof a=="object"&&a!==null){var u=wT.get(a);return u!==void 0?u:(o={value:a,source:o,stack:ts(o)},wT.set(a,o),o)}return{value:a,source:o,stack:ts(o)}}var tu=[],nu=0,ym=null,df=0,kr=[],Vr=0,ds=null,Ui=1,qi="";function pa(a,o){tu[nu++]=df,tu[nu++]=ym,ym=a,df=o}function ET(a,o,u){kr[Vr++]=Ui,kr[Vr++]=qi,kr[Vr++]=ds,ds=a;var h=Ui;a=qi;var y=32-Ht(h)-1;h&=~(1<<y),u+=1;var v=32-Ht(o)+y;if(30<v){var A=y-y%5;v=(h&(1<<A)-1).toString(32),h>>=A,y-=A,Ui=1<<32-Ht(o)+y|u<<y|h,qi=v+a}else Ui=1<<v|u<<y|h,qi=a}function Zv(a){a.return!==null&&(pa(a,1),ET(a,1,0))}function Jv(a){for(;a===ym;)ym=tu[--nu],tu[nu]=null,df=tu[--nu],tu[nu]=null;for(;a===ds;)ds=kr[--Vr],kr[Vr]=null,qi=kr[--Vr],kr[Vr]=null,Ui=kr[--Vr],kr[Vr]=null}function ST(a,o){kr[Vr++]=Ui,kr[Vr++]=qi,kr[Vr++]=ds,Ui=o.id,qi=o.overflow,ds=a}var Nn=null,St=null,Xe=!1,ms=null,Lr=!1,e0=Error(r(519));function ps(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mf(jr(o,a)),e0}function TT(a){var o=a.stateNode,u=a.type,h=a.memoizedProps;switch(o[Jt]=a,o[xn]=h,u){case"dialog":Ke("cancel",o),Ke("close",o);break;case"iframe":case"object":case"embed":Ke("load",o);break;case"video":case"audio":for(u=0;u<kf.length;u++)Ke(kf[u],o);break;case"source":Ke("error",o);break;case"img":case"image":case"link":Ke("error",o),Ke("load",o);break;case"details":Ke("toggle",o);break;case"input":Ke("invalid",o),Xd(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ke("invalid",o);break;case"textarea":Ke("invalid",o),ss(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||q2(o.textContent,u)?(h.popover!=null&&(Ke("beforetoggle",o),Ke("toggle",o)),h.onScroll!=null&&Ke("scroll",o),h.onScrollEnd!=null&&Ke("scrollend",o),h.onClick!=null&&(o.onclick=ii),o=!0):o=!1,o||ps(a,!0)}function AT(a){for(Nn=a.return;Nn;)switch(Nn.tag){case 5:case 31:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:Nn=Nn.return}}function ru(a){if(a!==Nn)return!1;if(!Xe)return AT(a),Xe=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||vb(a.type,a.memoizedProps)),u=!u),u&&St&&ps(a),AT(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));St=W2(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));St=W2(a)}else o===27?(o=St,Cs(a.type)?(a=Eb,Eb=null,St=a):St=o):St=Nn?Br(a.stateNode.nextSibling):null;return!0}function ko(){St=Nn=null,Xe=!1}function t0(){var a=ms;return a!==null&&(nr===null?nr=a:nr.push.apply(nr,a),ms=null),a}function mf(a){ms===null?ms=[a]:ms.push(a)}var n0=$(null),Vo=null,ga=null;function gs(a,o,u){fe(n0,o._currentValue),o._currentValue=u}function ya(a){a._currentValue=n0.current,ee(n0)}function r0(a,o,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===u)break;a=a.return}}function i0(a,o,u,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var v=y.dependencies;if(v!==null){var A=y.child;v=v.firstContext;e:for(;v!==null;){var P=v;v=y;for(var H=0;H<o.length;H++)if(P.context===o[H]){v.lanes|=u,P=v.alternate,P!==null&&(P.lanes|=u),r0(v.return,u,a),h||(A=null);break e}v=P.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(r(341));A.lanes|=u,v=A.alternate,v!==null&&(v.lanes|=u),r0(A,u,a),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===a){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function iu(a,o,u,h){a=null;for(var y=o,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var P=y.type;hr(y.pendingProps.value,A.value)||(a!==null?a.push(P):a=[P])}}else if(y===Se.current){if(A=y.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Uf):a=[Uf])}y=y.return}a!==null&&i0(o,a,u,h),o.flags|=262144}function vm(a){for(a=a.firstContext;a!==null;){if(!hr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Lo(a){Vo=a,ga=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Pn(a){return IT(Vo,a)}function bm(a,o){return Vo===null&&Lo(a),IT(a,o)}function IT(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ga===null){if(a===null)throw Error(r(308));ga=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ga=ga.next=o;return u}var $L=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},HL=t.unstable_scheduleCallback,KL=t.unstable_NormalPriority,nn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function a0(){return{controller:new $L,data:new Map,refCount:0}}function pf(a){a.refCount--,a.refCount===0&&HL(KL,function(){a.controller.abort()})}var gf=null,s0=0,au=0,su=null;function GL(a,o){if(gf===null){var u=gf=[];s0=0,au=ub(),su={status:"pending",value:void 0,then:function(h){u.push(h)}}}return s0++,o.then(OT,OT),o}function OT(){if(--s0===0&&gf!==null){su!==null&&(su.status="fulfilled");var a=gf;gf=null,au=0,su=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function YL(a,o){var u=[],h={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),h}var CT=Z.S;Z.S=function(a,o){h2=$n(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&GL(a,o),CT!==null&&CT(a,o)};var zo=$(null);function o0(){var a=zo.current;return a!==null?a:bt.pooledCache}function _m(a,o){o===null?fe(zo,zo.current):fe(zo,o.pool)}function RT(){var a=o0();return a===null?null:{parent:nn._currentValue,pool:a}}var ou=Error(r(460)),l0=Error(r(474)),xm=Error(r(542)),wm={then:function(){}};function NT(a){return a=a.status,a==="fulfilled"||a==="rejected"}function PT(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(ii,ii),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,MT(a),a;default:if(typeof o.status=="string")o.then(ii,ii);else{if(a=bt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,MT(a),a}throw Uo=o,ou}}function Bo(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Uo=u,ou):u}}var Uo=null;function DT(){if(Uo===null)throw Error(r(459));var a=Uo;return Uo=null,a}function MT(a){if(a===ou||a===xm)throw Error(r(483))}var lu=null,yf=0;function Em(a){var o=yf;return yf+=1,lu===null&&(lu=[]),PT(lu,a,o)}function vf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Sm(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function jT(a){function o(G,K){if(a){var X=G.deletions;X===null?(G.deletions=[K],G.flags|=16):X.push(K)}}function u(G,K){if(!a)return null;for(;K!==null;)o(G,K),K=K.sibling;return null}function h(G){for(var K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function y(G,K){return G=ma(G,K),G.index=0,G.sibling=null,G}function v(G,K,X){return G.index=X,a?(X=G.alternate,X!==null?(X=X.index,X<K?(G.flags|=67108866,K):X):(G.flags|=67108866,K)):(G.flags|=1048576,K)}function A(G){return a&&G.alternate===null&&(G.flags|=67108866),G}function P(G,K,X,le){return K===null||K.tag!==6?(K=Xv(X,G.mode,le),K.return=G,K):(K=y(K,X),K.return=G,K)}function H(G,K,X,le){var Re=X.type;return Re===E?ae(G,K,X.props.children,le,X.key):K!==null&&(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===N&&Bo(Re)===K.type)?(K=y(K,X.props),vf(K,X),K.return=G,K):(K=gm(X.type,X.key,X.props,null,G.mode,le),vf(K,X),K.return=G,K)}function W(G,K,X,le){return K===null||K.tag!==4||K.stateNode.containerInfo!==X.containerInfo||K.stateNode.implementation!==X.implementation?(K=Wv(X,G.mode,le),K.return=G,K):(K=y(K,X.children||[]),K.return=G,K)}function ae(G,K,X,le,Re){return K===null||K.tag!==7?(K=jo(X,G.mode,le,Re),K.return=G,K):(K=y(K,X),K.return=G,K)}function ce(G,K,X){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Xv(""+K,G.mode,X),K.return=G,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return X=gm(K.type,K.key,K.props,null,G.mode,X),vf(X,K),X.return=G,X;case S:return K=Wv(K,G.mode,X),K.return=G,K;case N:return K=Bo(K),ce(G,K,X)}if(Ce(K)||L(K))return K=jo(K,G.mode,X,null),K.return=G,K;if(typeof K.then=="function")return ce(G,Em(K),X);if(K.$$typeof===M)return ce(G,bm(G,K),X);Sm(G,K)}return null}function J(G,K,X,le){var Re=K!==null?K.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Re!==null?null:P(G,K,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return X.key===Re?H(G,K,X,le):null;case S:return X.key===Re?W(G,K,X,le):null;case N:return X=Bo(X),J(G,K,X,le)}if(Ce(X)||L(X))return Re!==null?null:ae(G,K,X,le,null);if(typeof X.then=="function")return J(G,K,Em(X),le);if(X.$$typeof===M)return J(G,K,bm(G,X),le);Sm(G,X)}return null}function re(G,K,X,le,Re){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return G=G.get(X)||null,P(K,G,""+le,Re);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case _:return G=G.get(le.key===null?X:le.key)||null,H(K,G,le,Re);case S:return G=G.get(le.key===null?X:le.key)||null,W(K,G,le,Re);case N:return le=Bo(le),re(G,K,X,le,Re)}if(Ce(le)||L(le))return G=G.get(X)||null,ae(K,G,le,Re,null);if(typeof le.then=="function")return re(G,K,X,Em(le),Re);if(le.$$typeof===M)return re(G,K,X,bm(K,le),Re);Sm(K,le)}return null}function Ee(G,K,X,le){for(var Re=null,et=null,Ae=K,Be=K=0,Ye=null;Ae!==null&&Be<X.length;Be++){Ae.index>Be?(Ye=Ae,Ae=null):Ye=Ae.sibling;var tt=J(G,Ae,X[Be],le);if(tt===null){Ae===null&&(Ae=Ye);break}a&&Ae&&tt.alternate===null&&o(G,Ae),K=v(tt,K,Be),et===null?Re=tt:et.sibling=tt,et=tt,Ae=Ye}if(Be===X.length)return u(G,Ae),Xe&&pa(G,Be),Re;if(Ae===null){for(;Be<X.length;Be++)Ae=ce(G,X[Be],le),Ae!==null&&(K=v(Ae,K,Be),et===null?Re=Ae:et.sibling=Ae,et=Ae);return Xe&&pa(G,Be),Re}for(Ae=h(Ae);Be<X.length;Be++)Ye=re(Ae,G,Be,X[Be],le),Ye!==null&&(a&&Ye.alternate!==null&&Ae.delete(Ye.key===null?Be:Ye.key),K=v(Ye,K,Be),et===null?Re=Ye:et.sibling=Ye,et=Ye);return a&&Ae.forEach(function(Ms){return o(G,Ms)}),Xe&&pa(G,Be),Re}function De(G,K,X,le){if(X==null)throw Error(r(151));for(var Re=null,et=null,Ae=K,Be=K=0,Ye=null,tt=X.next();Ae!==null&&!tt.done;Be++,tt=X.next()){Ae.index>Be?(Ye=Ae,Ae=null):Ye=Ae.sibling;var Ms=J(G,Ae,tt.value,le);if(Ms===null){Ae===null&&(Ae=Ye);break}a&&Ae&&Ms.alternate===null&&o(G,Ae),K=v(Ms,K,Be),et===null?Re=Ms:et.sibling=Ms,et=Ms,Ae=Ye}if(tt.done)return u(G,Ae),Xe&&pa(G,Be),Re;if(Ae===null){for(;!tt.done;Be++,tt=X.next())tt=ce(G,tt.value,le),tt!==null&&(K=v(tt,K,Be),et===null?Re=tt:et.sibling=tt,et=tt);return Xe&&pa(G,Be),Re}for(Ae=h(Ae);!tt.done;Be++,tt=X.next())tt=re(Ae,G,Be,tt.value,le),tt!==null&&(a&&tt.alternate!==null&&Ae.delete(tt.key===null?Be:tt.key),K=v(tt,K,Be),et===null?Re=tt:et.sibling=tt,et=tt);return a&&Ae.forEach(function(az){return o(G,az)}),Xe&&pa(G,Be),Re}function gt(G,K,X,le){if(typeof X=="object"&&X!==null&&X.type===E&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case _:e:{for(var Re=X.key;K!==null;){if(K.key===Re){if(Re=X.type,Re===E){if(K.tag===7){u(G,K.sibling),le=y(K,X.props.children),le.return=G,G=le;break e}}else if(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===N&&Bo(Re)===K.type){u(G,K.sibling),le=y(K,X.props),vf(le,X),le.return=G,G=le;break e}u(G,K);break}else o(G,K);K=K.sibling}X.type===E?(le=jo(X.props.children,G.mode,le,X.key),le.return=G,G=le):(le=gm(X.type,X.key,X.props,null,G.mode,le),vf(le,X),le.return=G,G=le)}return A(G);case S:e:{for(Re=X.key;K!==null;){if(K.key===Re)if(K.tag===4&&K.stateNode.containerInfo===X.containerInfo&&K.stateNode.implementation===X.implementation){u(G,K.sibling),le=y(K,X.children||[]),le.return=G,G=le;break e}else{u(G,K);break}else o(G,K);K=K.sibling}le=Wv(X,G.mode,le),le.return=G,G=le}return A(G);case N:return X=Bo(X),gt(G,K,X,le)}if(Ce(X))return Ee(G,K,X,le);if(L(X)){if(Re=L(X),typeof Re!="function")throw Error(r(150));return X=Re.call(X),De(G,K,X,le)}if(typeof X.then=="function")return gt(G,K,Em(X),le);if(X.$$typeof===M)return gt(G,K,bm(G,X),le);Sm(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,K!==null&&K.tag===6?(u(G,K.sibling),le=y(K,X),le.return=G,G=le):(u(G,K),le=Xv(X,G.mode,le),le.return=G,G=le),A(G)):u(G,K)}return function(G,K,X,le){try{yf=0;var Re=gt(G,K,X,le);return lu=null,Re}catch(Ae){if(Ae===ou||Ae===xm)throw Ae;var et=dr(29,Ae,null,G.mode);return et.lanes=le,et.return=G,et}finally{}}}var qo=jT(!0),kT=jT(!1),ys=!1;function u0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function c0(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function vs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function bs(a,o,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(at&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=pm(a),bT(a,null,u),o}return mm(a,h,o,u),pm(a)}function bf(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Hc(a,u)}}function f0(a,o){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?y=v=A:v=v.next=A,u=u.next}while(u!==null);v===null?y=v=o:v=v.next=o}else y=v=o;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var h0=!1;function _f(){if(h0){var a=su;if(a!==null)throw a}}function xf(a,o,u,h){h0=!1;var y=a.updateQueue;ys=!1;var v=y.firstBaseUpdate,A=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var H=P,W=H.next;H.next=null,A===null?v=W:A.next=W,A=H;var ae=a.alternate;ae!==null&&(ae=ae.updateQueue,P=ae.lastBaseUpdate,P!==A&&(P===null?ae.firstBaseUpdate=W:P.next=W,ae.lastBaseUpdate=H))}if(v!==null){var ce=y.baseState;A=0,ae=W=H=null,P=v;do{var J=P.lane&-536870913,re=J!==P.lane;if(re?(Ge&J)===J:(h&J)===J){J!==0&&J===au&&(h0=!0),ae!==null&&(ae=ae.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ee=a,De=P;J=o;var gt=u;switch(De.tag){case 1:if(Ee=De.payload,typeof Ee=="function"){ce=Ee.call(gt,ce,J);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=De.payload,J=typeof Ee=="function"?Ee.call(gt,ce,J):Ee,J==null)break e;ce=p({},ce,J);break e;case 2:ys=!0}}J=P.callback,J!==null&&(a.flags|=64,re&&(a.flags|=8192),re=y.callbacks,re===null?y.callbacks=[J]:re.push(J))}else re={lane:J,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ae===null?(W=ae=re,H=ce):ae=ae.next=re,A|=J;if(P=P.next,P===null){if(P=y.shared.pending,P===null)break;re=P,P=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);ae===null&&(H=ce),y.baseState=H,y.firstBaseUpdate=W,y.lastBaseUpdate=ae,v===null&&(y.shared.lanes=0),Ss|=A,a.lanes=A,a.memoizedState=ce}}function VT(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function LT(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)VT(u[a],o)}var uu=$(null),Tm=$(0);function zT(a,o){a=Aa,fe(Tm,a),fe(uu,o),Aa=a|o.baseLanes}function d0(){fe(Tm,Aa),fe(uu,uu.current)}function m0(){Aa=Tm.current,ee(uu),ee(Tm)}var mr=$(null),zr=null;function _s(a){var o=a.alternate;fe(Gt,Gt.current&1),fe(mr,a),zr===null&&(o===null||uu.current!==null||o.memoizedState!==null)&&(zr=a)}function p0(a){fe(Gt,Gt.current),fe(mr,a),zr===null&&(zr=a)}function BT(a){a.tag===22?(fe(Gt,Gt.current),fe(mr,a),zr===null&&(zr=a)):xs()}function xs(){fe(Gt,Gt.current),fe(mr,mr.current)}function pr(a){ee(mr),zr===a&&(zr=null),ee(Gt)}var Gt=$(0);function Am(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||xb(u)||wb(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var va=0,ze=null,mt=null,rn=null,Im=!1,cu=!1,Fo=!1,Om=0,wf=0,fu=null,QL=0;function kt(){throw Error(r(321))}function g0(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!hr(a[u],o[u]))return!1;return!0}function y0(a,o,u,h,y,v){return va=v,ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Z.H=a===null||a.memoizedState===null?EA:P0,Fo=!1,v=u(h,y),Fo=!1,cu&&(v=qT(o,u,h,y)),UT(a),v}function UT(a){Z.H=Tf;var o=mt!==null&&mt.next!==null;if(va=0,rn=mt=ze=null,Im=!1,wf=0,fu=null,o)throw Error(r(300));a===null||an||(a=a.dependencies,a!==null&&vm(a)&&(an=!0))}function qT(a,o,u,h){ze=a;var y=0;do{if(cu&&(fu=null),wf=0,cu=!1,25<=y)throw Error(r(301));if(y+=1,rn=mt=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Z.H=SA,v=o(u,h)}while(cu);return v}function XL(){var a=Z.H,o=a.useState()[0];return o=typeof o.then=="function"?Ef(o):o,a=a.useState()[0],(mt!==null?mt.memoizedState:null)!==a&&(ze.flags|=1024),o}function v0(){var a=Om!==0;return Om=0,a}function b0(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function _0(a){if(Im){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Im=!1}va=0,rn=mt=ze=null,cu=!1,wf=Om=0,fu=null}function Kn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?ze.memoizedState=rn=a:rn=rn.next=a,rn}function Yt(){if(mt===null){var a=ze.alternate;a=a!==null?a.memoizedState:null}else a=mt.next;var o=rn===null?ze.memoizedState:rn.next;if(o!==null)rn=o,mt=a;else{if(a===null)throw ze.alternate===null?Error(r(467)):Error(r(310));mt=a,a={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},rn===null?ze.memoizedState=rn=a:rn=rn.next=a}return rn}function Cm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ef(a){var o=wf;return wf+=1,fu===null&&(fu=[]),a=PT(fu,a,o),o=ze,(rn===null?o.memoizedState:rn.next)===null&&(o=o.alternate,Z.H=o===null||o.memoizedState===null?EA:P0),a}function Rm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ef(a);if(a.$$typeof===M)return Pn(a)}throw Error(r(438,String(a)))}function x0(a){var o=null,u=ze.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=ze.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Cm(),ze.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),h=0;h<a;h++)u[h]=z;return o.index++,u}function ba(a,o){return typeof o=="function"?o(a):o}function Nm(a){var o=Yt();return w0(o,mt,a)}function w0(a,o,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var y=a.baseQueue,v=h.pending;if(v!==null){if(y!==null){var A=y.next;y.next=v.next,v.next=A}o.baseQueue=y=v,h.pending=null}if(v=a.baseState,y===null)a.memoizedState=v;else{o=y.next;var P=A=null,H=null,W=o,ae=!1;do{var ce=W.lane&-536870913;if(ce!==W.lane?(Ge&ce)===ce:(va&ce)===ce){var J=W.revertLane;if(J===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ce===au&&(ae=!0);else if((va&J)===J){W=W.next,J===au&&(ae=!0);continue}else ce={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},H===null?(P=H=ce,A=v):H=H.next=ce,ze.lanes|=J,Ss|=J;ce=W.action,Fo&&u(v,ce),v=W.hasEagerState?W.eagerState:u(v,ce)}else J={lane:ce,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},H===null?(P=H=J,A=v):H=H.next=J,ze.lanes|=ce,Ss|=ce;W=W.next}while(W!==null&&W!==o);if(H===null?A=v:H.next=P,!hr(v,a.memoizedState)&&(an=!0,ae&&(u=su,u!==null)))throw u;a.memoizedState=v,a.baseState=A,a.baseQueue=H,h.lastRenderedState=v}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function E0(a){var o=Yt(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,y=u.pending,v=o.memoizedState;if(y!==null){u.pending=null;var A=y=y.next;do v=a(v,A.action),A=A.next;while(A!==y);hr(v,o.memoizedState)||(an=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,h]}function FT(a,o,u){var h=ze,y=Yt(),v=Xe;if(v){if(u===void 0)throw Error(r(407));u=u()}else u=o();var A=!hr((mt||y).memoizedState,u);if(A&&(y.memoizedState=u,an=!0),y=y.queue,A0(KT.bind(null,h,y,a),[a]),y.getSnapshot!==o||A||rn!==null&&rn.memoizedState.tag&1){if(h.flags|=2048,hu(9,{destroy:void 0},HT.bind(null,h,y,u,o),null),bt===null)throw Error(r(349));v||(va&127)!==0||$T(h,o,u)}return u}function $T(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=ze.updateQueue,o===null?(o=Cm(),ze.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function HT(a,o,u,h){o.value=u,o.getSnapshot=h,GT(o)&&YT(a)}function KT(a,o,u){return u(function(){GT(o)&&YT(a)})}function GT(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!hr(a,u)}catch{return!0}}function YT(a){var o=Mo(a,2);o!==null&&rr(o,a,2)}function S0(a){var o=Kn();if(typeof a=="function"){var u=a;if(a=u(),Fo){Cr(!0);try{u()}finally{Cr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:a},o}function QT(a,o,u,h){return a.baseState=u,w0(a,mt,typeof h=="function"?h:ba)}function WL(a,o,u,h,y){if(Mm(a))throw Error(r(485));if(a=o.action,a!==null){var v={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};Z.T!==null?u(!0):v.isTransition=!1,h(v),u=o.pending,u===null?(v.next=o.pending=v,XT(o,v)):(v.next=u.next,o.pending=u.next=v)}}function XT(a,o){var u=o.action,h=o.payload,y=a.state;if(o.isTransition){var v=Z.T,A={};Z.T=A;try{var P=u(y,h),H=Z.S;H!==null&&H(A,P),WT(a,o,P)}catch(W){T0(a,o,W)}finally{v!==null&&A.types!==null&&(v.types=A.types),Z.T=v}}else try{v=u(y,h),WT(a,o,v)}catch(W){T0(a,o,W)}}function WT(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){ZT(a,o,h)},function(h){return T0(a,o,h)}):ZT(a,o,u)}function ZT(a,o,u){o.status="fulfilled",o.value=u,JT(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,XT(a,u)))}function T0(a,o,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,JT(o),o=o.next;while(o!==h)}a.action=null}function JT(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function eA(a,o){return o}function tA(a,o){if(Xe){var u=bt.formState;if(u!==null){e:{var h=ze;if(Xe){if(St){t:{for(var y=St,v=Lr;y.nodeType!==8;){if(!v){y=null;break t}if(y=Br(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){St=Br(y.nextSibling),h=y.data==="F!";break e}}ps(h)}h=!1}h&&(o=u[0])}}return u=Kn(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eA,lastRenderedState:o},u.queue=h,u=_A.bind(null,ze,h),h.dispatch=u,h=S0(!1),v=N0.bind(null,ze,!1,h.queue),h=Kn(),y={state:o,dispatch:null,action:a,pending:null},h.queue=y,u=WL.bind(null,ze,y,v,u),y.dispatch=u,h.memoizedState=a,[o,u,!1]}function nA(a){var o=Yt();return rA(o,mt,a)}function rA(a,o,u){if(o=w0(a,o,eA)[0],a=Nm(ba)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Ef(o)}catch(A){throw A===ou?xm:A}else h=o;o=Yt();var y=o.queue,v=y.dispatch;return u!==o.memoizedState&&(ze.flags|=2048,hu(9,{destroy:void 0},ZL.bind(null,y,u),null)),[h,v,a]}function ZL(a,o){a.action=o}function iA(a){var o=Yt(),u=mt;if(u!==null)return rA(o,u,a);Yt(),o=o.memoizedState,u=Yt();var h=u.queue.dispatch;return u.memoizedState=a,[o,h,!1]}function hu(a,o,u,h){return a={tag:a,create:u,deps:h,inst:o,next:null},o=ze.updateQueue,o===null&&(o=Cm(),ze.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,o.lastEffect=a),a}function aA(){return Yt().memoizedState}function Pm(a,o,u,h){var y=Kn();ze.flags|=a,y.memoizedState=hu(1|o,{destroy:void 0},u,h===void 0?null:h)}function Dm(a,o,u,h){var y=Yt();h=h===void 0?null:h;var v=y.memoizedState.inst;mt!==null&&h!==null&&g0(h,mt.memoizedState.deps)?y.memoizedState=hu(o,v,u,h):(ze.flags|=a,y.memoizedState=hu(1|o,v,u,h))}function sA(a,o){Pm(8390656,8,a,o)}function A0(a,o){Dm(2048,8,a,o)}function JL(a){ze.flags|=4;var o=ze.updateQueue;if(o===null)o=Cm(),ze.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function oA(a){var o=Yt().memoizedState;return JL({ref:o,nextImpl:a}),function(){if((at&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function lA(a,o){return Dm(4,2,a,o)}function uA(a,o){return Dm(4,4,a,o)}function cA(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function fA(a,o,u){u=u!=null?u.concat([a]):null,Dm(4,4,cA.bind(null,o,a),u)}function I0(){}function hA(a,o){var u=Yt();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&g0(o,h[1])?h[0]:(u.memoizedState=[a,o],a)}function dA(a,o){var u=Yt();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&g0(o,h[1]))return h[0];if(h=a(),Fo){Cr(!0);try{a()}finally{Cr(!1)}}return u.memoizedState=[h,o],h}function O0(a,o,u){return u===void 0||(va&1073741824)!==0&&(Ge&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=m2(),ze.lanes|=a,Ss|=a,u)}function mA(a,o,u,h){return hr(u,o)?u:uu.current!==null?(a=O0(a,u,h),hr(a,o)||(an=!0),a):(va&42)===0||(va&1073741824)!==0&&(Ge&261930)===0?(an=!0,a.memoizedState=u):(a=m2(),ze.lanes|=a,Ss|=a,o)}function pA(a,o,u,h,y){var v=ue.p;ue.p=v!==0&&8>v?v:8;var A=Z.T,P={};Z.T=P,N0(a,!1,o,u);try{var H=y(),W=Z.S;if(W!==null&&W(P,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ae=YL(H,h);Sf(a,o,ae,vr(a))}else Sf(a,o,h,vr(a))}catch(ce){Sf(a,o,{then:function(){},status:"rejected",reason:ce},vr())}finally{ue.p=v,A!==null&&P.types!==null&&(A.types=P.types),Z.T=A}}function e5(){}function C0(a,o,u,h){if(a.tag!==5)throw Error(r(476));var y=gA(a).queue;pA(a,y,o,be,u===null?e5:function(){return yA(a),u(h)})}function gA(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:be},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function yA(a){var o=gA(a);o.next===null&&(o=a.alternate.memoizedState),Sf(a,o.next.queue,{},vr())}function R0(){return Pn(Uf)}function vA(){return Yt().memoizedState}function bA(){return Yt().memoizedState}function t5(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=vr();a=vs(u);var h=bs(o,a,u);h!==null&&(rr(h,o,u),bf(h,o,u)),o={cache:a0()},a.payload=o;return}o=o.return}}function n5(a,o,u){var h=vr();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Mm(a)?xA(o,u):(u=Yv(a,o,u,h),u!==null&&(rr(u,a,h),wA(u,o,h)))}function _A(a,o,u){var h=vr();Sf(a,o,u,h)}function Sf(a,o,u,h){var y={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Mm(a))xA(o,y);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var A=o.lastRenderedState,P=v(A,u);if(y.hasEagerState=!0,y.eagerState=P,hr(P,A))return mm(a,o,y,0),bt===null&&dm(),!1}catch{}finally{}if(u=Yv(a,o,y,h),u!==null)return rr(u,a,h),wA(u,o,h),!0}return!1}function N0(a,o,u,h){if(h={lane:2,revertLane:ub(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Mm(a)){if(o)throw Error(r(479))}else o=Yv(a,u,h,2),o!==null&&rr(o,a,2)}function Mm(a){var o=a.alternate;return a===ze||o!==null&&o===ze}function xA(a,o){cu=Im=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function wA(a,o,u){if((u&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Hc(a,u)}}var Tf={readContext:Pn,use:Rm,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};Tf.useEffectEvent=kt;var EA={readContext:Pn,use:Rm,useCallback:function(a,o){return Kn().memoizedState=[a,o===void 0?null:o],a},useContext:Pn,useEffect:sA,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Pm(4194308,4,cA.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Pm(4194308,4,a,o)},useInsertionEffect:function(a,o){Pm(4,2,a,o)},useMemo:function(a,o){var u=Kn();o=o===void 0?null:o;var h=a();if(Fo){Cr(!0);try{a()}finally{Cr(!1)}}return u.memoizedState=[h,o],h},useReducer:function(a,o,u){var h=Kn();if(u!==void 0){var y=u(o);if(Fo){Cr(!0);try{u(o)}finally{Cr(!1)}}}else y=o;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=n5.bind(null,ze,a),[h.memoizedState,a]},useRef:function(a){var o=Kn();return a={current:a},o.memoizedState=a},useState:function(a){a=S0(a);var o=a.queue,u=_A.bind(null,ze,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:I0,useDeferredValue:function(a,o){var u=Kn();return O0(u,a,o)},useTransition:function(){var a=S0(!1);return a=pA.bind(null,ze,a.queue,!0,!1),Kn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var h=ze,y=Kn();if(Xe){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),bt===null)throw Error(r(349));(Ge&127)!==0||$T(h,o,u)}y.memoizedState=u;var v={value:u,getSnapshot:o};return y.queue=v,sA(KT.bind(null,h,v,a),[a]),h.flags|=2048,hu(9,{destroy:void 0},HT.bind(null,h,v,u,o),null),u},useId:function(){var a=Kn(),o=bt.identifierPrefix;if(Xe){var u=qi,h=Ui;u=(h&~(1<<32-Ht(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Om++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=QL++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:R0,useFormState:tA,useActionState:tA,useOptimistic:function(a){var o=Kn();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=N0.bind(null,ze,!0,u),u.dispatch=o,[a,o]},useMemoCache:x0,useCacheRefresh:function(){return Kn().memoizedState=t5.bind(null,ze)},useEffectEvent:function(a){var o=Kn(),u={impl:a};return o.memoizedState=u,function(){if((at&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},P0={readContext:Pn,use:Rm,useCallback:hA,useContext:Pn,useEffect:A0,useImperativeHandle:fA,useInsertionEffect:lA,useLayoutEffect:uA,useMemo:dA,useReducer:Nm,useRef:aA,useState:function(){return Nm(ba)},useDebugValue:I0,useDeferredValue:function(a,o){var u=Yt();return mA(u,mt.memoizedState,a,o)},useTransition:function(){var a=Nm(ba)[0],o=Yt().memoizedState;return[typeof a=="boolean"?a:Ef(a),o]},useSyncExternalStore:FT,useId:vA,useHostTransitionStatus:R0,useFormState:nA,useActionState:nA,useOptimistic:function(a,o){var u=Yt();return QT(u,mt,a,o)},useMemoCache:x0,useCacheRefresh:bA};P0.useEffectEvent=oA;var SA={readContext:Pn,use:Rm,useCallback:hA,useContext:Pn,useEffect:A0,useImperativeHandle:fA,useInsertionEffect:lA,useLayoutEffect:uA,useMemo:dA,useReducer:E0,useRef:aA,useState:function(){return E0(ba)},useDebugValue:I0,useDeferredValue:function(a,o){var u=Yt();return mt===null?O0(u,a,o):mA(u,mt.memoizedState,a,o)},useTransition:function(){var a=E0(ba)[0],o=Yt().memoizedState;return[typeof a=="boolean"?a:Ef(a),o]},useSyncExternalStore:FT,useId:vA,useHostTransitionStatus:R0,useFormState:iA,useActionState:iA,useOptimistic:function(a,o){var u=Yt();return mt!==null?QT(u,mt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:x0,useCacheRefresh:bA};SA.useEffectEvent=oA;function D0(a,o,u,h){o=a.memoizedState,u=u(h,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var M0={enqueueSetState:function(a,o,u){a=a._reactInternals;var h=vr(),y=vs(h);y.payload=o,u!=null&&(y.callback=u),o=bs(a,y,h),o!==null&&(rr(o,a,h),bf(o,a,h))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var h=vr(),y=vs(h);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=bs(a,y,h),o!==null&&(rr(o,a,h),bf(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=vr(),h=vs(u);h.tag=2,o!=null&&(h.callback=o),o=bs(a,h,u),o!==null&&(rr(o,a,u),bf(o,a,u))}};function TA(a,o,u,h,y,v,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,v,A):o.prototype&&o.prototype.isPureReactComponent?!ff(u,h)||!ff(y,v):!0}function AA(a,o,u,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==a&&M0.enqueueReplaceState(o,o.state,null)}function $o(a,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function IA(a){hm(a)}function OA(a){console.error(a)}function CA(a){hm(a)}function jm(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function RA(a,o,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function j0(a,o,u){return u=vs(u),u.tag=3,u.payload={element:null},u.callback=function(){jm(a,o)},u}function NA(a){return a=vs(a),a.tag=3,a}function PA(a,o,u,h){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var v=h.value;a.payload=function(){return y(v)},a.callback=function(){RA(o,u,h)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){RA(o,u,h),typeof y!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var P=h.stack;this.componentDidCatch(h.value,{componentStack:P!==null?P:""})})}function r5(a,o,u,h,y){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&iu(o,u,y,!0),u=mr.current,u!==null){switch(u.tag){case 31:case 13:return zr===null?Gm():u.alternate===null&&Vt===0&&(Vt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,h===wm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),sb(a,h,y)),!1;case 22:return u.flags|=65536,h===wm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),sb(a,h,y)),!1}throw Error(r(435,u.tag))}return sb(a,h,y),Gm(),!1}if(Xe)return o=mr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==e0&&(a=Error(r(422),{cause:h}),mf(jr(a,u)))):(h!==e0&&(o=Error(r(423),{cause:h}),mf(jr(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=jr(h,u),y=j0(a.stateNode,h,y),f0(a,y),Vt!==4&&(Vt=2)),!1;var v=Error(r(520),{cause:h});if(v=jr(v,u),Df===null?Df=[v]:Df.push(v),Vt!==4&&(Vt=2),o===null)return!0;h=jr(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=j0(u.stateNode,h,a),f0(u,a),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ts===null||!Ts.has(v))))return u.flags|=65536,y&=-y,u.lanes|=y,y=NA(y),PA(y,a,u,h),f0(u,y),!1}u=u.return}while(u!==null);return!1}var k0=Error(r(461)),an=!1;function Dn(a,o,u,h){o.child=a===null?kT(o,null,u,h):qo(o,a.child,u,h)}function DA(a,o,u,h,y){u=u.render;var v=o.ref;if("ref"in h){var A={};for(var P in h)P!=="ref"&&(A[P]=h[P])}else A=h;return Lo(o),h=y0(a,o,u,A,v,y),P=v0(),a!==null&&!an?(b0(a,o,y),_a(a,o,y)):(Xe&&P&&Zv(o),o.flags|=1,Dn(a,o,h,y),o.child)}function MA(a,o,u,h,y){if(a===null){var v=u.type;return typeof v=="function"&&!Qv(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,jA(a,o,v,h,y)):(a=gm(u.type,null,h,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(v=a.child,!$0(a,y)){var A=v.memoizedProps;if(u=u.compare,u=u!==null?u:ff,u(A,h)&&a.ref===o.ref)return _a(a,o,y)}return o.flags|=1,a=ma(v,h),a.ref=o.ref,a.return=o,o.child=a}function jA(a,o,u,h,y){if(a!==null){var v=a.memoizedProps;if(ff(v,h)&&a.ref===o.ref)if(an=!1,o.pendingProps=h=v,$0(a,y))(a.flags&131072)!==0&&(an=!0);else return o.lanes=a.lanes,_a(a,o,y)}return V0(a,o,u,h,y)}function kA(a,o,u,h){var y=h.children,v=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(v=v!==null?v.baseLanes|u:u,a!==null){for(h=o.child=a.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~v}else h=0,o.child=null;return VA(a,o,v,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&_m(o,v!==null?v.cachePool:null),v!==null?zT(o,v):d0(),BT(o);else return h=o.lanes=536870912,VA(a,o,v!==null?v.baseLanes|u:u,u,h)}else v!==null?(_m(o,v.cachePool),zT(o,v),xs(),o.memoizedState=null):(a!==null&&_m(o,null),d0(),xs());return Dn(a,o,y,u),o.child}function Af(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function VA(a,o,u,h,y){var v=o0();return v=v===null?null:{parent:nn._currentValue,pool:v},o.memoizedState={baseLanes:u,cachePool:v},a!==null&&_m(o,null),d0(),BT(o),a!==null&&iu(a,o,h,!0),o.childLanes=y,null}function km(a,o){return o=Lm({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function LA(a,o,u){return qo(o,a.child,null,u),a=km(o,o.pendingProps),a.flags|=2,pr(o),o.memoizedState=null,a}function i5(a,o,u){var h=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Xe){if(h.mode==="hidden")return a=km(o,h),o.lanes=536870912,Af(null,a);if(p0(o),(a=St)?(a=X2(a,Lr),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ds!==null?{id:Ui,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},u=xT(a),u.return=o,o.child=u,Nn=o,St=null)):a=null,a===null)throw ps(o);return o.lanes=536870912,null}return km(o,h)}var v=a.memoizedState;if(v!==null){var A=v.dehydrated;if(p0(o),y)if(o.flags&256)o.flags&=-257,o=LA(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(an||iu(a,o,u,!1),y=(u&a.childLanes)!==0,an||y){if(h=bt,h!==null&&(A=Kc(h,u),A!==0&&A!==v.retryLane))throw v.retryLane=A,Mo(a,A),rr(h,a,A),k0;Gm(),o=LA(a,o,u)}else a=v.treeContext,St=Br(A.nextSibling),Nn=o,Xe=!0,ms=null,Lr=!1,a!==null&&ST(o,a),o=km(o,h),o.flags|=4096;return o}return a=ma(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Vm(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function V0(a,o,u,h,y){return Lo(o),u=y0(a,o,u,h,void 0,y),h=v0(),a!==null&&!an?(b0(a,o,y),_a(a,o,y)):(Xe&&h&&Zv(o),o.flags|=1,Dn(a,o,u,y),o.child)}function zA(a,o,u,h,y,v){return Lo(o),o.updateQueue=null,u=qT(o,h,u,y),UT(a),h=v0(),a!==null&&!an?(b0(a,o,v),_a(a,o,v)):(Xe&&h&&Zv(o),o.flags|=1,Dn(a,o,u,v),o.child)}function BA(a,o,u,h,y){if(Lo(o),o.stateNode===null){var v=eu,A=u.contextType;typeof A=="object"&&A!==null&&(v=Pn(A)),v=new u(h,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=M0,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=h,v.state=o.memoizedState,v.refs={},u0(o),A=u.contextType,v.context=typeof A=="object"&&A!==null?Pn(A):eu,v.state=o.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(D0(o,u,A,h),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&M0.enqueueReplaceState(v,v.state,null),xf(o,h,v,y),_f(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){v=o.stateNode;var P=o.memoizedProps,H=$o(u,P);v.props=H;var W=v.context,ae=u.contextType;A=eu,typeof ae=="object"&&ae!==null&&(A=Pn(ae));var ce=u.getDerivedStateFromProps;ae=typeof ce=="function"||typeof v.getSnapshotBeforeUpdate=="function",P=o.pendingProps!==P,ae||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(P||W!==A)&&AA(o,v,h,A),ys=!1;var J=o.memoizedState;v.state=J,xf(o,h,v,y),_f(),W=o.memoizedState,P||J!==W||ys?(typeof ce=="function"&&(D0(o,u,ce,h),W=o.memoizedState),(H=ys||TA(o,u,H,h,J,W,A))?(ae||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=W),v.props=h,v.state=W,v.context=A,h=H):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{v=o.stateNode,c0(a,o),A=o.memoizedProps,ae=$o(u,A),v.props=ae,ce=o.pendingProps,J=v.context,W=u.contextType,H=eu,typeof W=="object"&&W!==null&&(H=Pn(W)),P=u.getDerivedStateFromProps,(W=typeof P=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==ce||J!==H)&&AA(o,v,h,H),ys=!1,J=o.memoizedState,v.state=J,xf(o,h,v,y),_f();var re=o.memoizedState;A!==ce||J!==re||ys||a!==null&&a.dependencies!==null&&vm(a.dependencies)?(typeof P=="function"&&(D0(o,u,P,h),re=o.memoizedState),(ae=ys||TA(o,u,ae,h,J,re,H)||a!==null&&a.dependencies!==null&&vm(a.dependencies))?(W||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,re,H),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,re,H)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===a.memoizedProps&&J===a.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&J===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=re),v.props=h,v.state=re,v.context=H,h=ae):(typeof v.componentDidUpdate!="function"||A===a.memoizedProps&&J===a.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&J===a.memoizedState||(o.flags|=1024),h=!1)}return v=h,Vm(a,o),h=(o.flags&128)!==0,v||h?(v=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,a!==null&&h?(o.child=qo(o,a.child,null,y),o.child=qo(o,null,u,y)):Dn(a,o,u,y),o.memoizedState=v.state,a=o.child):a=_a(a,o,y),a}function UA(a,o,u,h){return ko(),o.flags|=256,Dn(a,o,u,h),o.child}var L0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function z0(a){return{baseLanes:a,cachePool:RT()}}function B0(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=yr),a}function qA(a,o,u){var h=o.pendingProps,y=!1,v=(o.flags&128)!==0,A;if((A=v)||(A=a!==null&&a.memoizedState===null?!1:(Gt.current&2)!==0),A&&(y=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,a===null){if(Xe){if(y?_s(o):xs(),(a=St)?(a=X2(a,Lr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ds!==null?{id:Ui,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},u=xT(a),u.return=o,o.child=u,Nn=o,St=null)):a=null,a===null)throw ps(o);return wb(a)?o.lanes=32:o.lanes=536870912,null}var P=h.children;return h=h.fallback,y?(xs(),y=o.mode,P=Lm({mode:"hidden",children:P},y),h=jo(h,y,u,null),P.return=o,h.return=o,P.sibling=h,o.child=P,h=o.child,h.memoizedState=z0(u),h.childLanes=B0(a,A,u),o.memoizedState=L0,Af(null,h)):(_s(o),U0(o,P))}var H=a.memoizedState;if(H!==null&&(P=H.dehydrated,P!==null)){if(v)o.flags&256?(_s(o),o.flags&=-257,o=q0(a,o,u)):o.memoizedState!==null?(xs(),o.child=a.child,o.flags|=128,o=null):(xs(),P=h.fallback,y=o.mode,h=Lm({mode:"visible",children:h.children},y),P=jo(P,y,u,null),P.flags|=2,h.return=o,P.return=o,h.sibling=P,o.child=h,qo(o,a.child,null,u),h=o.child,h.memoizedState=z0(u),h.childLanes=B0(a,A,u),o.memoizedState=L0,o=Af(null,h));else if(_s(o),wb(P)){if(A=P.nextSibling&&P.nextSibling.dataset,A)var W=A.dgst;A=W,h=Error(r(419)),h.stack="",h.digest=A,mf({value:h,source:null,stack:null}),o=q0(a,o,u)}else if(an||iu(a,o,u,!1),A=(u&a.childLanes)!==0,an||A){if(A=bt,A!==null&&(h=Kc(A,u),h!==0&&h!==H.retryLane))throw H.retryLane=h,Mo(a,h),rr(A,a,h),k0;xb(P)||Gm(),o=q0(a,o,u)}else xb(P)?(o.flags|=192,o.child=a.child,o=null):(a=H.treeContext,St=Br(P.nextSibling),Nn=o,Xe=!0,ms=null,Lr=!1,a!==null&&ST(o,a),o=U0(o,h.children),o.flags|=4096);return o}return y?(xs(),P=h.fallback,y=o.mode,H=a.child,W=H.sibling,h=ma(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,W!==null?P=ma(W,P):(P=jo(P,y,u,null),P.flags|=2),P.return=o,h.return=o,h.sibling=P,o.child=h,Af(null,h),h=o.child,P=a.child.memoizedState,P===null?P=z0(u):(y=P.cachePool,y!==null?(H=nn._currentValue,y=y.parent!==H?{parent:H,pool:H}:y):y=RT(),P={baseLanes:P.baseLanes|u,cachePool:y}),h.memoizedState=P,h.childLanes=B0(a,A,u),o.memoizedState=L0,Af(a.child,h)):(_s(o),u=a.child,a=u.sibling,u=ma(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,a!==null&&(A=o.deletions,A===null?(o.deletions=[a],o.flags|=16):A.push(a)),o.child=u,o.memoizedState=null,u)}function U0(a,o){return o=Lm({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Lm(a,o){return a=dr(22,a,null,o),a.lanes=0,a}function q0(a,o,u){return qo(o,a.child,null,u),a=U0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function FA(a,o,u){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),r0(a.return,o,u)}function F0(a,o,u,h,y,v){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y,treeForkCount:v}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=u,A.tailMode=y,A.treeForkCount=v)}function $A(a,o,u){var h=o.pendingProps,y=h.revealOrder,v=h.tail;h=h.children;var A=Gt.current,P=(A&2)!==0;if(P?(A=A&1|2,o.flags|=128):A&=1,fe(Gt,A),Dn(a,o,h,u),h=Xe?df:0,!P&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&FA(a,u,o);else if(a.tag===19)FA(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&Am(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),F0(o,!1,y,u,v,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Am(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}F0(o,!0,u,null,v,h);break;case"together":F0(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function _a(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Ss|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(iu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=ma(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ma(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function $0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&vm(a)))}function a5(a,o,u){switch(o.tag){case 3:Et(o,o.stateNode.containerInfo),gs(o,nn,a.memoizedState.cache),ko();break;case 27:case 5:ke(o);break;case 4:Et(o,o.stateNode.containerInfo);break;case 10:gs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,p0(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(_s(o),o.flags|=128,null):(u&o.child.childLanes)!==0?qA(a,o,u):(_s(o),a=_a(a,o,u),a!==null?a.sibling:null);_s(o);break;case 19:var y=(a.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(iu(a,o,u,!1),h=(u&o.childLanes)!==0),y){if(h)return $A(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),fe(Gt,Gt.current),h)break;return null;case 22:return o.lanes=0,kA(a,o,u,o.pendingProps);case 24:gs(o,nn,a.memoizedState.cache)}return _a(a,o,u)}function HA(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)an=!0;else{if(!$0(a,u)&&(o.flags&128)===0)return an=!1,a5(a,o,u);an=(a.flags&131072)!==0}else an=!1,Xe&&(o.flags&1048576)!==0&&ET(o,df,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=Bo(o.elementType),o.type=a,typeof a=="function")Qv(a)?(h=$o(a,h),o.tag=1,o=BA(null,o,a,h,u)):(o.tag=0,o=V0(null,o,a,h,u));else{if(a!=null){var y=a.$$typeof;if(y===F){o.tag=11,o=DA(null,o,a,h,u);break e}else if(y===R){o.tag=14,o=MA(null,o,a,h,u);break e}}throw o=ye(a)||a,Error(r(306,o,""))}}return o;case 0:return V0(a,o,o.type,o.pendingProps,u);case 1:return h=o.type,y=$o(h,o.pendingProps),BA(a,o,h,y,u);case 3:e:{if(Et(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var v=o.memoizedState;y=v.element,c0(a,o),xf(o,h,null,u);var A=o.memoizedState;if(h=A.cache,gs(o,nn,h),h!==v.cache&&i0(o,[nn],u,!0),_f(),h=A.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=UA(a,o,h,u);break e}else if(h!==y){y=jr(Error(r(424)),o),mf(y),o=UA(a,o,h,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(St=Br(a.firstChild),Nn=o,Xe=!0,ms=null,Lr=!0,u=kT(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ko(),h===y){o=_a(a,o,u);break e}Dn(a,o,h,u)}o=o.child}return o;case 26:return Vm(a,o),a===null?(u=nI(o.type,null,o.pendingProps,null))?o.memoizedState=u:Xe||(u=o.type,a=o.pendingProps,h=ep(Pe.current).createElement(u),h[Jt]=o,h[xn]=a,Mn(h,u,a),en(h),o.stateNode=h):o.memoizedState=nI(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return ke(o),a===null&&Xe&&(h=o.stateNode=J2(o.type,o.pendingProps,Pe.current),Nn=o,Lr=!0,y=St,Cs(o.type)?(Eb=y,St=Br(h.firstChild)):St=y),Dn(a,o,o.pendingProps.children,u),Vm(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Xe&&((y=h=St)&&(h=j5(h,o.type,o.pendingProps,Lr),h!==null?(o.stateNode=h,Nn=o,St=Br(h.firstChild),Lr=!1,y=!0):y=!1),y||ps(o)),ke(o),y=o.type,v=o.pendingProps,A=a!==null?a.memoizedProps:null,h=v.children,vb(y,v)?h=null:A!==null&&vb(y,A)&&(o.flags|=32),o.memoizedState!==null&&(y=y0(a,o,XL,null,null,u),Uf._currentValue=y),Vm(a,o),Dn(a,o,h,u),o.child;case 6:return a===null&&Xe&&((a=u=St)&&(u=k5(u,o.pendingProps,Lr),u!==null?(o.stateNode=u,Nn=o,St=null,a=!0):a=!1),a||ps(o)),null;case 13:return qA(a,o,u);case 4:return Et(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=qo(o,null,h,u):Dn(a,o,h,u),o.child;case 11:return DA(a,o,o.type,o.pendingProps,u);case 7:return Dn(a,o,o.pendingProps,u),o.child;case 8:return Dn(a,o,o.pendingProps.children,u),o.child;case 12:return Dn(a,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,gs(o,o.type,h.value),Dn(a,o,h.children,u),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,Lo(o),y=Pn(y),h=h(y),o.flags|=1,Dn(a,o,h,u),o.child;case 14:return MA(a,o,o.type,o.pendingProps,u);case 15:return jA(a,o,o.type,o.pendingProps,u);case 19:return $A(a,o,u);case 31:return i5(a,o,u);case 22:return kA(a,o,u,o.pendingProps);case 24:return Lo(o),h=Pn(nn),a===null?(y=o0(),y===null&&(y=bt,v=a0(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=u),y=v),o.memoizedState={parent:h,cache:y},u0(o),gs(o,nn,y)):((a.lanes&u)!==0&&(c0(a,o),xf(o,null,null,u),_f()),y=a.memoizedState,v=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),gs(o,nn,h)):(h=v.cache,gs(o,nn,h),h!==y.cache&&i0(o,[nn],u,!0))),Dn(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function xa(a){a.flags|=4}function H0(a,o,u,h,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(v2())a.flags|=8192;else throw Uo=wm,l0}else a.flags&=-16777217}function KA(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!oI(o))if(v2())a.flags|=8192;else throw Uo=wm,l0}function zm(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Hd():536870912,a.lanes|=o,gu|=o)}function If(a,o){if(!Xe)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Tt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=u,o}function s5(a,o,u){var h=o.pendingProps;switch(Jv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(o),null;case 1:return Tt(o),null;case 3:return u=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ya(nn),oe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(ru(o)?xa(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,t0())),Tt(o),null;case 26:var y=o.type,v=o.memoizedState;return a===null?(xa(o),v!==null?(Tt(o),KA(o,v)):(Tt(o),H0(o,y,null,h,u))):v?v!==a.memoizedState?(xa(o),Tt(o),KA(o,v)):(Tt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&xa(o),Tt(o),H0(o,y,a,h,u)),null;case 27:if(qe(o),u=Pe.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&xa(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Tt(o),null}a=de.current,ru(o)?TT(o):(a=J2(y,h,u),o.stateNode=a,xa(o))}return Tt(o),null;case 5:if(qe(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&xa(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Tt(o),null}if(v=de.current,ru(o))TT(o);else{var A=ep(Pe.current);switch(v){case 1:v=A.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=A.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=A.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?v.multiple=!0:h.size&&(v.size=h.size);break;default:v=typeof h.is=="string"?A.createElement(y,{is:h.is}):A.createElement(y)}}v[Jt]=o,v[xn]=h;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)v.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=v;e:switch(Mn(v,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&xa(o)}}return Tt(o),H0(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&xa(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=Pe.current,ru(o)){if(a=o.stateNode,u=o.memoizedProps,h=null,y=Nn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[Jt]=o,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||q2(a.nodeValue,u)),a||ps(o,!0)}else a=ep(a).createTextNode(h),a[Jt]=o,o.stateNode=a}return Tt(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(h=ru(o),u!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Jt]=o}else ko(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Tt(o),a=!1}else u=t0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(pr(o),o):(pr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Tt(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=ru(o),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Jt]=o}else ko(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Tt(o),y=!1}else y=t0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(pr(o),o):(pr(o),null)}return pr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,a=a!==null&&a.memoizedState!==null,u&&(h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==y&&(h.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),zm(o,o.updateQueue),Tt(o),null);case 4:return oe(),a===null&&db(o.stateNode.containerInfo),Tt(o),null;case 10:return ya(o.type),Tt(o),null;case 19:if(ee(Gt),h=o.memoizedState,h===null)return Tt(o),null;if(y=(o.flags&128)!==0,v=h.rendering,v===null)if(y)If(h,!1);else{if(Vt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(v=Am(a),v!==null){for(o.flags|=128,If(h,!1),a=v.updateQueue,o.updateQueue=a,zm(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)_T(u,a),u=u.sibling;return fe(Gt,Gt.current&1|2),Xe&&pa(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&$n()>$m&&(o.flags|=128,y=!0,If(h,!1),o.lanes=4194304)}else{if(!y)if(a=Am(v),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,zm(o,a),If(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!Xe)return Tt(o),null}else 2*$n()-h.renderingStartTime>$m&&u!==536870912&&(o.flags|=128,y=!0,If(h,!1),o.lanes=4194304);h.isBackwards?(v.sibling=o.child,o.child=v):(a=h.last,a!==null?a.sibling=v:o.child=v,h.last=v)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=$n(),a.sibling=null,u=Gt.current,fe(Gt,y?u&1|2:u&1),Xe&&pa(o,h.treeForkCount),a):(Tt(o),null);case 22:case 23:return pr(o),m0(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(Tt(o),o.subtreeFlags&6&&(o.flags|=8192)):Tt(o),u=o.updateQueue,u!==null&&zm(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),a!==null&&ee(zo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ya(nn),Tt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function o5(a,o){switch(Jv(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ya(nn),oe(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return qe(o),null;case 31:if(o.memoizedState!==null){if(pr(o),o.alternate===null)throw Error(r(340));ko()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(pr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ko()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ee(Gt),null;case 4:return oe(),null;case 10:return ya(o.type),null;case 22:case 23:return pr(o),m0(),a!==null&&ee(zo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ya(nn),null;case 25:return null;default:return null}}function GA(a,o){switch(Jv(o),o.tag){case 3:ya(nn),oe();break;case 26:case 27:case 5:qe(o);break;case 4:oe();break;case 31:o.memoizedState!==null&&pr(o);break;case 13:pr(o);break;case 19:ee(Gt);break;case 10:ya(o.type);break;case 22:case 23:pr(o),m0(),a!==null&&ee(zo);break;case 24:ya(nn)}}function Of(a,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&a)===a){h=void 0;var v=u.create,A=u.inst;h=v(),A.destroy=h}u=u.next}while(u!==y)}}catch(P){ut(o,o.return,P)}}function ws(a,o,u){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var v=y.next;h=v;do{if((h.tag&a)===a){var A=h.inst,P=A.destroy;if(P!==void 0){A.destroy=void 0,y=o;var H=u,W=P;try{W()}catch(ae){ut(y,H,ae)}}}h=h.next}while(h!==v)}}catch(ae){ut(o,o.return,ae)}}function YA(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{LT(o,u)}catch(h){ut(a,a.return,h)}}}function QA(a,o,u){u.props=$o(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){ut(a,o,h)}}function Cf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(y){ut(a,o,y)}}function Fi(a,o){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(y){ut(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){ut(a,o,y)}else u.current=null}function XA(a){var o=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(y){ut(a,a.return,y)}}function K0(a,o,u){try{var h=a.stateNode;C5(h,a.type,u,o),h[xn]=o}catch(y){ut(a,a.return,y)}}function WA(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Cs(a.type)||a.tag===4}function G0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||WA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Cs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Y0(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ii));else if(h!==4&&(h===27&&Cs(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Y0(a,o,u),a=a.sibling;a!==null;)Y0(a,o,u),a=a.sibling}function Bm(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(h!==4&&(h===27&&Cs(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Bm(a,o,u),a=a.sibling;a!==null;)Bm(a,o,u),a=a.sibling}function ZA(a){var o=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Mn(o,h,u),o[Jt]=a,o[xn]=u}catch(v){ut(a,a.return,v)}}var wa=!1,sn=!1,Q0=!1,JA=typeof WeakSet=="function"?WeakSet:Set,En=null;function l5(a,o){if(a=a.containerInfo,gb=op,a=fT(a),qv(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var A=0,P=-1,H=-1,W=0,ae=0,ce=a,J=null;t:for(;;){for(var re;ce!==u||y!==0&&ce.nodeType!==3||(P=A+y),ce!==v||h!==0&&ce.nodeType!==3||(H=A+h),ce.nodeType===3&&(A+=ce.nodeValue.length),(re=ce.firstChild)!==null;)J=ce,ce=re;for(;;){if(ce===a)break t;if(J===u&&++W===y&&(P=A),J===v&&++ae===h&&(H=A),(re=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=re}u=P===-1||H===-1?null:{start:P,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(yb={focusedElem:a,selectionRange:u},op=!1,En=o;En!==null;)if(o=En,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,En=a;else for(;En!==null;){switch(o=En,v=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,u=o,y=v.memoizedProps,v=v.memoizedState,h=u.stateNode;try{var Ee=$o(u.type,y);a=h.getSnapshotBeforeUpdate(Ee,v),h.__reactInternalSnapshotBeforeUpdate=a}catch(De){ut(u,u.return,De)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)_b(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":_b(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,En=a;break}En=o.return}}function e2(a,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Sa(a,u),h&4&&Of(5,u);break;case 1:if(Sa(a,u),h&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(A){ut(u,u.return,A)}else{var y=$o(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(A){ut(u,u.return,A)}}h&64&&YA(u),h&512&&Cf(u,u.return);break;case 3:if(Sa(a,u),h&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{LT(a,o)}catch(A){ut(u,u.return,A)}}break;case 27:o===null&&h&4&&ZA(u);case 26:case 5:Sa(a,u),o===null&&h&4&&XA(u),h&512&&Cf(u,u.return);break;case 12:Sa(a,u);break;case 31:Sa(a,u),h&4&&r2(a,u);break;case 13:Sa(a,u),h&4&&i2(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=y5.bind(null,u),V5(a,u))));break;case 22:if(h=u.memoizedState!==null||wa,!h){o=o!==null&&o.memoizedState!==null||sn,y=wa;var v=sn;wa=h,(sn=o)&&!v?Ta(a,u,(u.subtreeFlags&8772)!==0):Sa(a,u),wa=y,sn=v}break;case 30:break;default:Sa(a,u)}}function t2(a){var o=a.alternate;o!==null&&(a.alternate=null,t2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Bl(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ot=null,Jn=!1;function Ea(a,o,u){for(u=u.child;u!==null;)n2(a,o,u),u=u.sibling}function n2(a,o,u){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(ei,u)}catch{}switch(u.tag){case 26:sn||Fi(u,o),Ea(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:sn||Fi(u,o);var h=Ot,y=Jn;Cs(u.type)&&(Ot=u.stateNode,Jn=!1),Ea(a,o,u),Lf(u.stateNode),Ot=h,Jn=y;break;case 5:sn||Fi(u,o);case 6:if(h=Ot,y=Jn,Ot=null,Ea(a,o,u),Ot=h,Jn=y,Ot!==null)if(Jn)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(u.stateNode)}catch(v){ut(u,o,v)}else try{Ot.removeChild(u.stateNode)}catch(v){ut(u,o,v)}break;case 18:Ot!==null&&(Jn?(a=Ot,Y2(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Su(a)):Y2(Ot,u.stateNode));break;case 4:h=Ot,y=Jn,Ot=u.stateNode.containerInfo,Jn=!0,Ea(a,o,u),Ot=h,Jn=y;break;case 0:case 11:case 14:case 15:ws(2,u,o),sn||ws(4,u,o),Ea(a,o,u);break;case 1:sn||(Fi(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&QA(u,o,h)),Ea(a,o,u);break;case 21:Ea(a,o,u);break;case 22:sn=(h=sn)||u.memoizedState!==null,Ea(a,o,u),sn=h;break;default:Ea(a,o,u)}}function r2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Su(a)}catch(u){ut(o,o.return,u)}}}function i2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Su(a)}catch(u){ut(o,o.return,u)}}function u5(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new JA),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new JA),o;default:throw Error(r(435,a.tag))}}function Um(a,o){var u=u5(a);o.forEach(function(h){if(!u.has(h)){u.add(h);var y=v5.bind(null,a,h);h.then(y,y)}})}function er(a,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h],v=a,A=o,P=A;e:for(;P!==null;){switch(P.tag){case 27:if(Cs(P.type)){Ot=P.stateNode,Jn=!1;break e}break;case 5:Ot=P.stateNode,Jn=!1;break e;case 3:case 4:Ot=P.stateNode.containerInfo,Jn=!0;break e}P=P.return}if(Ot===null)throw Error(r(160));n2(v,A,y),Ot=null,Jn=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)a2(o,a),o=o.sibling}var ci=null;function a2(a,o){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:er(o,a),tr(a),h&4&&(ws(3,a,a.return),Of(3,a),ws(5,a,a.return));break;case 1:er(o,a),tr(a),h&512&&(sn||u===null||Fi(u,u.return)),h&64&&wa&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var y=ci;if(er(o,a),tr(a),h&512&&(sn||u===null||Fi(u,u.return)),h&4){var v=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":v=y.getElementsByTagName("title")[0],(!v||v[Ci]||v[Jt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(h),y.head.insertBefore(v,y.querySelector("head > title"))),Mn(v,h,u),v[Jt]=a,en(v),h=v;break e;case"link":var A=aI("link","href",y).get(h+(u.href||""));if(A){for(var P=0;P<A.length;P++)if(v=A[P],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(P,1);break t}}v=y.createElement(h),Mn(v,h,u),y.head.appendChild(v);break;case"meta":if(A=aI("meta","content",y).get(h+(u.content||""))){for(P=0;P<A.length;P++)if(v=A[P],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(P,1);break t}}v=y.createElement(h),Mn(v,h,u),y.head.appendChild(v);break;default:throw Error(r(468,h))}v[Jt]=a,en(v),h=v}a.stateNode=h}else sI(y,a.type,a.stateNode);else a.stateNode=iI(y,h,a.memoizedProps);else v!==h?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,h===null?sI(y,a.type,a.stateNode):iI(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&K0(a,a.memoizedProps,u.memoizedProps)}break;case 27:er(o,a),tr(a),h&512&&(sn||u===null||Fi(u,u.return)),u!==null&&h&4&&K0(a,a.memoizedProps,u.memoizedProps);break;case 5:if(er(o,a),tr(a),h&512&&(sn||u===null||Fi(u,u.return)),a.flags&32){y=a.stateNode;try{Zn(y,"")}catch(Ee){ut(a,a.return,Ee)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,K0(a,y,u!==null?u.memoizedProps:y)),h&1024&&(Q0=!0);break;case 6:if(er(o,a),tr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(Ee){ut(a,a.return,Ee)}}break;case 3:if(rp=null,y=ci,ci=tp(o.containerInfo),er(o,a),ci=y,tr(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Su(o.containerInfo)}catch(Ee){ut(a,a.return,Ee)}Q0&&(Q0=!1,s2(a));break;case 4:h=ci,ci=tp(a.stateNode.containerInfo),er(o,a),tr(a),ci=h;break;case 12:er(o,a),tr(a);break;case 31:er(o,a),tr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Um(a,h)));break;case 13:er(o,a),tr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Fm=$n()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Um(a,h)));break;case 22:y=a.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,W=wa,ae=sn;if(wa=W||y,sn=ae||H,er(o,a),sn=ae,wa=W,tr(a),h&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||H||wa||sn||Ho(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){H=u=o;try{if(v=H.stateNode,y)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{P=H.stateNode;var ce=H.memoizedProps.style,J=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;P.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Ee){ut(H,H.return,Ee)}}}else if(o.tag===6){if(u===null){H=o;try{H.stateNode.nodeValue=y?"":H.memoizedProps}catch(Ee){ut(H,H.return,Ee)}}}else if(o.tag===18){if(u===null){H=o;try{var re=H.stateNode;y?Q2(re,!0):Q2(H.stateNode,!1)}catch(Ee){ut(H,H.return,Ee)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Um(a,u))));break;case 19:er(o,a),tr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Um(a,h)));break;case 30:break;case 21:break;default:er(o,a),tr(a)}}function tr(a){var o=a.flags;if(o&2){try{for(var u,h=a.return;h!==null;){if(WA(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,v=G0(a);Bm(a,v,y);break;case 5:var A=u.stateNode;u.flags&32&&(Zn(A,""),u.flags&=-33);var P=G0(a);Bm(a,P,A);break;case 3:case 4:var H=u.stateNode.containerInfo,W=G0(a);Y0(a,W,H);break;default:throw Error(r(161))}}catch(ae){ut(a,a.return,ae)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function s2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;s2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Sa(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)e2(a,o.alternate,o),o=o.sibling}function Ho(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:ws(4,o,o.return),Ho(o);break;case 1:Fi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&QA(o,o.return,u),Ho(o);break;case 27:Lf(o.stateNode);case 26:case 5:Fi(o,o.return),Ho(o);break;case 22:o.memoizedState===null&&Ho(o);break;case 30:Ho(o);break;default:Ho(o)}a=a.sibling}}function Ta(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=a,v=o,A=v.flags;switch(v.tag){case 0:case 11:case 15:Ta(y,v,u),Of(4,v);break;case 1:if(Ta(y,v,u),h=v,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(W){ut(h,h.return,W)}if(h=v,y=h.updateQueue,y!==null){var P=h.stateNode;try{var H=y.shared.hiddenCallbacks;if(H!==null)for(y.shared.hiddenCallbacks=null,y=0;y<H.length;y++)VT(H[y],P)}catch(W){ut(h,h.return,W)}}u&&A&64&&YA(v),Cf(v,v.return);break;case 27:ZA(v);case 26:case 5:Ta(y,v,u),u&&h===null&&A&4&&XA(v),Cf(v,v.return);break;case 12:Ta(y,v,u);break;case 31:Ta(y,v,u),u&&A&4&&r2(y,v);break;case 13:Ta(y,v,u),u&&A&4&&i2(y,v);break;case 22:v.memoizedState===null&&Ta(y,v,u),Cf(v,v.return);break;case 30:break;default:Ta(y,v,u)}o=o.sibling}}function X0(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&pf(u))}function W0(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&pf(a))}function fi(a,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)o2(a,o,u,h),o=o.sibling}function o2(a,o,u,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:fi(a,o,u,h),y&2048&&Of(9,o);break;case 1:fi(a,o,u,h);break;case 3:fi(a,o,u,h),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&pf(a)));break;case 12:if(y&2048){fi(a,o,u,h),a=o.stateNode;try{var v=o.memoizedProps,A=v.id,P=v.onPostCommit;typeof P=="function"&&P(A,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(H){ut(o,o.return,H)}}else fi(a,o,u,h);break;case 31:fi(a,o,u,h);break;case 13:fi(a,o,u,h);break;case 23:break;case 22:v=o.stateNode,A=o.alternate,o.memoizedState!==null?v._visibility&2?fi(a,o,u,h):Rf(a,o):v._visibility&2?fi(a,o,u,h):(v._visibility|=2,du(a,o,u,h,(o.subtreeFlags&10256)!==0||!1)),y&2048&&X0(A,o);break;case 24:fi(a,o,u,h),y&2048&&W0(o.alternate,o);break;default:fi(a,o,u,h)}}function du(a,o,u,h,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var v=a,A=o,P=u,H=h,W=A.flags;switch(A.tag){case 0:case 11:case 15:du(v,A,P,H,y),Of(8,A);break;case 23:break;case 22:var ae=A.stateNode;A.memoizedState!==null?ae._visibility&2?du(v,A,P,H,y):Rf(v,A):(ae._visibility|=2,du(v,A,P,H,y)),y&&W&2048&&X0(A.alternate,A);break;case 24:du(v,A,P,H,y),y&&W&2048&&W0(A.alternate,A);break;default:du(v,A,P,H,y)}o=o.sibling}}function Rf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,h=o,y=h.flags;switch(h.tag){case 22:Rf(u,h),y&2048&&X0(h.alternate,h);break;case 24:Rf(u,h),y&2048&&W0(h.alternate,h);break;default:Rf(u,h)}o=o.sibling}}var Nf=8192;function mu(a,o,u){if(a.subtreeFlags&Nf)for(a=a.child;a!==null;)l2(a,o,u),a=a.sibling}function l2(a,o,u){switch(a.tag){case 26:mu(a,o,u),a.flags&Nf&&a.memoizedState!==null&&Q5(u,ci,a.memoizedState,a.memoizedProps);break;case 5:mu(a,o,u);break;case 3:case 4:var h=ci;ci=tp(a.stateNode.containerInfo),mu(a,o,u),ci=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Nf,Nf=16777216,mu(a,o,u),Nf=h):mu(a,o,u));break;default:mu(a,o,u)}}function u2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Pf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];En=h,f2(h,a)}u2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)c2(a),a=a.sibling}function c2(a){switch(a.tag){case 0:case 11:case 15:Pf(a),a.flags&2048&&ws(9,a,a.return);break;case 3:Pf(a);break;case 12:Pf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,qm(a)):Pf(a);break;default:Pf(a)}}function qm(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];En=h,f2(h,a)}u2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:ws(8,o,o.return),qm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,qm(o));break;default:qm(o)}a=a.sibling}}function f2(a,o){for(;En!==null;){var u=En;switch(u.tag){case 0:case 11:case 15:ws(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:pf(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,En=h;else e:for(u=a;En!==null;){h=En;var y=h.sibling,v=h.return;if(t2(h),h===u){En=null;break e}if(y!==null){y.return=v,En=y;break e}En=v}}}var c5={getCacheForType:function(a){var o=Pn(nn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return Pn(nn).controller.signal}},f5=typeof WeakMap=="function"?WeakMap:Map,at=0,bt=null,He=null,Ge=0,lt=0,gr=null,Es=!1,pu=!1,Z0=!1,Aa=0,Vt=0,Ss=0,Ko=0,J0=0,yr=0,gu=0,Df=null,nr=null,eb=!1,Fm=0,h2=0,$m=1/0,Hm=null,Ts=null,pn=0,As=null,yu=null,Ia=0,tb=0,nb=null,d2=null,Mf=0,rb=null;function vr(){return(at&2)!==0&&Ge!==0?Ge&-Ge:Z.T!==null?ub():Kd()}function m2(){if(yr===0)if((Ge&536870912)===0||Xe){var a=bo;bo<<=1,(bo&3932160)===0&&(bo=262144),yr=a}else yr=536870912;return a=mr.current,a!==null&&(a.flags|=32),yr}function rr(a,o,u){(a===bt&&(lt===2||lt===9)||a.cancelPendingCommit!==null)&&(vu(a,0),Is(a,Ge,yr,!1)),_o(a,u),((at&2)===0||a!==bt)&&(a===bt&&((at&2)===0&&(Ko|=u),Vt===4&&Is(a,Ge,yr,!1)),$i(a))}function p2(a,o,u){if((at&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&a.expiredLanes)===0||ti(a,o),y=h?m5(a,o):ab(a,o,!0),v=h;do{if(y===0){pu&&!h&&Is(a,o,0,!1);break}else{if(u=a.current.alternate,v&&!h5(u)){y=ab(a,o,!1),v=!1;continue}if(y===2){if(v=o,a.errorRecoveryDisabledLanes&v)var A=0;else A=a.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var P=a;y=Df;var H=P.current.memoizedState.isDehydrated;if(H&&(vu(P,A).flags|=256),A=ab(P,A,!1),A!==2){if(Z0&&!H){P.errorRecoveryDisabledLanes|=v,Ko|=v,y=4;break e}v=nr,nr=y,v!==null&&(nr===null?nr=v:nr.push.apply(nr,v))}y=A}if(v=!1,y!==2)continue}}if(y===1){vu(a,0),Is(a,o,0,!0);break}e:{switch(h=a,v=y,v){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Is(h,o,yr,!Es);break e;case 2:nr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Fm+300-$n(),10<y)){if(Is(h,o,yr,!Es),Ai(h,0,!0)!==0)break e;Ia=o,h.timeoutHandle=K2(g2.bind(null,h,u,nr,Hm,eb,o,yr,Ko,gu,Es,v,"Throttled",-0,0),y);break e}g2(h,u,nr,Hm,eb,o,yr,Ko,gu,Es,v,null,-0,0)}}break}while(!0);$i(a)}function g2(a,o,u,h,y,v,A,P,H,W,ae,ce,J,re){if(a.timeoutHandle=-1,ce=o.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},l2(o,v,ce);var Ee=(v&62914560)===v?Fm-$n():(v&4194048)===v?h2-$n():0;if(Ee=X5(ce,Ee),Ee!==null){Ia=v,a.cancelPendingCommit=Ee(S2.bind(null,a,o,v,u,h,y,A,P,H,ae,ce,null,J,re)),Is(a,v,A,!W);return}}S2(a,o,v,u,h,y,A,P,H)}function h5(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var y=u[h],v=y.getSnapshot;y=y.value;try{if(!hr(v(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Is(a,o,u,h){o&=~J0,o&=~Ko,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var y=o;0<y;){var v=31-Ht(y),A=1<<v;h[v]=-1,y&=~A}u!==0&&xo(a,u,o)}function Km(){return(at&6)===0?(jf(0),!1):!0}function ib(){if(He!==null){if(lt===0)var a=He.return;else a=He,ga=Vo=null,_0(a),lu=null,yf=0,a=He;for(;a!==null;)GA(a.alternate,a),a=a.return;He=null}}function vu(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,P5(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ia=0,ib(),bt=a,He=u=ma(a.current,null),Ge=o,lt=0,gr=null,Es=!1,pu=ti(a,o),Z0=!1,gu=yr=J0=Ko=Ss=Vt=0,nr=Df=null,eb=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var y=31-Ht(h),v=1<<y;o|=a[y],h&=~v}return Aa=o,dm(),u}function y2(a,o){ze=null,Z.H=Tf,o===ou||o===xm?(o=DT(),lt=3):o===l0?(o=DT(),lt=4):lt=o===k0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,gr=o,He===null&&(Vt=1,jm(a,jr(o,a.current)))}function v2(){var a=mr.current;return a===null?!0:(Ge&4194048)===Ge?zr===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?a===zr:!1}function b2(){var a=Z.H;return Z.H=Tf,a===null?Tf:a}function _2(){var a=Z.A;return Z.A=c5,a}function Gm(){Vt=4,Es||(Ge&4194048)!==Ge&&mr.current!==null||(pu=!0),(Ss&134217727)===0&&(Ko&134217727)===0||bt===null||Is(bt,Ge,yr,!1)}function ab(a,o,u){var h=at;at|=2;var y=b2(),v=_2();(bt!==a||Ge!==o)&&(Hm=null,vu(a,o)),o=!1;var A=Vt;e:do try{if(lt!==0&&He!==null){var P=He,H=gr;switch(lt){case 8:ib(),A=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(o=!0);var W=lt;if(lt=0,gr=null,bu(a,P,H,W),u&&pu){A=0;break e}break;default:W=lt,lt=0,gr=null,bu(a,P,H,W)}}d5(),A=Vt;break}catch(ae){y2(a,ae)}while(!0);return o&&a.shellSuspendCounter++,ga=Vo=null,at=h,Z.H=y,Z.A=v,He===null&&(bt=null,Ge=0,dm()),A}function d5(){for(;He!==null;)x2(He)}function m5(a,o){var u=at;at|=2;var h=b2(),y=_2();bt!==a||Ge!==o?(Hm=null,$m=$n()+500,vu(a,o)):pu=ti(a,o);e:do try{if(lt!==0&&He!==null){o=He;var v=gr;t:switch(lt){case 1:lt=0,gr=null,bu(a,o,v,1);break;case 2:case 9:if(NT(v)){lt=0,gr=null,w2(o);break}o=function(){lt!==2&&lt!==9||bt!==a||(lt=7),$i(a)},v.then(o,o);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:NT(v)?(lt=0,gr=null,w2(o)):(lt=0,gr=null,bu(a,o,v,7));break;case 5:var A=null;switch(He.tag){case 26:A=He.memoizedState;case 5:case 27:var P=He;if(A?oI(A):P.stateNode.complete){lt=0,gr=null;var H=P.sibling;if(H!==null)He=H;else{var W=P.return;W!==null?(He=W,Ym(W)):He=null}break t}}lt=0,gr=null,bu(a,o,v,5);break;case 6:lt=0,gr=null,bu(a,o,v,6);break;case 8:ib(),Vt=6;break e;default:throw Error(r(462))}}p5();break}catch(ae){y2(a,ae)}while(!0);return ga=Vo=null,Z.H=h,Z.A=y,at=u,He!==null?0:(bt=null,Ge=0,dm(),Vt)}function p5(){for(;He!==null&&!jv();)x2(He)}function x2(a){var o=HA(a.alternate,a,Aa);a.memoizedProps=a.pendingProps,o===null?Ym(a):He=o}function w2(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=zA(u,o,o.pendingProps,o.type,void 0,Ge);break;case 11:o=zA(u,o,o.pendingProps,o.type.render,o.ref,Ge);break;case 5:_0(o);default:GA(u,o),o=He=_T(o,Aa),o=HA(u,o,Aa)}a.memoizedProps=a.pendingProps,o===null?Ym(a):He=o}function bu(a,o,u,h){ga=Vo=null,_0(o),lu=null,yf=0;var y=o.return;try{if(r5(a,y,o,u,Ge)){Vt=1,jm(a,jr(u,a.current)),He=null;return}}catch(v){if(y!==null)throw He=y,v;Vt=1,jm(a,jr(u,a.current)),He=null;return}o.flags&32768?(Xe||h===1?a=!0:pu||(Ge&536870912)!==0?a=!1:(Es=a=!0,(h===2||h===9||h===3||h===6)&&(h=mr.current,h!==null&&h.tag===13&&(h.flags|=16384))),E2(o,a)):Ym(o)}function Ym(a){var o=a;do{if((o.flags&32768)!==0){E2(o,Es);return}a=o.return;var u=s5(o.alternate,o,Aa);if(u!==null){He=u;return}if(o=o.sibling,o!==null){He=o;return}He=o=a}while(o!==null);Vt===0&&(Vt=5)}function E2(a,o){do{var u=o5(a.alternate,a);if(u!==null){u.flags&=32767,He=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){He=a;return}He=a=u}while(a!==null);Vt=6,He=null}function S2(a,o,u,h,y,v,A,P,H){a.cancelPendingCommit=null;do Qm();while(pn!==0);if((at&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(v=o.lanes|o.childLanes,v|=Gv,Lv(a,u,v,A,P,H),a===bt&&(He=bt=null,Ge=0),yu=o,As=a,Ia=u,tb=v,nb=y,d2=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,b5(rs,function(){return C2(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=Z.T,Z.T=null,y=ue.p,ue.p=2,A=at,at|=4;try{l5(a,o,u)}finally{at=A,ue.p=y,Z.T=h}}pn=1,T2(),A2(),I2()}}function T2(){if(pn===1){pn=0;var a=As,o=yu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null;var h=ue.p;ue.p=2;var y=at;at|=4;try{a2(o,a);var v=yb,A=fT(a.containerInfo),P=v.focusedElem,H=v.selectionRange;if(A!==P&&P&&P.ownerDocument&&cT(P.ownerDocument.documentElement,P)){if(H!==null&&qv(P)){var W=H.start,ae=H.end;if(ae===void 0&&(ae=W),"selectionStart"in P)P.selectionStart=W,P.selectionEnd=Math.min(ae,P.value.length);else{var ce=P.ownerDocument||document,J=ce&&ce.defaultView||window;if(J.getSelection){var re=J.getSelection(),Ee=P.textContent.length,De=Math.min(H.start,Ee),gt=H.end===void 0?De:Math.min(H.end,Ee);!re.extend&&De>gt&&(A=gt,gt=De,De=A);var G=uT(P,De),K=uT(P,gt);if(G&&K&&(re.rangeCount!==1||re.anchorNode!==G.node||re.anchorOffset!==G.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var X=ce.createRange();X.setStart(G.node,G.offset),re.removeAllRanges(),De>gt?(re.addRange(X),re.extend(K.node,K.offset)):(X.setEnd(K.node,K.offset),re.addRange(X))}}}}for(ce=[],re=P;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ce.length;P++){var le=ce[P];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}op=!!gb,yb=gb=null}finally{at=y,ue.p=h,Z.T=u}}a.current=o,pn=2}}function A2(){if(pn===2){pn=0;var a=As,o=yu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Z.T,Z.T=null;var h=ue.p;ue.p=2;var y=at;at|=4;try{e2(a,o.alternate,o)}finally{at=y,ue.p=h,Z.T=u}}pn=3}}function I2(){if(pn===4||pn===3){pn=0,zd();var a=As,o=yu,u=Ia,h=d2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?pn=5:(pn=0,yu=As=null,O2(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Ts=null),ca(u),o=o.stateNode,Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(ei,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=Z.T,y=ue.p,ue.p=2,Z.T=null;try{for(var v=a.onRecoverableError,A=0;A<h.length;A++){var P=h[A];v(P.value,{componentStack:P.stack})}}finally{Z.T=o,ue.p=y}}(Ia&3)!==0&&Qm(),$i(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===rb?Mf++:(Mf=0,rb=a):Mf=0,jf(0)}}function O2(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,pf(o)))}function Qm(){return T2(),A2(),I2(),C2()}function C2(){if(pn!==5)return!1;var a=As,o=tb;tb=0;var u=ca(Ia),h=Z.T,y=ue.p;try{ue.p=32>u?32:u,Z.T=null,u=nb,nb=null;var v=As,A=Ia;if(pn=0,yu=As=null,Ia=0,(at&6)!==0)throw Error(r(331));var P=at;if(at|=4,c2(v.current),o2(v,v.current,A,u),at=P,jf(0,!1),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(ei,v)}catch{}return!0}finally{ue.p=y,Z.T=h,O2(a,o)}}function R2(a,o,u){o=jr(u,o),o=j0(a.stateNode,o,2),a=bs(a,o,2),a!==null&&(_o(a,2),$i(a))}function ut(a,o,u){if(a.tag===3)R2(a,a,u);else for(;o!==null;){if(o.tag===3){R2(o,a,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ts===null||!Ts.has(h))){a=jr(u,a),u=NA(2),h=bs(o,u,2),h!==null&&(PA(u,h,o,a),_o(h,2),$i(h));break}}o=o.return}}function sb(a,o,u){var h=a.pingCache;if(h===null){h=a.pingCache=new f5;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(u)||(Z0=!0,y.add(u),a=g5.bind(null,a,o,u),o.then(a,a))}function g5(a,o,u){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,bt===a&&(Ge&u)===u&&(Vt===4||Vt===3&&(Ge&62914560)===Ge&&300>$n()-Fm?(at&2)===0&&vu(a,0):J0|=u,gu===Ge&&(gu=0)),$i(a)}function N2(a,o){o===0&&(o=Hd()),a=Mo(a,o),a!==null&&(_o(a,o),$i(a))}function y5(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),N2(a,u)}function v5(a,o){var u=0;switch(a.tag){case 31:case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),N2(a,u)}function b5(a,o){return mn(a,o)}var Xm=null,_u=null,ob=!1,Wm=!1,lb=!1,Os=0;function $i(a){a!==_u&&a.next===null&&(_u===null?Xm=_u=a:_u=_u.next=a),Wm=!0,ob||(ob=!0,x5())}function jf(a,o){if(!lb&&Wm){lb=!0;do for(var u=!1,h=Xm;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var v=0;else{var A=h.suspendedLanes,P=h.pingedLanes;v=(1<<31-Ht(42|a)+1)-1,v&=y&~(A&~P),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,j2(h,v))}else v=Ge,v=Ai(h,h===bt?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||ti(h,v)||(u=!0,j2(h,v));h=h.next}while(u);lb=!1}}function _5(){P2()}function P2(){Wm=ob=!1;var a=0;Os!==0&&N5()&&(a=Os);for(var o=$n(),u=null,h=Xm;h!==null;){var y=h.next,v=D2(h,o);v===0?(h.next=null,u===null?Xm=y:u.next=y,y===null&&(_u=u)):(u=h,(a!==0||(v&3)!==0)&&(Wm=!0)),h=y}pn!==0&&pn!==5||jf(a),Os!==0&&(Os=0)}function D2(a,o){for(var u=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var A=31-Ht(v),P=1<<A,H=y[A];H===-1?((P&u)===0||(P&h)!==0)&&(y[A]=Vv(P,o)):H<=o&&(a.expiredLanes|=P),v&=~P}if(o=bt,u=Ge,u=Ai(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===o&&(lt===2||lt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&ns(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||ti(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(h!==null&&ns(h),ca(u)){case 2:case 8:u=$c;break;case 32:u=rs;break;case 268435456:u=Bd;break;default:u=rs}return h=M2.bind(null,a),u=mn(u,h),a.callbackPriority=o,a.callbackNode=u,o}return h!==null&&h!==null&&ns(h),a.callbackPriority=2,a.callbackNode=null,2}function M2(a,o){if(pn!==0&&pn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Qm()&&a.callbackNode!==u)return null;var h=Ge;return h=Ai(a,a===bt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(p2(a,h,o),D2(a,$n()),a.callbackNode!=null&&a.callbackNode===u?M2.bind(null,a):null)}function j2(a,o){if(Qm())return null;p2(a,o,!0)}function x5(){D5(function(){(at&6)!==0?mn(Fc,_5):P2()})}function ub(){if(Os===0){var a=au;a===0&&(a=Si,Si<<=1,(Si&261888)===0&&(Si=256)),Os=a}return Os}function k2(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:$l(""+a)}function V2(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function w5(a,o,u,h,y){if(o==="submit"&&u&&u.stateNode===y){var v=k2((y[xn]||null).action),A=h.submitter;A&&(o=(o=A[xn]||null)?k2(o.formAction):A.getAttribute("formAction"),o!==null&&(v=o,A=null));var P=new Vi("action","action",null,h,y);a.push({event:P,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Os!==0){var H=A?V2(y,A):new FormData(y);C0(u,{pending:!0,data:H,method:y.method,action:v},null,H)}}else typeof v=="function"&&(P.preventDefault(),H=A?V2(y,A):new FormData(y),C0(u,{pending:!0,data:H,method:y.method,action:v},v,H))},currentTarget:y}]})}}for(var cb=0;cb<Kv.length;cb++){var fb=Kv[cb],E5=fb.toLowerCase(),S5=fb[0].toUpperCase()+fb.slice(1);ui(E5,"on"+S5)}ui(mT,"onAnimationEnd"),ui(pT,"onAnimationIteration"),ui(gT,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(BL,"onTransitionRun"),ui(UL,"onTransitionStart"),ui(qL,"onTransitionCancel"),ui(yT,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kf));function L2(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],y=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var A=h.length-1;0<=A;A--){var P=h[A],H=P.instance,W=P.currentTarget;if(P=P.listener,H!==v&&y.isPropagationStopped())break e;v=P,y.currentTarget=W;try{v(y)}catch(ae){hm(ae)}y.currentTarget=null,v=H}else for(A=0;A<h.length;A++){if(P=h[A],H=P.instance,W=P.currentTarget,P=P.listener,H!==v&&y.isPropagationStopped())break e;v=P,y.currentTarget=W;try{v(y)}catch(ae){hm(ae)}y.currentTarget=null,v=H}}}}function Ke(a,o){var u=o[zl];u===void 0&&(u=o[zl]=new Set);var h=a+"__bubble";u.has(h)||(z2(o,a,2,!1),u.add(h))}function hb(a,o,u){var h=0;o&&(h|=4),z2(u,a,h,o)}var Zm="_reactListening"+Math.random().toString(36).slice(2);function db(a){if(!a[Zm]){a[Zm]=!0,Gc.forEach(function(u){u!=="selectionchange"&&(T5.has(u)||hb(u,!1,a),hb(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Zm]||(o[Zm]=!0,hb("selectionchange",!1,o))}}function z2(a,o,u,h){switch(mI(o)){case 2:var y=J5;break;case 8:y=ez;break;default:y=Ob}u=y.bind(null,o,u,a),y=void 0,!Ao||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function mb(a,o,u,h,y){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var P=h.stateNode.containerInfo;if(P===y)break;if(A===4)for(A=h.return;A!==null;){var H=A.tag;if((H===3||H===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;P!==null;){if(A=Ri(P),A===null)return;if(H=A.tag,H===5||H===6||H===26||H===27){h=v=A;continue e}P=P.parentNode}}h=h.return}us(function(){var W=v,ae=Nr(u),ce=[];e:{var J=vT.get(a);if(J!==void 0){var re=Vi,Ee=a;switch(a){case"keypress":if(Oo(u)===0)break e;case"keydown":case"keyup":re=um;break;case"focusin":Ee="focus",re=Ro;break;case"focusout":Ee="blur",re=Ro;break;case"beforeblur":case"afterblur":re=Ro;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=x;break;case mT:case pT:case gT:re=nm;break;case yT:re=V;break;case"scroll":case"scrollend":re=sf;break;case"wheel":re=ne;break;case"copy":case"cut":case"paste":re=rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=da;break;case"toggle":case"beforetoggle":re=Le}var De=(o&4)!==0,gt=!De&&(a==="scroll"||a==="scrollend"),G=De?J!==null?J+"Capture":null:J;De=[];for(var K=W,X;K!==null;){var le=K;if(X=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||X===null||G===null||(le=ai(K,G),le!=null&&De.push(Vf(K,le,X))),gt)break;K=K.return}0<De.length&&(J=new re(J,Ee,null,u,ae),ce.push({event:J,listeners:De}))}}if((o&7)===0){e:{if(J=a==="mouseover"||a==="pointerover",re=a==="mouseout"||a==="pointerout",J&&u!==nf&&(Ee=u.relatedTarget||u.fromElement)&&(Ri(Ee)||Ee[Oi]))break e;if((re||J)&&(J=ae.window===ae?ae:(J=ae.ownerDocument)?J.defaultView||J.parentWindow:window,re?(Ee=u.relatedTarget||u.toElement,re=W,Ee=Ee?Ri(Ee):null,Ee!==null&&(gt=s(Ee),De=Ee.tag,Ee!==gt||De!==5&&De!==27&&De!==6)&&(Ee=null)):(re=null,Ee=W),re!==Ee)){if(De=of,le="onMouseLeave",G="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(De=da,le="onPointerLeave",G="onPointerEnter",K="pointer"),gt=re==null?J:cr(re),X=Ee==null?J:cr(Ee),J=new De(le,K+"leave",re,u,ae),J.target=gt,J.relatedTarget=X,le=null,Ri(ae)===W&&(De=new De(G,K+"enter",Ee,u,ae),De.target=X,De.relatedTarget=gt,le=De),gt=le,re&&Ee)t:{for(De=A5,G=re,K=Ee,X=0,le=G;le;le=De(le))X++;le=0;for(var Re=K;Re;Re=De(Re))le++;for(;0<X-le;)G=De(G),X--;for(;0<le-X;)K=De(K),le--;for(;X--;){if(G===K||K!==null&&G===K.alternate){De=G;break t}G=De(G),K=De(K)}De=null}else De=null;re!==null&&B2(ce,J,re,De,!1),Ee!==null&&gt!==null&&B2(ce,gt,Ee,De,!0)}}e:{if(J=W?cr(W):window,re=J.nodeName&&J.nodeName.toLowerCase(),re==="select"||re==="input"&&J.type==="file")var et=rT;else if(tT(J))if(iT)et=VL;else{et=jL;var Ae=ML}else re=J.nodeName,!re||re.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&Fl(W.elementType)&&(et=rT):et=kL;if(et&&(et=et(a,W))){nT(ce,et,u,ae);break e}Ae&&Ae(a,J,W),a==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&Jc(J,"number",J.value)}switch(Ae=W?cr(W):window,a){case"focusin":(tT(Ae)||Ae.contentEditable==="true")&&(Wl=Ae,Fv=W,hf=null);break;case"focusout":hf=Fv=Wl=null;break;case"mousedown":$v=!0;break;case"contextmenu":case"mouseup":case"dragend":$v=!1,hT(ce,u,ae);break;case"selectionchange":if(zL)break;case"keydown":case"keyup":hT(ce,u,ae)}var Be;if(it)e:{switch(a){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Xl?No(a,u)&&(Ye="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Ye="onCompositionStart");Ye&&(Bi&&u.locale!=="ko"&&(Xl||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Xl&&(Be=af()):(ki=ae,rf="value"in ki?ki.value:ki.textContent,Xl=!0)),Ae=Jm(W,Ye),0<Ae.length&&(Ye=new zi(Ye,a,null,u,ae),ce.push({event:Ye,listeners:Ae}),Be?Ye.data=Be:(Be=Ql(u),Be!==null&&(Ye.data=Be)))),(Be=Dr?RL(a,u):NL(a,u))&&(Ye=Jm(W,"onBeforeInput"),0<Ye.length&&(Ae=new zi("onBeforeInput","beforeinput",null,u,ae),ce.push({event:Ae,listeners:Ye}),Ae.data=Be)),w5(ce,a,W,u,ae)}L2(ce,o)})}function Vf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Jm(a,o){for(var u=o+"Capture",h=[];a!==null;){var y=a,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=ai(a,u),y!=null&&h.unshift(Vf(a,y,v)),y=ai(a,o),y!=null&&h.push(Vf(a,y,v))),a.tag===3)return h;a=a.return}return[]}function A5(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function B2(a,o,u,h,y){for(var v=o._reactName,A=[];u!==null&&u!==h;){var P=u,H=P.alternate,W=P.stateNode;if(P=P.tag,H!==null&&H===h)break;P!==5&&P!==26&&P!==27||W===null||(H=W,y?(W=ai(u,v),W!=null&&A.unshift(Vf(u,W,H))):y||(W=ai(u,v),W!=null&&A.push(Vf(u,W,H)))),u=u.return}A.length!==0&&a.push({event:o,listeners:A})}var I5=/\r\n?/g,O5=/\u0000|\uFFFD/g;function U2(a){return(typeof a=="string"?a:""+a).replace(I5,`
`).replace(O5,"")}function q2(a,o){return o=U2(o),U2(a)===o}function pt(a,o,u,h,y,v){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Zn(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Zn(a,""+h);break;case"className":fr(a,"class",h);break;case"tabIndex":fr(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(a,u,h);break;case"style":tf(a,h,v);break;case"data":if(o!=="object"){fr(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=$l(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&pt(a,o,"name",y.name,y,null),pt(a,o,"formEncType",y.formEncType,y,null),pt(a,o,"formMethod",y.formMethod,y,null),pt(a,o,"formTarget",y.formTarget,y,null)):(pt(a,o,"encType",y.encType,y,null),pt(a,o,"method",y.method,y,null),pt(a,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=$l(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=ii);break;case"onScroll":h!=null&&Ke("scroll",a);break;case"onScrollEnd":h!=null&&Ke("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=$l(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":Ke("beforetoggle",a),Ke("toggle",a),Ul(a,"popover",h);break;case"xlinkActuate":tn(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":tn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":tn(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":tn(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":tn(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":tn(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":tn(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":tn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":tn(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ul(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Jd.get(u)||u,Ul(a,u,h))}}function pb(a,o,u,h,y,v){switch(u){case"style":tf(a,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?Zn(a,h):(typeof h=="number"||typeof h=="bigint")&&Zn(a,""+h);break;case"onScroll":h!=null&&Ke("scroll",a);break;case"onScrollEnd":h!=null&&Ke("scrollend",a);break;case"onClick":h!=null&&(a.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yc.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),v=a[xn]||null,v=v!=null?v[u]:null,typeof v=="function"&&a.removeEventListener(o,v,y),typeof h=="function")){typeof v!="function"&&v!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,h,y);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):Ul(a,u,h)}}}function Mn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",a),Ke("load",a);var h=!1,y=!1,v;for(v in u)if(u.hasOwnProperty(v)){var A=u[v];if(A!=null)switch(v){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:pt(a,o,v,A,u,null)}}y&&pt(a,o,"srcSet",u.srcSet,u,null),h&&pt(a,o,"src",u.src,u,null);return;case"input":Ke("invalid",a);var P=v=A=y=null,H=null,W=null;for(h in u)if(u.hasOwnProperty(h)){var ae=u[h];if(ae!=null)switch(h){case"name":y=ae;break;case"type":A=ae;break;case"checked":H=ae;break;case"defaultChecked":W=ae;break;case"value":v=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:pt(a,o,h,ae,u,null)}}Xd(a,v,P,H,W,A,y,!1);return;case"select":Ke("invalid",a),h=A=v=null;for(y in u)if(u.hasOwnProperty(y)&&(P=u[y],P!=null))switch(y){case"value":v=P;break;case"defaultValue":A=P;break;case"multiple":h=P;default:pt(a,o,y,P,u,null)}o=v,u=A,a.multiple=!!h,o!=null?as(a,!!h,o,!1):u!=null&&as(a,!!h,u,!0);return;case"textarea":Ke("invalid",a),v=y=h=null;for(A in u)if(u.hasOwnProperty(A)&&(P=u[A],P!=null))switch(A){case"value":h=P;break;case"defaultValue":y=P;break;case"children":v=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:pt(a,o,A,P,u,null)}ss(a,h,y,v);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(h=u[H],h!=null))switch(H){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:pt(a,o,H,h,u,null)}return;case"dialog":Ke("beforetoggle",a),Ke("toggle",a),Ke("cancel",a),Ke("close",a);break;case"iframe":case"object":Ke("load",a);break;case"video":case"audio":for(h=0;h<kf.length;h++)Ke(kf[h],a);break;case"image":Ke("error",a),Ke("load",a);break;case"details":Ke("toggle",a);break;case"embed":case"source":case"link":Ke("error",a),Ke("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in u)if(u.hasOwnProperty(W)&&(h=u[W],h!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:pt(a,o,W,h,u,null)}return;default:if(Fl(o)){for(ae in u)u.hasOwnProperty(ae)&&(h=u[ae],h!==void 0&&pb(a,o,ae,h,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(h=u[P],h!=null&&pt(a,o,P,h,u,null))}function C5(a,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,A=null,P=null,H=null,W=null,ae=null;for(re in u){var ce=u[re];if(u.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=ce;default:h.hasOwnProperty(re)||pt(a,o,re,null,h,ce)}}for(var J in h){var re=h[J];if(ce=u[J],h.hasOwnProperty(J)&&(re!=null||ce!=null))switch(J){case"type":v=re;break;case"name":y=re;break;case"checked":W=re;break;case"defaultChecked":ae=re;break;case"value":A=re;break;case"defaultValue":P=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:re!==ce&&pt(a,o,J,re,h,ce)}}ql(a,A,P,H,W,ae,v,y);return;case"select":re=A=P=J=null;for(v in u)if(H=u[v],u.hasOwnProperty(v)&&H!=null)switch(v){case"value":break;case"multiple":re=H;default:h.hasOwnProperty(v)||pt(a,o,v,null,h,H)}for(y in h)if(v=h[y],H=u[y],h.hasOwnProperty(y)&&(v!=null||H!=null))switch(y){case"value":J=v;break;case"defaultValue":P=v;break;case"multiple":A=v;default:v!==H&&pt(a,o,y,v,h,H)}o=P,u=A,h=re,J!=null?as(a,!!u,J,!1):!!h!=!!u&&(o!=null?as(a,!!u,o,!0):as(a,!!u,u?[]:"",!1));return;case"textarea":re=J=null;for(P in u)if(y=u[P],u.hasOwnProperty(P)&&y!=null&&!h.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:pt(a,o,P,null,h,y)}for(A in h)if(y=h[A],v=u[A],h.hasOwnProperty(A)&&(y!=null||v!=null))switch(A){case"value":J=y;break;case"defaultValue":re=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==v&&pt(a,o,A,y,h,v)}Wd(a,J,re);return;case"option":for(var Ee in u)if(J=u[Ee],u.hasOwnProperty(Ee)&&J!=null&&!h.hasOwnProperty(Ee))switch(Ee){case"selected":a.selected=!1;break;default:pt(a,o,Ee,null,h,J)}for(H in h)if(J=h[H],re=u[H],h.hasOwnProperty(H)&&J!==re&&(J!=null||re!=null))switch(H){case"selected":a.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:pt(a,o,H,J,h,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in u)J=u[De],u.hasOwnProperty(De)&&J!=null&&!h.hasOwnProperty(De)&&pt(a,o,De,null,h,J);for(W in h)if(J=h[W],re=u[W],h.hasOwnProperty(W)&&J!==re&&(J!=null||re!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,o));break;default:pt(a,o,W,J,h,re)}return;default:if(Fl(o)){for(var gt in u)J=u[gt],u.hasOwnProperty(gt)&&J!==void 0&&!h.hasOwnProperty(gt)&&pb(a,o,gt,void 0,h,J);for(ae in h)J=h[ae],re=u[ae],!h.hasOwnProperty(ae)||J===re||J===void 0&&re===void 0||pb(a,o,ae,J,h,re);return}}for(var G in u)J=u[G],u.hasOwnProperty(G)&&J!=null&&!h.hasOwnProperty(G)&&pt(a,o,G,null,h,J);for(ce in h)J=h[ce],re=u[ce],!h.hasOwnProperty(ce)||J===re||J==null&&re==null||pt(a,o,ce,J,h,re)}function F2(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R5(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var y=u[h],v=y.transferSize,A=y.initiatorType,P=y.duration;if(v&&P&&F2(A)){for(A=0,P=y.responseEnd,h+=1;h<u.length;h++){var H=u[h],W=H.startTime;if(W>P)break;var ae=H.transferSize,ce=H.initiatorType;ae&&F2(ce)&&(H=H.responseEnd,A+=ae*(H<P?1:(P-W)/(H-W)))}if(--h,o+=8*(v+A)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var gb=null,yb=null;function ep(a){return a.nodeType===9?a:a.ownerDocument}function $2(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H2(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function vb(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var bb=null;function N5(){var a=window.event;return a&&a.type==="popstate"?a===bb?!1:(bb=a,!0):(bb=null,!1)}var K2=typeof setTimeout=="function"?setTimeout:void 0,P5=typeof clearTimeout=="function"?clearTimeout:void 0,G2=typeof Promise=="function"?Promise:void 0,D5=typeof queueMicrotask=="function"?queueMicrotask:typeof G2<"u"?function(a){return G2.resolve(null).then(a).catch(M5)}:K2;function M5(a){setTimeout(function(){throw a})}function Cs(a){return a==="head"}function Y2(a,o){var u=o,h=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(h===0){a.removeChild(y),Su(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")Lf(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Lf(u);for(var v=u.firstChild;v;){var A=v.nextSibling,P=v.nodeName;v[Ci]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&v.rel.toLowerCase()==="stylesheet"||u.removeChild(v),v=A}}else u==="body"&&Lf(a.ownerDocument.body);u=y}while(u);Su(o)}function Q2(a,o){var u=a;a=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=h}while(u)}function _b(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":_b(u),Bl(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function j5(a,o,u,h){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Ci])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Br(a.nextSibling),a===null)break}return null}function k5(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Br(a.nextSibling),a===null))return null;return a}function X2(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Br(a.nextSibling),a===null))return null;return a}function xb(a){return a.data==="$?"||a.data==="$~"}function wb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function V5(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Br(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Eb=null;function W2(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Br(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function Z2(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function J2(a,o,u){switch(o=ep(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Lf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Bl(a)}var Ur=new Map,eI=new Set;function tp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Oa=ue.d;ue.d={f:L5,r:z5,D:B5,C:U5,L:q5,m:F5,X:H5,S:$5,M:K5};function L5(){var a=Oa.f(),o=Km();return a||o}function z5(a){var o=Rr(a);o!==null&&o.tag===5&&o.type==="form"?yA(o):Oa.r(a)}var xu=typeof document>"u"?null:document;function tI(a,o,u){var h=xu;if(h&&typeof o=="string"&&o){var y=Wn(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),eI.has(y)||(eI.add(y),a={rel:a,crossOrigin:u,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),Mn(o,"link",a),en(o),h.head.appendChild(o)))}}function B5(a){Oa.D(a),tI("dns-prefetch",a,null)}function U5(a,o){Oa.C(a,o),tI("preconnect",a,o)}function q5(a,o,u){Oa.L(a,o,u);var h=xu;if(h&&a&&o){var y='link[rel="preload"][as="'+Wn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Wn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Wn(u.imageSizes)+'"]')):y+='[href="'+Wn(a)+'"]';var v=y;switch(o){case"style":v=wu(a);break;case"script":v=Eu(a)}Ur.has(v)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ur.set(v,a),h.querySelector(y)!==null||o==="style"&&h.querySelector(zf(v))||o==="script"&&h.querySelector(Bf(v))||(o=h.createElement("link"),Mn(o,"link",a),en(o),h.head.appendChild(o)))}}function F5(a,o){Oa.m(a,o);var u=xu;if(u&&a){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Wn(h)+'"][href="'+Wn(a)+'"]',v=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Eu(a)}if(!Ur.has(v)&&(a=p({rel:"modulepreload",href:a},o),Ur.set(v,a),u.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Bf(v)))return}h=u.createElement("link"),Mn(h,"link",a),en(h),u.head.appendChild(h)}}}function $5(a,o,u){Oa.S(a,o,u);var h=xu;if(h&&a){var y=Ni(h).hoistableStyles,v=wu(a);o=o||"default";var A=y.get(v);if(!A){var P={loading:0,preload:null};if(A=h.querySelector(zf(v)))P.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ur.get(v))&&Sb(a,u);var H=A=h.createElement("link");en(H),Mn(H,"link",a),H._p=new Promise(function(W,ae){H.onload=W,H.onerror=ae}),H.addEventListener("load",function(){P.loading|=1}),H.addEventListener("error",function(){P.loading|=2}),P.loading|=4,np(A,o,h)}A={type:"stylesheet",instance:A,count:1,state:P},y.set(v,A)}}}function H5(a,o){Oa.X(a,o);var u=xu;if(u&&a){var h=Ni(u).hoistableScripts,y=Eu(a),v=h.get(y);v||(v=u.querySelector(Bf(y)),v||(a=p({src:a,async:!0},o),(o=Ur.get(y))&&Tb(a,o),v=u.createElement("script"),en(v),Mn(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function K5(a,o){Oa.M(a,o);var u=xu;if(u&&a){var h=Ni(u).hoistableScripts,y=Eu(a),v=h.get(y);v||(v=u.querySelector(Bf(y)),v||(a=p({src:a,async:!0,type:"module"},o),(o=Ur.get(y))&&Tb(a,o),v=u.createElement("script"),en(v),Mn(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function nI(a,o,u,h){var y=(y=Pe.current)?tp(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=wu(u.href),u=Ni(y).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=wu(u.href);var v=Ni(y).hoistableStyles,A=v.get(a);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,A),(v=y.querySelector(zf(a)))&&!v._p&&(A.instance=v,A.state.loading=5),Ur.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ur.set(a,u),v||G5(y,a,u,A.state))),o&&h===null)throw Error(r(528,""));return A}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Eu(u),u=Ni(y).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function wu(a){return'href="'+Wn(a)+'"'}function zf(a){return'link[rel="stylesheet"]['+a+"]"}function rI(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function G5(a,o,u,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Mn(o,"link",u),en(o),a.head.appendChild(o))}function Eu(a){return'[src="'+Wn(a)+'"]'}function Bf(a){return"script[async]"+a}function iI(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+Wn(u.href)+'"]');if(h)return o.instance=h,en(h),h;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),en(h),Mn(h,"style",y),np(h,u.precedence,a),o.instance=h;case"stylesheet":y=wu(u.href);var v=a.querySelector(zf(y));if(v)return o.state.loading|=4,o.instance=v,en(v),v;h=rI(u),(y=Ur.get(y))&&Sb(h,y),v=(a.ownerDocument||a).createElement("link"),en(v);var A=v;return A._p=new Promise(function(P,H){A.onload=P,A.onerror=H}),Mn(v,"link",h),o.state.loading|=4,np(v,u.precedence,a),o.instance=v;case"script":return v=Eu(u.src),(y=a.querySelector(Bf(v)))?(o.instance=y,en(y),y):(h=u,(y=Ur.get(v))&&(h=p({},u),Tb(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),en(y),Mn(y,"link",h),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,np(h,u.precedence,a));return o.instance}function np(a,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,v=y,A=0;A<h.length;A++){var P=h[A];if(P.dataset.precedence===o)v=P;else if(v!==y)break}v?v.parentNode.insertBefore(a,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Sb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Tb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var rp=null;function aI(a,o,u){if(rp===null){var h=new Map,y=rp=new Map;y.set(u,h)}else y=rp,h=y.get(u),h||(h=new Map,y.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var v=u[y];if(!(v[Ci]||v[Jt]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(o)||"";A=a+A;var P=h.get(A);P?P.push(v):h.set(A,[v])}}return h}function sI(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function Y5(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function oI(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Q5(a,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=wu(h.href),v=o.querySelector(zf(y));if(v){o=v._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=ip.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=v,en(v);return}v=o.ownerDocument||o,h=rI(h),(y=Ur.get(y))&&Sb(h,y),v=v.createElement("link"),en(v);var A=v;A._p=new Promise(function(P,H){A.onload=P,A.onerror=H}),Mn(v,"link",h),u.instance=v}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=ip.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Ab=0;function X5(a,o){return a.stylesheets&&a.count===0&&sp(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var h=setTimeout(function(){if(a.stylesheets&&sp(a,a.stylesheets),a.unsuspend){var v=a.unsuspend;a.unsuspend=null,v()}},6e4+o);0<a.imgBytes&&Ab===0&&(Ab=62500*R5());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&sp(a,a.stylesheets),a.unsuspend)){var v=a.unsuspend;a.unsuspend=null,v()}},(a.imgBytes>Ab?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function ip(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ap=null;function sp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ap=new Map,o.forEach(W5,a),ap=null,ip.call(a))}function W5(a,o){if(!(o.state.loading&4)){var u=ap.get(a);if(u)var h=u.get(null);else{u=new Map,ap.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var A=y[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),h=A)}h&&u.set(null,h)}y=o.instance,A=y.getAttribute("data-precedence"),v=u.get(A)||h,v===h&&u.set(null,y),u.set(A,y),this.count++,h=ip.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),v?v.parentNode.insertBefore(y,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Uf={$$typeof:M,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function Z5(a,o,u,h,y,v,A,P,H){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function lI(a,o,u,h,y,v,A,P,H,W,ae,ce){return a=new Z5(a,o,u,A,H,W,ae,ce,P),o=1,v===!0&&(o|=24),v=dr(3,null,null,o),a.current=v,v.stateNode=a,o=a0(),o.refCount++,a.pooledCache=o,o.refCount++,v.memoizedState={element:h,isDehydrated:u,cache:o},u0(v),a}function uI(a){return a?(a=eu,a):eu}function cI(a,o,u,h,y,v){y=uI(y),h.context===null?h.context=y:h.pendingContext=y,h=vs(o),h.payload={element:u},v=v===void 0?null:v,v!==null&&(h.callback=v),u=bs(a,h,o),u!==null&&(rr(u,a,o),bf(u,a,o))}function fI(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Ib(a,o){fI(a,o),(a=a.alternate)&&fI(a,o)}function hI(a){if(a.tag===13||a.tag===31){var o=Mo(a,67108864);o!==null&&rr(o,a,67108864),Ib(a,67108864)}}function dI(a){if(a.tag===13||a.tag===31){var o=vr();o=wo(o);var u=Mo(a,o);u!==null&&rr(u,a,o),Ib(a,o)}}var op=!0;function J5(a,o,u,h){var y=Z.T;Z.T=null;var v=ue.p;try{ue.p=2,Ob(a,o,u,h)}finally{ue.p=v,Z.T=y}}function ez(a,o,u,h){var y=Z.T;Z.T=null;var v=ue.p;try{ue.p=8,Ob(a,o,u,h)}finally{ue.p=v,Z.T=y}}function Ob(a,o,u,h){if(op){var y=Cb(h);if(y===null)mb(a,o,h,lp,u),pI(a,h);else if(nz(y,a,o,u,h))h.stopPropagation();else if(pI(a,h),o&4&&-1<tz.indexOf(a)){for(;y!==null;){var v=Rr(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=Ti(v.pendingLanes);if(A!==0){var P=v;for(P.pendingLanes|=2,P.entangledLanes|=2;A;){var H=1<<31-Ht(A);P.entanglements[1]|=H,A&=~H}$i(v),(at&6)===0&&($m=$n()+500,jf(0))}}break;case 31:case 13:P=Mo(v,2),P!==null&&rr(P,v,2),Km(),Ib(v,2)}if(v=Cb(h),v===null&&mb(a,o,h,lp,u),v===y)break;y=v}y!==null&&h.stopPropagation()}else mb(a,o,h,null,u)}}function Cb(a){return a=Nr(a),Rb(a)}var lp=null;function Rb(a){if(lp=null,a=Ri(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return lp=a,null}function mI(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vo()){case Fc:return 2;case $c:return 8;case rs:case kv:return 32;case Bd:return 268435456;default:return 32}default:return 32}}var Nb=!1,Rs=null,Ns=null,Ps=null,qf=new Map,Ff=new Map,Ds=[],tz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pI(a,o){switch(a){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":qf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ff.delete(o.pointerId)}}function $f(a,o,u,h,y,v){return a===null||a.nativeEvent!==v?(a={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[y]},o!==null&&(o=Rr(o),o!==null&&hI(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function nz(a,o,u,h,y){switch(o){case"focusin":return Rs=$f(Rs,a,o,u,h,y),!0;case"dragenter":return Ns=$f(Ns,a,o,u,h,y),!0;case"mouseover":return Ps=$f(Ps,a,o,u,h,y),!0;case"pointerover":var v=y.pointerId;return qf.set(v,$f(qf.get(v)||null,a,o,u,h,y)),!0;case"gotpointercapture":return v=y.pointerId,Ff.set(v,$f(Ff.get(v)||null,a,o,u,h,y)),!0}return!1}function gI(a){var o=Ri(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,ni(a.priority,function(){dI(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,ni(a.priority,function(){dI(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function up(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Cb(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);nf=h,u.target.dispatchEvent(h),nf=null}else return o=Rr(u),o!==null&&hI(o),a.blockedOn=u,!1;o.shift()}return!0}function yI(a,o,u){up(a)&&u.delete(o)}function rz(){Nb=!1,Rs!==null&&up(Rs)&&(Rs=null),Ns!==null&&up(Ns)&&(Ns=null),Ps!==null&&up(Ps)&&(Ps=null),qf.forEach(yI),Ff.forEach(yI)}function cp(a,o){a.blockedOn===o&&(a.blockedOn=null,Nb||(Nb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rz)))}var fp=null;function vI(a){fp!==a&&(fp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){fp===a&&(fp=null);for(var o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],y=a[o+2];if(typeof h!="function"){if(Rb(h||u)===null)continue;break}var v=Rr(u);v!==null&&(a.splice(o,3),o-=3,C0(v,{pending:!0,data:y,method:u.method,action:h},h,y))}}))}function Su(a){function o(H){return cp(H,a)}Rs!==null&&cp(Rs,a),Ns!==null&&cp(Ns,a),Ps!==null&&cp(Ps,a),qf.forEach(o),Ff.forEach(o);for(var u=0;u<Ds.length;u++){var h=Ds[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Ds.length&&(u=Ds[0],u.blockedOn===null);)gI(u),u.blockedOn===null&&Ds.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var y=u[h],v=u[h+1],A=y[xn]||null;if(typeof v=="function")A||vI(u);else if(A){var P=null;if(v&&v.hasAttribute("formAction")){if(y=v,A=v[xn]||null)P=A.formAction;else if(Rb(y)!==null)continue}else P=A.action;typeof P=="function"?u[h+1]=P:(u.splice(h,3),h-=3),vI(u)}}}function bI(){function a(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(A){return y=A})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Pb(a){this._internalRoot=a}hp.prototype.render=Pb.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=vr();cI(u,h,a,o,null,null)},hp.prototype.unmount=Pb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;cI(a.current,2,null,a,null,null),Km(),o[Oi]=null}};function hp(a){this._internalRoot=a}hp.prototype.unstable_scheduleHydration=function(a){if(a){var o=Kd();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Ds.length&&o!==0&&o<Ds[u].priority;u++);Ds.splice(u,0,a),u===0&&gI(a)}};var _I=e.version;if(_I!=="19.2.3")throw Error(r(527,_I,"19.2.3"));ue.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(o),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var iz={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dp.isDisabled&&dp.supportsFiber)try{ei=dp.inject(iz),Cn=dp}catch{}}return Kf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,h="",y=IA,v=OA,A=CA;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=lI(a,1,!1,null,null,u,h,null,y,v,A,bI),a[Oi]=o.current,db(a),new Pb(o)},Kf.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var h=!1,y="",v=IA,A=OA,P=CA,H=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),o=lI(a,1,!0,o,u??null,h,y,H,v,A,P,bI),o.context=uI(null),u=o.current,h=vr(),h=wo(h),y=vs(h),y.callback=null,bs(u,y,h),u=h,o.current.lanes=u,_o(o,u),$i(o),a[Oi]=o.current,db(a),new hp(o)},Kf.version="19.2.3",Kf}var RI;function yz(){if(RI)return kb.exports;RI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kb.exports=gz(),kb.exports}var vz=yz();const bz=oa(vz);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var NI="popstate";function _z(t={}){function e(i,s){let{pathname:l="/",search:c="",hash:f=""}=Pl(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),kx("",{pathname:l,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=i.location.href,d=f.indexOf("#");c=d===-1?f:f.slice(0,d)}return c+"#"+(typeof s=="string"?s:Th(s))}function r(i,s){Yr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return wz(e,n,r,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xz(){return Math.random().toString(36).substring(2,10)}function PI(t,e){return{usr:t.state,key:t.key,idx:e}}function kx(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pl(e):e,state:n,key:e&&e.key||r||xz()}}function Th({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function wz(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",f=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function p(){c="POP";let T=m(),C=T==null?null:T-d;d=T,f&&f({action:c,location:E.location,delta:C})}function b(T,C){c="PUSH";let k=kx(E.location,T,C);n&&n(k,T),d=m()+1;let M=PI(k,d),F=E.createHref(k);try{l.pushState(M,"",F)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(F)}s&&f&&f({action:c,location:E.location,delta:1})}function _(T,C){c="REPLACE";let k=kx(E.location,T,C);n&&n(k,T),d=m();let M=PI(k,d),F=E.createHref(k);l.replaceState(M,"",F),s&&f&&f({action:c,location:E.location,delta:0})}function S(T){return Ez(T)}let E={get action(){return c},get location(){return t(i,l)},listen(T){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(NI,p),f=T,()=>{i.removeEventListener(NI,p),f=null}},createHref(T){return e(i,T)},createURL:S,encodeLocation(T){let C=S(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:_,go(T){return l.go(T)}};return E}function Ez(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Th(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function JD(t,e,n="/"){return Sz(t,e,n,!1)}function Sz(t,e,n,r){let i=typeof e=="string"?Pl(e):e,s=ja(i.pathname||"/",n);if(s==null)return null;let l=eM(t);Tz(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let d=kz(s);c=Mz(l[f],d,r)}return c}function eM(t,e=[],n=[],r="",i=!1){let s=(l,c,f=i,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&f)return;Mt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=Da([r,m.relativePath]),b=n.concat(m);l.children&&l.children.length>0&&(Mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),eM(l.children,e,b,p,f)),!(l.path==null&&!l.index)&&e.push({path:p,score:Pz(p,l.index),routesMeta:b})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,c);else for(let d of tM(l.path))s(l,c,!0,d)}),e}function tM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=tM(r.join("/")),c=[];return c.push(...l.map(f=>f===""?s:[s,f].join("/"))),i&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function Tz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Dz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Az=/^:[\w-]+$/,Iz=3,Oz=2,Cz=1,Rz=10,Nz=-2,DI=t=>t==="*";function Pz(t,e){let n=t.split("/"),r=n.length;return n.some(DI)&&(r+=Nz),e&&(r+=Oz),n.filter(i=>!DI(i)).reduce((i,s)=>i+(Az.test(s)?Iz:s===""?Cz:Rz),r)}function Dz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Mz(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",p=ag({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),b=f.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=ag({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Da([s,p.pathname]),pathnameBase:Bz(Da([s,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(s=Da([s,p.pathnameBase]))}return l}function ag(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,{paramName:m,isOptional:p},b)=>{if(m==="*"){let S=c[b]||"";l=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const _=c[b];return p&&!_?d[m]=void 0:d[m]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:l,pattern:t}}function jz(t,e=!1,n=!0){Yr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ja(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var nM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vz=t=>nM.test(t);function Lz(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Pl(t):t,s;if(n)if(Vz(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Yr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=MI(n.substring(1),"/"):s=MI(n,e)}else s=e;return{pathname:s,search:Uz(r),hash:qz(i)}}function MI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rM(t){let e=zz(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function iM(t,e,n,r=!1){let i;typeof t=="string"?i=Pl(t):(i={...t},Mt(!i.pathname||!i.pathname.includes("?"),Bb("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),Bb("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),Bb("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=n;else{let p=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),p-=1;i.pathname=b.join("/")}c=p>=0?e[p]:"/"}let f=Lz(i,c),d=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var Da=t=>t.join("/").replace(/\/\/+/g,"/"),Bz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Uz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Fz=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function $z(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Hz(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var aM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sM(t,e){let n=t;if(typeof n!="string"||!nM.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(aM)try{let s=new URL(window.location.href),l=n.startsWith("//")?new URL(s.protocol+n):new URL(n),c=ja(l.pathname,e);l.origin===s.origin&&c!=null?n=c+l.search+l.hash:i=!0}catch{Yr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oM=["POST","PUT","PATCH","DELETE"];new Set(oM);var Kz=["GET",...oM];new Set(Kz);var Sc=I.createContext(null);Sc.displayName="DataRouter";var _y=I.createContext(null);_y.displayName="DataRouterState";var Gz=I.createContext(!1),lM=I.createContext({isTransitioning:!1});lM.displayName="ViewTransition";var Yz=I.createContext(new Map);Yz.displayName="Fetchers";var Qz=I.createContext(null);Qz.displayName="Await";var Zr=I.createContext(null);Zr.displayName="Navigation";var sd=I.createContext(null);sd.displayName="Location";var la=I.createContext({outlet:null,matches:[],isDataRoute:!1});la.displayName="Route";var h1=I.createContext(null);h1.displayName="RouteError";var uM="REACT_ROUTER_ERROR",Xz="REDIRECT",Wz="ROUTE_ERROR_RESPONSE";function Zz(t){if(t.startsWith(`${uM}:${Xz}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Jz(t){if(t.startsWith(`${uM}:${Wz}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Fz(e.status,e.statusText,e.data)}catch{}}function e9(t,{relative:e}={}){Mt(od(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(Zr),{hash:i,pathname:s,search:l}=ld(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:Da([n,s])),r.createHref({pathname:c,search:l,hash:i})}function od(){return I.useContext(sd)!=null}function io(){return Mt(od(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(sd).location}var cM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fM(t){I.useContext(Zr).static||I.useLayoutEffect(t)}function Dl(){let{isDataRoute:t}=I.useContext(la);return t?m9():t9()}function t9(){Mt(od(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Sc),{basename:e,navigator:n}=I.useContext(Zr),{matches:r}=I.useContext(la),{pathname:i}=io(),s=JSON.stringify(rM(r)),l=I.useRef(!1);return fM(()=>{l.current=!0}),I.useCallback((f,d={})=>{if(Yr(l.current,cM),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=iM(f,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Da([e,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[e,n,s,i,t])}I.createContext(null);function n9(){let{matches:t}=I.useContext(la),e=t[t.length-1];return e?e.params:{}}function ld(t,{relative:e}={}){let{matches:n}=I.useContext(la),{pathname:r}=io(),i=JSON.stringify(rM(n));return I.useMemo(()=>iM(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function r9(t,e){return hM(t,e)}function hM(t,e,n,r,i){var k;Mt(od(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=I.useContext(Zr),{matches:l}=I.useContext(la),c=l[l.length-1],f=c?c.params:{},d=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let M=p&&p.path||"";mM(d,!p||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let b=io(),_;if(e){let M=typeof e=="string"?Pl(e):e;Mt(m==="/"||((k=M.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),_=M}else _=b;let S=_.pathname||"/",E=S;if(m!=="/"){let M=m.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let T=JD(t,{pathname:E});Yr(p||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Yr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=l9(T&&T.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:Da([m,s.encodeLocation?s.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Da([m,s.encodeLocation?s.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),l,n,r,i);return e&&C?I.createElement(sd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function i9(){let t=d9(),e=$z(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,l)}var a9=I.createElement(i9,null),dM=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Jz(t.digest);n&&(t=n)}let e=t!==void 0?I.createElement(la.Provider,{value:this.props.routeContext},I.createElement(h1.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?I.createElement(s9,{error:t},e):e}};dM.contextType=Gz;var Ub=new WeakMap;function s9({children:t,error:e}){let{basename:n}=I.useContext(Zr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Zz(e.digest);if(r){let i=Ub.get(e);if(i)throw i;let s=sM(r.location,n);if(aM&&!Ub.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw Ub.set(e,l),l}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function o9({routeContext:t,match:e,children:n}){let r=I.useContext(Sc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(la.Provider,{value:t},n)}function l9(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n==null?void 0:n.errors;if(l!=null){let m=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Mt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<s.length;m++){let p=s[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:b,errors:_}=n,S=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||S){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let d=n&&r?(m,p)=>{var b,_;r(m,{location:n.location,params:((_=(b=n.matches)==null?void 0:b[0])==null?void 0:_.params)??{},unstable_pattern:Hz(n.matches),errorInfo:p})}:void 0;return s.reduceRight((m,p,b)=>{let _,S=!1,E=null,T=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,E=p.route.errorElement||a9,c&&(f<0&&b===0?(mM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):f===b&&(S=!0,T=p.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,b+1)),k=()=>{let M;return _?M=E:S?M=T:p.route.Component?M=I.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=m,I.createElement(o9,{match:p,routeContext:{outlet:m,matches:C,isDataRoute:n!=null},children:M})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?I.createElement(dM,{location:n.location,revalidation:n.revalidation,component:E,error:_,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:d}):k()},null)}function d1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u9(t){let e=I.useContext(Sc);return Mt(e,d1(t)),e}function c9(t){let e=I.useContext(_y);return Mt(e,d1(t)),e}function f9(t){let e=I.useContext(la);return Mt(e,d1(t)),e}function m1(t){let e=f9(t),n=e.matches[e.matches.length-1];return Mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function h9(){return m1("useRouteId")}function d9(){var r;let t=I.useContext(h1),e=c9("useRouteError"),n=m1("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function m9(){let{router:t}=u9("useNavigate"),e=m1("useNavigate"),n=I.useRef(!1);return fM(()=>{n.current=!0}),I.useCallback(async(i,s={})=>{Yr(n.current,cM),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var jI={};function mM(t,e,n){!e&&!jI[t]&&(jI[t]=!0,Yr(!1,n))}I.memo(p9);function p9({routes:t,future:e,state:n,onError:r}){return hM(t,void 0,n,r,e)}function $r(t){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g9({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:l}){Mt(!od(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=I.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[c,i,s,l]);typeof n=="string"&&(n=Pl(n));let{pathname:d="/",search:m="",hash:p="",state:b=null,key:_="default"}=n,S=I.useMemo(()=>{let E=ja(d,c);return E==null?null:{location:{pathname:E,search:m,hash:p,state:b,key:_},navigationType:r}},[c,d,m,p,b,_,r]);return Yr(S!=null,`<Router basename="${c}"> is not able to match the URL "${d}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:I.createElement(Zr.Provider,{value:f},I.createElement(sd.Provider,{children:e,value:S}))}function y9({children:t,location:e}){return r9(Vx(t),e)}function Vx(t,e=[]){let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let s=[...e,i];if(r.type===I.Fragment){n.push.apply(n,Vx(r.props.children,s));return}Mt(r.type===$r,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Vx(r.props.children,s)),n.push(l)}),n}var zp="get",Bp="application/x-www-form-urlencoded";function xy(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function v9(t){return xy(t)&&t.tagName.toLowerCase()==="button"}function b9(t){return xy(t)&&t.tagName.toLowerCase()==="form"}function _9(t){return xy(t)&&t.tagName.toLowerCase()==="input"}function x9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function w9(t,e){return t.button===0&&(!e||e==="_self")&&!x9(t)}var mp=null;function E9(){if(mp===null)try{new FormData(document.createElement("form"),0),mp=!1}catch{mp=!0}return mp}var S9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qb(t){return t!=null&&!S9.has(t)?(Yr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bp}"`),null):t}function T9(t,e){let n,r,i,s,l;if(b9(t)){let c=t.getAttribute("action");r=c?ja(c,e):null,n=t.getAttribute("method")||zp,i=qb(t.getAttribute("enctype"))||Bp,s=new FormData(t)}else if(v9(t)||_9(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(r=f?ja(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||zp,i=qb(t.getAttribute("formenctype"))||qb(c.getAttribute("enctype"))||Bp,s=new FormData(c,t),!E9()){let{name:d,type:m,value:p}=t;if(m==="image"){let b=d?`${d}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else d&&s.append(d,p)}}else{if(xy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zp,r=null,i=Bp,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function p1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function A9(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&ja(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function I9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function C9(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await I9(s,n);return l.links?l.links():[]}return[]}));return D9(r.flat(1).filter(O9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function kI(t,e,n,r,i,s){let l=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,c=(f,d)=>{var m;return n[d].pathname!==f.pathname||((m=n[d].route.path)==null?void 0:m.endsWith("*"))&&n[d].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,d)=>l(f,d)||c(f,d)):s==="data"?e.filter((f,d)=>{var p;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function R9(t,e,{includeHydrateFallback:n}={}){return N9(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function N9(t){return[...new Set(t)]}function P9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function D9(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(P9(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function pM(){let t=I.useContext(Sc);return p1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function M9(){let t=I.useContext(_y);return p1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var g1=I.createContext(void 0);g1.displayName="FrameworkContext";function gM(){let t=I.useContext(g1);return p1(t,"You must render this element inside a <HydratedRouter> element"),t}function j9(t,e){let n=I.useContext(g1),[r,i]=I.useState(!1),[s,l]=I.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:p}=e,b=I.useRef(null);I.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=C=>{C.forEach(k=>{l(k.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[t]),I.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let _=()=>{i(!0)},S=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,b,{}]:[s,b,{onFocus:Gf(c,_),onBlur:Gf(f,S),onMouseEnter:Gf(d,_),onMouseLeave:Gf(m,S),onTouchStart:Gf(p,_)}]:[!1,b,{}]}function Gf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function k9({page:t,...e}){let{router:n}=pM(),r=I.useMemo(()=>JD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?I.createElement(L9,{page:t,matches:r,...e}):null}function V9(t){let{manifest:e,routeModules:n}=gM(),[r,i]=I.useState([]);return I.useEffect(()=>{let s=!1;return C9(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function L9({page:t,matches:e,...n}){let r=io(),{future:i,manifest:s,routeModules:l}=gM(),{basename:c}=pM(),{loaderData:f,matches:d}=M9(),m=I.useMemo(()=>kI(t,e,d,s,r,"data"),[t,e,d,s,r]),p=I.useMemo(()=>kI(t,e,d,s,r,"assets"),[t,e,d,s,r]),b=I.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,T=!1;if(e.forEach(k=>{var F;let M=s.routes[k.route.id];!M||!M.hasLoader||(!m.some(B=>B.route.id===k.route.id)&&k.route.id in f&&((F=l[k.route.id])!=null&&F.shouldRevalidate)||M.hasClientLoader?T=!0:E.add(k.route.id))}),E.size===0)return[];let C=A9(t,c,i.unstable_trailingSlashAwareDataRequests,"data");return T&&E.size>0&&C.searchParams.set("_routes",e.filter(k=>E.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[c,i.unstable_trailingSlashAwareDataRequests,f,r,s,m,e,t,l]),_=I.useMemo(()=>R9(p,s),[p,s]),S=V9(p);return I.createElement(I.Fragment,null,b.map(E=>I.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),_.map(E=>I.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),S.map(({key:E,link:T})=>I.createElement("link",{key:E,nonce:n.nonce,...T})))}function z9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var B9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B9&&(window.__reactRouterVersion="7.12.0")}catch{}function U9({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=I.useRef();i.current==null&&(i.current=_z({window:r,v5Compat:!0}));let s=i.current,[l,c]=I.useState({action:s.action,location:s.location}),f=I.useCallback(d=>{n===!1?c(d):I.startTransition(()=>c(d))},[n]);return I.useLayoutEffect(()=>s.listen(f),[s,f]),I.createElement(g9,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n})}var yM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qu=I.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:f,to:d,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b,..._},S){let{basename:E,unstable_useTransitions:T}=I.useContext(Zr),C=typeof d=="string"&&yM.test(d),k=sM(d,E);d=k.to;let M=e9(d,{relative:i}),[F,B,U]=j9(r,_),R=H9(d,{replace:l,state:c,target:f,preventScrollReset:m,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:b,unstable_useTransitions:T});function N(z){e&&e(z),z.defaultPrevented||R(z)}let D=I.createElement("a",{..._,...U,href:k.absoluteURL||M,onClick:k.isExternal||s?e:N,ref:z9(S,B),target:f,"data-discover":!C&&n==="render"?"true":void 0});return F&&!C?I.createElement(I.Fragment,null,D,I.createElement(k9,{page:M})):D});Qu.displayName="Link";var q9=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:f,...d},m){let p=ld(l,{relative:d.relative}),b=io(),_=I.useContext(_y),{navigator:S,basename:E}=I.useContext(Zr),T=_!=null&&X9(p)&&c===!0,C=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,k=b.pathname,M=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(k=k.toLowerCase(),M=M?M.toLowerCase():null,C=C.toLowerCase()),M&&E&&(M=ja(M,E)||M);const F=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let B=k===C||!i&&k.startsWith(C)&&k.charAt(F)==="/",U=M!=null&&(M===C||!i&&M.startsWith(C)&&M.charAt(C.length)==="/"),R={isActive:B,isPending:U,isTransitioning:T},N=B?e:void 0,D;typeof r=="function"?D=r(R):D=[r,B?"active":null,U?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(R):s;return I.createElement(Qu,{...d,"aria-current":N,className:D,ref:m,style:z,to:l,viewTransition:c},typeof f=="function"?f(R):f)});q9.displayName="NavLink";var F9=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=zp,action:c,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b,..._},S)=>{let{unstable_useTransitions:E}=I.useContext(Zr),T=Y9(),C=Q9(c,{relative:d}),k=l.toLowerCase()==="get"?"get":"post",M=typeof c=="string"&&yM.test(c),F=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let U=B.nativeEvent.submitter,R=(U==null?void 0:U.getAttribute("formmethod"))||l,N=()=>T(U||B.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:i,state:s,relative:d,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:b});E&&n!==!1?I.startTransition(()=>N()):N()};return I.createElement("form",{ref:S,method:k,action:C,onSubmit:r?f:F,..._,"data-discover":!M&&t==="render"?"true":void 0})});F9.displayName="Form";function $9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vM(t){let e=I.useContext(Sc);return Mt(e,$9(t)),e}function H9(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let d=Dl(),m=io(),p=ld(t,{relative:s});return I.useCallback(b=>{if(w9(b,e)){b.preventDefault();let _=n!==void 0?n:Th(m)===Th(p),S=()=>d(t,{replace:_,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:c});f?I.startTransition(()=>S()):S()}},[m,d,p,n,r,e,t,i,s,l,c,f])}var K9=0,G9=()=>`__${String(++K9)}__`;function Y9(){let{router:t}=vM("useSubmit"),{basename:e}=I.useContext(Zr),n=h9(),r=t.fetch,i=t.navigate;return I.useCallback(async(s,l={})=>{let{action:c,method:f,encType:d,formData:m,body:p}=T9(s,e);if(l.navigate===!1){let b=l.fetcherKey||G9();await r(b,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||f,formEncType:l.encType||d,flushSync:l.flushSync})}else await i(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||f,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function Q9(t,{relative:e}={}){let{basename:n}=I.useContext(Zr),r=I.useContext(la);Mt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ld(t||".",{relative:e})},l=io();if(t==null){s.search=l.search;let c=new URLSearchParams(s.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Da([n,s.pathname])),Th(s)}function X9(t,{relative:e}={}){let n=I.useContext(lM);Mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=vM("useViewTransitionState"),i=ld(t,{relative:e});if(!n.isTransitioning)return!1;let s=ja(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ja(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ag(i.pathname,l)!=null||ag(i.pathname,s)!=null}var bM=ZD();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=t=>{const e=Z9(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},f)=>I.createElement("svg",{ref:f,...J9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_M("lucide",i),...!s&&!eB(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,m])=>I.createElement(d,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const n=I.forwardRef(({className:r,...i},s)=>I.createElement(tB,{ref:s,iconNode:e,className:_M(`lucide-${W9(VI(t))}`,`lucide-${t}`,r),...i}));return n.displayName=VI(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],rB=rt("archive",nB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],aB=rt("arrow-down-right",iB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Tc=rt("arrow-left",sB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],lB=rt("arrow-up-right",oB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],cB=rt("bell-off",uB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],hB=rt("bell",fB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],xM=rt("briefcase",dB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],pB=rt("calendar-clock",mB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],sg=rt("chart-pie",gB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ah=rt("check",yB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wM=rt("chevron-left",vB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wy=rt("chevron-right",bB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],EM=rt("circle-check",_B);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wB=rt("circle-question-mark",xB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],SB=rt("circle",EB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],AB=rt("clock",TB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],SM=rt("credit-card",IB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],CB=rt("database",OB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],NB=rt("grid-3x3",RB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],DB=rt("house",PB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jB=rt("log-out",MB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Xu=rt("pen",kB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fs=rt("plus",VB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zB=rt("search",LB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UB=rt("settings",BB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],FB=rt("shield",qB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],HB=rt("square-check",$B);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],GB=rt("tag",KB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yl=rt("trash-2",YB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],XB=rt("user",QB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ZB=rt("wallet",WB);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ey=rt("x",JB),eU=()=>{};var LI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},AM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,m=s>>2,p=(s&3)<<4|c>>4;let b=(c&15)<<2|d>>6,_=d&63;f||(_=64,l||(b=64)),r.push(n[m],n[p],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||p==null)throw new nU;const b=s<<2|c>>4;if(r.push(b),d!==64){const _=c<<4&240|d>>2;if(r.push(_),p!==64){const S=d<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rU=function(t){const e=TM(t);return AM.encodeByteArray(e,!0)},IM=function(t){return rU(t).replace(/\./g,"")},iU=function(t){try{return AM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=()=>OM().__FIREBASE_DEFAULTS__,sU=()=>{if(typeof process>"u"||typeof LI>"u")return;const t=LI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iU(t[1]);return e&&JSON.parse(e)},CM=()=>{try{return eU()||aU()||sU()||oU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lU=()=>{var t;return(t=CM())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cU(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NM(){var e;const t=(e=CM())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PM(){return!NM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DM(){return!NM()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function MM(){try{return typeof indexedDB=="object"}catch{return!1}}function fU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="FirebaseError";class Ac extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hU,Object.setPrototypeOf(this,Ac.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jM.prototype.create)}}class jM{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?dU(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ac(i,c,r)}}function dU(t,e){return t.replace(mU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const mU=/\{\$([^}]+)}/g;function lg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(zI(s)&&zI(l)){if(!lg(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t){return t&&t._delegate?t._delegate:t}class Ih{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pU=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yU(e))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qo){return this.instances.has(e)}getOptions(e=Qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qo){return this.component?this.component.multipleInstances?e:Qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gU(t){return t===Qo?void 0:t}function yU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const bU={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},_U=Ze.INFO,xU={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},wU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kM{constructor(e){this.name=e,this._logLevel=_U,this._logHandler=wU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const EU=(t,e)=>e.some(n=>t instanceof n);let BI,UI;function SU(){return BI||(BI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TU(){return UI||(UI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VM=new WeakMap,Lx=new WeakMap,LM=new WeakMap,Fb=new WeakMap,y1=new WeakMap;function AU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n($s(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&VM.set(n,t)}).catch(()=>{}),y1.set(e,t),e}function IU(t){if(Lx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Lx.set(t,e)}let zx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OU(t){zx=t(zx)}function CU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($b(this),e,...n);return LM.set(r,e.sort?e.sort():[e]),$s(r)}:TU().includes(t)?function(...e){return t.apply($b(this),e),$s(VM.get(this))}:function(...e){return $s(t.apply($b(this),e))}}function RU(t){return typeof t=="function"?CU(t):(t instanceof IDBTransaction&&IU(t),EU(t,SU())?new Proxy(t,zx):t)}function $s(t){if(t instanceof IDBRequest)return AU(t);if(Fb.has(t))return Fb.get(t);const e=RU(t);return e!==t&&(Fb.set(t,e),y1.set(e,t)),e}const $b=t=>y1.get(t);function NU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=$s(l);return r&&l.addEventListener("upgradeneeded",f=>{r($s(l.result),f.oldVersion,f.newVersion,$s(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const PU=["get","getKey","getAll","getAllKeys","count"],DU=["put","add","delete","clear"],Hb=new Map;function qI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hb.get(e))return Hb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PU.includes(n)))return;const s=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&f.done]))[0]};return Hb.set(e,s),s}OU(t=>({...t,get:(e,n,r)=>qI(e,n)||t.get(e,n,r),has:(e,n)=>!!qI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bx="@firebase/app",FI="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new kM("@firebase/app"),kU="@firebase/app-compat",VU="@firebase/analytics-compat",LU="@firebase/analytics",zU="@firebase/app-check-compat",BU="@firebase/app-check",UU="@firebase/auth",qU="@firebase/auth-compat",FU="@firebase/database",$U="@firebase/data-connect",HU="@firebase/database-compat",KU="@firebase/functions",GU="@firebase/functions-compat",YU="@firebase/installations",QU="@firebase/installations-compat",XU="@firebase/messaging",WU="@firebase/messaging-compat",ZU="@firebase/performance",JU="@firebase/performance-compat",e8="@firebase/remote-config",t8="@firebase/remote-config-compat",n8="@firebase/storage",r8="@firebase/storage-compat",i8="@firebase/firestore",a8="@firebase/ai",s8="@firebase/firestore-compat",o8="firebase",l8="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8="[DEFAULT]",c8={[Bx]:"fire-core",[kU]:"fire-core-compat",[LU]:"fire-analytics",[VU]:"fire-analytics-compat",[BU]:"fire-app-check",[zU]:"fire-app-check-compat",[UU]:"fire-auth",[qU]:"fire-auth-compat",[FU]:"fire-rtdb",[$U]:"fire-data-connect",[HU]:"fire-rtdb-compat",[KU]:"fire-fn",[GU]:"fire-fn-compat",[YU]:"fire-iid",[QU]:"fire-iid-compat",[XU]:"fire-fcm",[WU]:"fire-fcm-compat",[ZU]:"fire-perf",[JU]:"fire-perf-compat",[e8]:"fire-rc",[t8]:"fire-rc-compat",[n8]:"fire-gcs",[r8]:"fire-gcs-compat",[i8]:"fire-fst",[s8]:"fire-fst-compat",[a8]:"fire-vertex","fire-js":"fire-js",[o8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new Map,f8=new Map,qx=new Map;function $I(t,e){try{t.container.addComponent(e)}catch(n){Va.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ug(t){const e=t.name;if(qx.has(e))return Va.debug(`There were multiple attempts to register component ${e}.`),!1;qx.set(e,t);for(const n of Ux.values())$I(n,t);for(const n of f8.values())$I(n,t);return!0}function h8(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function d8(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ul=new jM("app","Firebase",m8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ih("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ul.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=l8;function y8(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:u8,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ul.create("bad-app-name",{appName:String(i)});if(n||(n=lU()),!n)throw ul.create("no-options");const s=Ux.get(i);if(s){if(lg(n,s.options)&&lg(r,s.config))return s;throw ul.create("duplicate-app",{appName:i})}const l=new vU(i);for(const f of qx.values())l.addComponent(f);const c=new p8(n,r,l);return Ux.set(i,c),c}function Fu(t,e,n){let r=c8[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Va.warn(l.join(" "));return}ug(new Ih(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8="firebase-heartbeat-database",b8=1,Oh="firebase-heartbeat-store";let Kb=null;function zM(){return Kb||(Kb=NU(v8,b8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ul.create("idb-open",{originalErrorMessage:t.message})})),Kb}async function _8(t){try{const n=(await zM()).transaction(Oh),r=await n.objectStore(Oh).get(BM(t));return await n.done,r}catch(e){if(e instanceof Ac)Va.warn(e.message);else{const n=ul.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Va.warn(n.message)}}}async function HI(t,e){try{const r=(await zM()).transaction(Oh,"readwrite");await r.objectStore(Oh).put(e,BM(t)),await r.done}catch(n){if(n instanceof Ac)Va.warn(n.message);else{const r=ul.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Va.warn(r.message)}}}function BM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=1024,w8=30;class E8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=KI();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>w8){const l=A8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Va.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=KI(),{heartbeatsToSend:r,unsentEntries:i}=S8(this._heartbeatsCache.heartbeats),s=IM(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Va.warn(n),""}}}function KI(){return new Date().toISOString().substring(0,10)}function S8(t,e=x8){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),GI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class T8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MM()?fU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return HI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return HI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function GI(t){return IM(JSON.stringify({version:2,heartbeats:t})).length}function A8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t){ug(new Ih("platform-logger",e=>new MU(e),"PRIVATE")),ug(new Ih("heartbeat",e=>new E8(e),"PRIVATE")),Fu(Bx,FI,t),Fu(Bx,FI,"esm2020"),Fu("fire-js","")}I8("");var O8="firebase",C8="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fu(O8,C8,"app");var YI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,UM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,N){function D(){}D.prototype=N.prototype,R.F=N.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(z,j,L){for(var q=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)q[ye-2]=arguments[ye];return N.prototype[j].apply(z,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,N,D){D||(D=0);const z=Array(16);if(typeof N=="string")for(var j=0;j<16;++j)z[j]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for(j=0;j<16;++j)z[j]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=R.g[0],D=R.g[1],j=R.g[2];let L=R.g[3],q;q=N+(L^D&(j^L))+z[0]+3614090360&4294967295,N=D+(q<<7&4294967295|q>>>25),q=L+(j^N&(D^j))+z[1]+3905402710&4294967295,L=N+(q<<12&4294967295|q>>>20),q=j+(D^L&(N^D))+z[2]+606105819&4294967295,j=L+(q<<17&4294967295|q>>>15),q=D+(N^j&(L^N))+z[3]+3250441966&4294967295,D=j+(q<<22&4294967295|q>>>10),q=N+(L^D&(j^L))+z[4]+4118548399&4294967295,N=D+(q<<7&4294967295|q>>>25),q=L+(j^N&(D^j))+z[5]+1200080426&4294967295,L=N+(q<<12&4294967295|q>>>20),q=j+(D^L&(N^D))+z[6]+2821735955&4294967295,j=L+(q<<17&4294967295|q>>>15),q=D+(N^j&(L^N))+z[7]+4249261313&4294967295,D=j+(q<<22&4294967295|q>>>10),q=N+(L^D&(j^L))+z[8]+1770035416&4294967295,N=D+(q<<7&4294967295|q>>>25),q=L+(j^N&(D^j))+z[9]+2336552879&4294967295,L=N+(q<<12&4294967295|q>>>20),q=j+(D^L&(N^D))+z[10]+4294925233&4294967295,j=L+(q<<17&4294967295|q>>>15),q=D+(N^j&(L^N))+z[11]+2304563134&4294967295,D=j+(q<<22&4294967295|q>>>10),q=N+(L^D&(j^L))+z[12]+1804603682&4294967295,N=D+(q<<7&4294967295|q>>>25),q=L+(j^N&(D^j))+z[13]+4254626195&4294967295,L=N+(q<<12&4294967295|q>>>20),q=j+(D^L&(N^D))+z[14]+2792965006&4294967295,j=L+(q<<17&4294967295|q>>>15),q=D+(N^j&(L^N))+z[15]+1236535329&4294967295,D=j+(q<<22&4294967295|q>>>10),q=N+(j^L&(D^j))+z[1]+4129170786&4294967295,N=D+(q<<5&4294967295|q>>>27),q=L+(D^j&(N^D))+z[6]+3225465664&4294967295,L=N+(q<<9&4294967295|q>>>23),q=j+(N^D&(L^N))+z[11]+643717713&4294967295,j=L+(q<<14&4294967295|q>>>18),q=D+(L^N&(j^L))+z[0]+3921069994&4294967295,D=j+(q<<20&4294967295|q>>>12),q=N+(j^L&(D^j))+z[5]+3593408605&4294967295,N=D+(q<<5&4294967295|q>>>27),q=L+(D^j&(N^D))+z[10]+38016083&4294967295,L=N+(q<<9&4294967295|q>>>23),q=j+(N^D&(L^N))+z[15]+3634488961&4294967295,j=L+(q<<14&4294967295|q>>>18),q=D+(L^N&(j^L))+z[4]+3889429448&4294967295,D=j+(q<<20&4294967295|q>>>12),q=N+(j^L&(D^j))+z[9]+568446438&4294967295,N=D+(q<<5&4294967295|q>>>27),q=L+(D^j&(N^D))+z[14]+3275163606&4294967295,L=N+(q<<9&4294967295|q>>>23),q=j+(N^D&(L^N))+z[3]+4107603335&4294967295,j=L+(q<<14&4294967295|q>>>18),q=D+(L^N&(j^L))+z[8]+1163531501&4294967295,D=j+(q<<20&4294967295|q>>>12),q=N+(j^L&(D^j))+z[13]+2850285829&4294967295,N=D+(q<<5&4294967295|q>>>27),q=L+(D^j&(N^D))+z[2]+4243563512&4294967295,L=N+(q<<9&4294967295|q>>>23),q=j+(N^D&(L^N))+z[7]+1735328473&4294967295,j=L+(q<<14&4294967295|q>>>18),q=D+(L^N&(j^L))+z[12]+2368359562&4294967295,D=j+(q<<20&4294967295|q>>>12),q=N+(D^j^L)+z[5]+4294588738&4294967295,N=D+(q<<4&4294967295|q>>>28),q=L+(N^D^j)+z[8]+2272392833&4294967295,L=N+(q<<11&4294967295|q>>>21),q=j+(L^N^D)+z[11]+1839030562&4294967295,j=L+(q<<16&4294967295|q>>>16),q=D+(j^L^N)+z[14]+4259657740&4294967295,D=j+(q<<23&4294967295|q>>>9),q=N+(D^j^L)+z[1]+2763975236&4294967295,N=D+(q<<4&4294967295|q>>>28),q=L+(N^D^j)+z[4]+1272893353&4294967295,L=N+(q<<11&4294967295|q>>>21),q=j+(L^N^D)+z[7]+4139469664&4294967295,j=L+(q<<16&4294967295|q>>>16),q=D+(j^L^N)+z[10]+3200236656&4294967295,D=j+(q<<23&4294967295|q>>>9),q=N+(D^j^L)+z[13]+681279174&4294967295,N=D+(q<<4&4294967295|q>>>28),q=L+(N^D^j)+z[0]+3936430074&4294967295,L=N+(q<<11&4294967295|q>>>21),q=j+(L^N^D)+z[3]+3572445317&4294967295,j=L+(q<<16&4294967295|q>>>16),q=D+(j^L^N)+z[6]+76029189&4294967295,D=j+(q<<23&4294967295|q>>>9),q=N+(D^j^L)+z[9]+3654602809&4294967295,N=D+(q<<4&4294967295|q>>>28),q=L+(N^D^j)+z[12]+3873151461&4294967295,L=N+(q<<11&4294967295|q>>>21),q=j+(L^N^D)+z[15]+530742520&4294967295,j=L+(q<<16&4294967295|q>>>16),q=D+(j^L^N)+z[2]+3299628645&4294967295,D=j+(q<<23&4294967295|q>>>9),q=N+(j^(D|~L))+z[0]+4096336452&4294967295,N=D+(q<<6&4294967295|q>>>26),q=L+(D^(N|~j))+z[7]+1126891415&4294967295,L=N+(q<<10&4294967295|q>>>22),q=j+(N^(L|~D))+z[14]+2878612391&4294967295,j=L+(q<<15&4294967295|q>>>17),q=D+(L^(j|~N))+z[5]+4237533241&4294967295,D=j+(q<<21&4294967295|q>>>11),q=N+(j^(D|~L))+z[12]+1700485571&4294967295,N=D+(q<<6&4294967295|q>>>26),q=L+(D^(N|~j))+z[3]+2399980690&4294967295,L=N+(q<<10&4294967295|q>>>22),q=j+(N^(L|~D))+z[10]+4293915773&4294967295,j=L+(q<<15&4294967295|q>>>17),q=D+(L^(j|~N))+z[1]+2240044497&4294967295,D=j+(q<<21&4294967295|q>>>11),q=N+(j^(D|~L))+z[8]+1873313359&4294967295,N=D+(q<<6&4294967295|q>>>26),q=L+(D^(N|~j))+z[15]+4264355552&4294967295,L=N+(q<<10&4294967295|q>>>22),q=j+(N^(L|~D))+z[6]+2734768916&4294967295,j=L+(q<<15&4294967295|q>>>17),q=D+(L^(j|~N))+z[13]+1309151649&4294967295,D=j+(q<<21&4294967295|q>>>11),q=N+(j^(D|~L))+z[4]+4149444226&4294967295,N=D+(q<<6&4294967295|q>>>26),q=L+(D^(N|~j))+z[11]+3174756917&4294967295,L=N+(q<<10&4294967295|q>>>22),q=j+(N^(L|~D))+z[2]+718787259&4294967295,j=L+(q<<15&4294967295|q>>>17),q=D+(L^(j|~N))+z[9]+3951481745&4294967295,R.g[0]=R.g[0]+N&4294967295,R.g[1]=R.g[1]+(j+(q<<21&4294967295|q>>>11))&4294967295,R.g[2]=R.g[2]+j&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.v=function(R,N){N===void 0&&(N=R.length);const D=N-this.blockSize,z=this.C;let j=this.h,L=0;for(;L<N;){if(j==0)for(;L<=D;)i(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<N;)if(z[j++]=R.charCodeAt(L++),j==this.blockSize){i(this,z),j=0;break}}else for(;L<N;)if(z[j++]=R[L++],j==this.blockSize){i(this,z),j=0;break}}this.h=j,this.o+=N},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var N=1;N<R.length-8;++N)R[N]=0;N=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=N&255,N/=256;for(this.v(R),R=Array(16),N=0,D=0;D<4;++D)for(let z=0;z<32;z+=8)R[N++]=this.g[D]>>>z&255;return R};function s(R,N){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=N(R)}function l(R,N){this.h=N;const D=[];let z=!0;for(let j=R.length-1;j>=0;j--){const L=R[j]|0;z&&L==N||(D[j]=L,z=!1)}this.g=D}var c={};function f(R){return-128<=R&&R<128?s(R,function(N){return new l([N|0],N<0?-1:0)}):new l([R|0],R<0?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return p;if(R<0)return T(d(-R));const N=[];let D=1;for(let z=0;R>=D;z++)N[z]=R/D|0,D*=4294967296;return new l(N,0)}function m(R,N){if(R.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R.charAt(0)=="-")return T(m(R.substring(1),N));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(N,8));let z=p;for(let L=0;L<R.length;L+=8){var j=Math.min(8,R.length-L);const q=parseInt(R.substring(L,L+j),N);j<8?(j=d(Math.pow(N,j)),z=z.j(j).add(d(q))):(z=z.j(D),z=z.add(d(q)))}return z}var p=f(0),b=f(1),_=f(16777216);t=l.prototype,t.m=function(){if(E(this))return-T(this).m();let R=0,N=1;for(let D=0;D<this.g.length;D++){const z=this.i(D);R+=(z>=0?z:4294967296+z)*N,N*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(S(this))return"0";if(E(this))return"-"+T(this).toString(R);const N=d(Math.pow(R,6));var D=this;let z="";for(;;){const j=F(D,N).g;D=C(D,j.j(N));let L=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=j,S(D))return L+z;for(;L.length<6;)L="0"+L;z=L+z}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function S(R){if(R.h!=0)return!1;for(let N=0;N<R.g.length;N++)if(R.g[N]!=0)return!1;return!0}function E(R){return R.h==-1}t.l=function(R){return R=C(this,R),E(R)?-1:S(R)?0:1};function T(R){const N=R.g.length,D=[];for(let z=0;z<N;z++)D[z]=~R.g[z];return new l(D,~R.h).add(b)}t.abs=function(){return E(this)?T(this):this},t.add=function(R){const N=Math.max(this.g.length,R.g.length),D=[];let z=0;for(let j=0;j<=N;j++){let L=z+(this.i(j)&65535)+(R.i(j)&65535),q=(L>>>16)+(this.i(j)>>>16)+(R.i(j)>>>16);z=q>>>16,L&=65535,q&=65535,D[j]=q<<16|L}return new l(D,D[D.length-1]&-2147483648?-1:0)};function C(R,N){return R.add(T(N))}t.j=function(R){if(S(this)||S(R))return p;if(E(this))return E(R)?T(this).j(T(R)):T(T(this).j(R));if(E(R))return T(this.j(T(R)));if(this.l(_)<0&&R.l(_)<0)return d(this.m()*R.m());const N=this.g.length+R.g.length,D=[];for(var z=0;z<2*N;z++)D[z]=0;for(z=0;z<this.g.length;z++)for(let j=0;j<R.g.length;j++){const L=this.i(z)>>>16,q=this.i(z)&65535,ye=R.i(j)>>>16,Ce=R.i(j)&65535;D[2*z+2*j]+=q*Ce,k(D,2*z+2*j),D[2*z+2*j+1]+=L*Ce,k(D,2*z+2*j+1),D[2*z+2*j+1]+=q*ye,k(D,2*z+2*j+1),D[2*z+2*j+2]+=L*ye,k(D,2*z+2*j+2)}for(R=0;R<N;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=N;R<2*N;R++)D[R]=0;return new l(D,0)};function k(R,N){for(;(R[N]&65535)!=R[N];)R[N+1]+=R[N]>>>16,R[N]&=65535,N++}function M(R,N){this.g=R,this.h=N}function F(R,N){if(S(N))throw Error("division by zero");if(S(R))return new M(p,p);if(E(R))return N=F(T(R),N),new M(T(N.g),T(N.h));if(E(N))return N=F(R,T(N)),new M(T(N.g),N.h);if(R.g.length>30){if(E(R)||E(N))throw Error("slowDivide_ only works with positive integers.");for(var D=b,z=N;z.l(R)<=0;)D=B(D),z=B(z);var j=U(D,1),L=U(z,1);for(z=U(z,2),D=U(D,2);!S(z);){var q=L.add(z);q.l(R)<=0&&(j=j.add(D),L=q),z=U(z,1),D=U(D,1)}return N=C(R,j.j(N)),new M(j,N)}for(j=p;R.l(N)>=0;){for(D=Math.max(1,Math.floor(R.m()/N.m())),z=Math.ceil(Math.log(D)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),L=d(D),q=L.j(N);E(q)||q.l(R)>0;)D-=z,L=d(D),q=L.j(N);S(L)&&(L=b),j=j.add(L),R=C(R,q)}return new M(j,R)}t.B=function(R){return F(this,R).h},t.and=function(R){const N=Math.max(this.g.length,R.g.length),D=[];for(let z=0;z<N;z++)D[z]=this.i(z)&R.i(z);return new l(D,this.h&R.h)},t.or=function(R){const N=Math.max(this.g.length,R.g.length),D=[];for(let z=0;z<N;z++)D[z]=this.i(z)|R.i(z);return new l(D,this.h|R.h)},t.xor=function(R){const N=Math.max(this.g.length,R.g.length),D=[];for(let z=0;z<N;z++)D[z]=this.i(z)^R.i(z);return new l(D,this.h^R.h)};function B(R){const N=R.g.length+1,D=[];for(let z=0;z<N;z++)D[z]=R.i(z)<<1|R.i(z-1)>>>31;return new l(D,R.h)}function U(R,N){const D=N>>5;N%=32;const z=R.g.length-D,j=[];for(let L=0;L<z;L++)j[L]=N>0?R.i(L+D)>>>N|R.i(L+D+1)<<32-N:R.i(L+D);return new l(j,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,UM=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=m,Hs=l}).apply(typeof YI<"u"?YI:typeof self<"u"?self:typeof window<"u"?window:{});var pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qM,uh,FM,Up,Fx,$M,HM,KM;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof pp=="object"&&pp];for(var x=0;x<g.length;++x){var O=g[x];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(g,x){if(x)e:{var O=r;g=g.split(".");for(var V=0;V<g.length-1;V++){var Q=g[V];if(!(Q in O))break e;O=O[Q]}g=g[g.length-1],V=O[g],x=x(V),x!=V&&x!=null&&e(O,g,{configurable:!0,writable:!0,value:x})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(x){var O=[],V;for(V in x)Object.prototype.hasOwnProperty.call(x,V)&&O.push([V,x[V]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(g){var x=typeof g;return x=="object"&&g!=null||x=="function"}function f(g,x,O){return g.call.apply(g.bind,arguments)}function d(g,x,O){return d=f,d.apply(null,arguments)}function m(g,x){var O=Array.prototype.slice.call(arguments,1);return function(){var V=O.slice();return V.push.apply(V,arguments),g.apply(this,V)}}function p(g,x){function O(){}O.prototype=x.prototype,g.Z=x.prototype,g.prototype=new O,g.prototype.constructor=g,g.Ob=function(V,Q,ne){for(var ge=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ge[Le-2]=arguments[Le];return x.prototype[Q].apply(V,ge)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const x=g.length;if(x>0){const O=Array(x);for(let V=0;V<x;V++)O[V]=g[V];return O}return[]}function S(g,x){for(let V=1;V<arguments.length;V++){const Q=arguments[V];var O=typeof Q;if(O=O!="object"?O:Q?Array.isArray(Q)?"array":O:"null",O=="array"||O=="object"&&typeof Q.length=="number"){O=g.length||0;const ne=Q.length||0;g.length=O+ne;for(let ge=0;ge<ne;ge++)g[O+ge]=Q[ge]}else g.push(Q)}}class E{constructor(x,O){this.i=x,this.j=O,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function T(g){l.setTimeout(()=>{throw g},0)}function C(){var g=R;let x=null;return g.g&&(x=g.g,g.g=g.g.next,g.g||(g.h=null),x.next=null),x}class k{constructor(){this.h=this.g=null}add(x,O){const V=M.get();V.set(x,O),this.h?this.h.next=V:this.g=V,this.h=V}}var M=new E(()=>new F,g=>g.reset());class F{constructor(){this.next=this.g=this.h=null}set(x,O){this.h=x,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let B,U=!1,R=new k,N=()=>{const g=Promise.resolve(void 0);B=()=>{g.then(D)}};function D(){for(var g;g=C();){try{g.h.call(g.g)}catch(O){T(O)}var x=M;x.j(g),x.h<100&&(x.h++,g.next=x.g,x.g=g)}U=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(g,x){this.type=g,this.g=this.target=x,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,x=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const O=()=>{};l.addEventListener("test",O,x),l.removeEventListener("test",O,x)}catch{}return g})();function q(g){return/^[\s\xa0]*$/.test(g)}function ye(g,x){j.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,x)}p(ye,j),ye.prototype.init=function(g,x){const O=this.type=g.type,V=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=x,x=g.relatedTarget,x||(O=="mouseover"?x=g.fromElement:O=="mouseout"&&(x=g.toElement)),this.relatedTarget=x,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ue(g,x,O,V,Q){this.listener=g,this.proxy=null,this.src=x,this.type=O,this.capture=!!V,this.ha=Q,this.key=++Z,this.da=this.fa=!1}function be(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ie(g,x,O){for(const V in g)x.call(O,g[V],V,g)}function ie(g,x){for(const O in g)x.call(void 0,g[O],O,g)}function $(g){const x={};for(const O in g)x[O]=g[O];return x}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(g,x){let O,V;for(let Q=1;Q<arguments.length;Q++){V=arguments[Q];for(O in V)g[O]=V[O];for(let ne=0;ne<ee.length;ne++)O=ee[ne],Object.prototype.hasOwnProperty.call(V,O)&&(g[O]=V[O])}}function de(g){this.src=g,this.g={},this.h=0}de.prototype.add=function(g,x,O,V,Q){const ne=g.toString();g=this.g[ne],g||(g=this.g[ne]=[],this.h++);const ge=Pe(g,x,V,Q);return ge>-1?(x=g[ge],O||(x.fa=!1)):(x=new ue(x,this.src,ne,!!V,Q),x.fa=O,g.push(x)),x};function _e(g,x){const O=x.type;if(O in g.g){var V=g.g[O],Q=Array.prototype.indexOf.call(V,x,void 0),ne;(ne=Q>=0)&&Array.prototype.splice.call(V,Q,1),ne&&(be(x),g.g[O].length==0&&(delete g.g[O],g.h--))}}function Pe(g,x,O,V){for(let Q=0;Q<g.length;++Q){const ne=g[Q];if(!ne.da&&ne.listener==x&&ne.capture==!!O&&ne.ha==V)return Q}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),Et={};function oe(g,x,O,V,Q){if(Array.isArray(x)){for(let ne=0;ne<x.length;ne++)oe(g,x[ne],O,V,Q);return null}return O=ts(O),g&&g[Ce]?g.J(x,O,c(V)?!!V.capture:!1,Q):ke(g,x,O,!1,V,Q)}function ke(g,x,O,V,Q,ne){if(!x)throw Error("Invalid event type");const ge=c(Q)?!!Q.capture:!!Q;let Le=$t(g);if(Le||(g[Se]=Le=new de(g)),O=Le.add(x,O,V,ge,ne),O.proxy)return O;if(V=qe(),O.proxy=V,V.src=g,V.listener=O,g.addEventListener)L||(Q=ge),Q===void 0&&(Q=!1),g.addEventListener(x.toString(),V,Q);else if(g.attachEvent)g.attachEvent($e(x.toString()),V);else if(g.addListener&&g.removeListener)g.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return O}function qe(){function g(O){return x.call(g.src,g.listener,O)}const x=dn;return g}function me(g,x,O,V,Q){if(Array.isArray(x))for(var ne=0;ne<x.length;ne++)me(g,x[ne],O,V,Q);else V=c(V)?!!V.capture:!!V,O=ts(O),g&&g[Ce]?(g=g.i,ne=String(x).toString(),ne in g.g&&(x=g.g[ne],O=Pe(x,O,V,Q),O>-1&&(be(x[O]),Array.prototype.splice.call(x,O,1),x.length==0&&(delete g.g[ne],g.h--)))):g&&(g=$t(g))&&(x=g.g[x.toString()],g=-1,x&&(g=Pe(x,O,V,Q)),(O=g>-1?x[g]:null)&&Ft(O))}function Ft(g){if(typeof g!="number"&&g&&!g.da){var x=g.src;if(x&&x[Ce])_e(x.i,g);else{var O=g.type,V=g.proxy;x.removeEventListener?x.removeEventListener(O,V,g.capture):x.detachEvent?x.detachEvent($e(O),V):x.addListener&&x.removeListener&&x.removeListener(V),(O=$t(x))?(_e(O,g),O.h==0&&(O.src=null,x[Se]=null)):be(g)}}}function $e(g){return g in Et?Et[g]:Et[g]="on"+g}function dn(g,x){if(g.da)g=!0;else{x=new ye(x,this);const O=g.listener,V=g.ha||g.src;g.fa&&Ft(g),g=O.call(V,x)}return g}function $t(g){return g=g[Se],g instanceof de?g:null}var ur="__closure_events_fn_"+(Math.random()*1e9>>>0);function ts(g){return typeof g=="function"?g:(g[ur]||(g[ur]=function(x){return g.handleEvent(x)}),g[ur])}function Wt(){z.call(this),this.i=new de(this),this.M=this,this.G=null}p(Wt,z),Wt.prototype[Ce]=!0,Wt.prototype.removeEventListener=function(g,x,O,V){me(this,g,x,O,V)};function mn(g,x){var O,V=g.G;if(V)for(O=[];V;V=V.G)O.push(V);if(g=g.M,V=x.type||x,typeof x=="string")x=new j(x,g);else if(x instanceof j)x.target=x.target||g;else{var Q=x;x=new j(V,g),fe(x,Q)}Q=!0;let ne,ge;if(O)for(ge=O.length-1;ge>=0;ge--)ne=x.g=O[ge],Q=ns(ne,V,!0,x)&&Q;if(ne=x.g=g,Q=ns(ne,V,!0,x)&&Q,Q=ns(ne,V,!1,x)&&Q,O)for(ge=0;ge<O.length;ge++)ne=x.g=O[ge],Q=ns(ne,V,!1,x)&&Q}Wt.prototype.N=function(){if(Wt.Z.N.call(this),this.i){var g=this.i;for(const x in g.g){const O=g.g[x];for(let V=0;V<O.length;V++)be(O[V]);delete g.g[x],g.h--}}this.G=null},Wt.prototype.J=function(g,x,O,V){return this.i.add(String(g),x,!1,O,V)},Wt.prototype.K=function(g,x,O,V){return this.i.add(String(g),x,!0,O,V)};function ns(g,x,O,V){if(x=g.i.g[String(x)],!x)return!0;x=x.concat();let Q=!0;for(let ne=0;ne<x.length;++ne){const ge=x[ne];if(ge&&!ge.da&&ge.capture==O){const Le=ge.listener,Kt=ge.ha||ge.src;ge.fa&&_e(g.i,ge),Q=Le.call(Kt,V)!==!1&&Q}}return Q&&!V.defaultPrevented}function jv(g,x){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:l.setTimeout(g,x||0)}function zd(g){g.g=jv(()=>{g.g=null,g.i&&(g.i=!1,zd(g))},g.l);const x=g.h;g.h=null,g.m.apply(null,x)}class $n extends z{constructor(x,O){super(),this.m=x,this.l=O,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:zd(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vo(g){z.call(this),this.h=g,this.g={}}p(vo,z);var Fc=[];function $c(g){Ie(g.g,function(x,O){this.g.hasOwnProperty(O)&&Ft(x)},g),g.g={}}vo.prototype.N=function(){vo.Z.N.call(this),$c(this)},vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=l.JSON.stringify,kv=l.JSON.parse,Bd=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Ud(){}function qd(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Cn(){j.call(this,"d")}p(Cn,j);function Cr(){j.call(this,"c")}p(Cr,j);var Ht={},Fd=null;function Ll(){return Fd=Fd||new Wt}Ht.Ia="serverreachability";function $d(g){j.call(this,Ht.Ia,g)}p($d,j);function Si(g){const x=Ll();mn(x,new $d(x))}Ht.STAT_EVENT="statevent";function bo(g,x){j.call(this,Ht.STAT_EVENT,g),this.stat=x}p(bo,j);function Zt(g){const x=Ll();mn(x,new bo(x,g))}Ht.Ja="timingevent";function Ti(g,x){j.call(this,Ht.Ja,g),this.size=x}p(Ti,j);function Ai(g,x){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},x)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Vv(g,x,O,V,Q,ne){g.info(function(){if(g.g)if(ne){var ge="",Le=ne.split("&");for(let it=0;it<Le.length;it++){var Kt=Le[it].split("=");if(Kt.length>1){const It=Kt[0];Kt=Kt[1];const Dr=It.split("_");ge=Dr.length>=2&&Dr[1]=="type"?ge+(It+"="+Kt+"&"):ge+(It+"=redacted&")}}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+V+") [attempt "+Q+"]: "+x+`
`+O+`
`+ge})}function Hd(g,x,O,V,Q,ne,ge){g.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+Q+"]: "+x+`
`+O+`
`+ne+" "+ge})}function Ii(g,x,O,V){g.info(function(){return"XMLHTTP TEXT ("+x+"): "+Lv(g,O)+(V?" "+V:"")})}function _o(g,x){g.info(function(){return"TIMEOUT: "+x})}ti.prototype.info=function(){};function Lv(g,x){if(!g.g)return x;if(!x)return null;try{const ne=JSON.parse(x);if(ne){for(g=0;g<ne.length;g++)if(Array.isArray(ne[g])){var O=ne[g];if(!(O.length<2)){var V=O[1];if(Array.isArray(V)&&!(V.length<1)){var Q=V[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ge=1;ge<V.length;ge++)V[ge]=""}}}}return rs(ne)}catch{return x}}var xo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kc;function wo(){}p(wo,Ud),wo.prototype.g=function(){return new XMLHttpRequest},Kc=new wo;function ca(g){return encodeURIComponent(String(g))}function Kd(g){var x=1;g=g.split(":");const O=[];for(;x>0&&g.length;)O.push(g.shift()),x--;return g.length&&O.push(g.join(":")),O}function ni(g,x,O,V){this.j=g,this.i=x,this.l=O,this.S=V||1,this.V=new vo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var Jt={},xn={};function Oi(g,x,O){g.M=1,g.A=Eo(tn(x)),g.u=O,g.R=!0,zl(g,null)}function zl(g,x){g.F=Date.now(),Ci(g),g.B=tn(g.A);var O=g.B,V=g.S;Array.isArray(V)||(V=[String(V)]),Fl(O.i,"t",V),g.C=0,O=g.j.L,g.h=new ri,g.g=om(g.j,O?x:null,!g.u),g.P>0&&(g.O=new $n(d(g.Y,g,g.g),g.P)),x=g.V,O=g.g,V=g.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Fc[0]=Q.toString()),Q=Fc);for(let ne=0;ne<Q.length;ne++){const ge=oe(O,Q[ne],V||x.handleEvent,!1,x.h||x);if(!ge)break;x.g[ge.key]=ge}x=g.J?$(g.J):{},g.u?(g.v||(g.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,x)):(g.v="GET",g.g.ea(g.B,g.v,null,x)),Si(),Vv(g.i,g.v,g.B,g.l,g.S,g.u)}ni.prototype.ba=function(g){g=g.target;const x=this.O;x&&si(g)==3?x.j():this.Y(g)},ni.prototype.Y=function(g){try{if(g==this.g)e:{const Le=si(this.g),Kt=this.g.ya(),it=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||Rn(this.g)))){this.K||Le!=4||Kt==7||(Kt==8||it<=0?Si(3):Si(2)),Ri(this);var x=this.g.ca();this.X=x;var O=zv(this);if(this.o=x==200,Hd(this.i,this.v,this.B,this.l,this.S,Le,x),this.o){if(this.U&&!this.L){t:{if(this.g){var V,Q=this.g;if((V=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(V)){var ne=V;break t}}ne=null}if(g=ne)Ii(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,g);else{this.o=!1,this.m=3,Zt(12),cr(this),Rr(this);break e}}if(this.R){g=!0;let It;for(;!this.K&&this.C<O.length;)if(It=Yd(this,O),It==xn){Le==4&&(this.m=4,Zt(14),g=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(It==Jt){this.m=4,Zt(15),Ii(this.i,this.l,O,"[Invalid Chunk]"),g=!1;break}else Ii(this.i,this.l,It,null),Ni(this,It);if(Gd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||O.length!=0||this.h.h||(this.m=1,Zt(16),g=!1),this.o=this.o&&g,!g)Ii(this.i,this.l,O,"[Invalid Chunked Response]"),cr(this),Rr(this);else if(O.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),lf(ge),ge.P=!0,Zt(11))}}else Ii(this.i,this.l,O,null),Ni(this,O);Le==4&&cr(this),this.o&&!this.K&&(Le==4?rm(this.j,this):(this.o=!1,Ci(this)))}else ha(this.g),x==400&&O.indexOf("Unknown SID")>0?(this.m=3,Zt(12)):(this.m=0,Zt(13)),cr(this),Rr(this)}}}catch{}finally{}};function zv(g){if(!Gd(g))return g.g.la();const x=Rn(g.g);if(x==="")return"";let O="";const V=x.length,Q=si(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return cr(g),Rr(g),"";g.h.i=new l.TextDecoder}for(let ne=0;ne<V;ne++)g.h.h=!0,O+=g.h.i.decode(x[ne],{stream:!(Q&&ne==V-1)});return x.length=0,g.h.g+=O,g.C=0,g.h.g}function Gd(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Yd(g,x){var O=g.C,V=x.indexOf(`
`,O);return V==-1?xn:(O=Number(x.substring(O,V)),isNaN(O)?Jt:(V+=1,V+O>x.length?xn:(x=x.slice(V,V+O),g.C=V+O,x)))}ni.prototype.cancel=function(){this.K=!0,cr(this)};function Ci(g){g.T=Date.now()+g.H,Bl(g,g.H)}function Bl(g,x){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Ai(d(g.aa,g),x)}function Ri(g){g.D&&(l.clearTimeout(g.D),g.D=null)}ni.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(_o(this.i,this.B),this.M!=2&&(Si(),Zt(17)),cr(this),this.m=2,Rr(this)):Bl(this,this.T-g)};function Rr(g){g.j.I==0||g.K||rm(g.j,g)}function cr(g){Ri(g);var x=g.O;x&&typeof x.dispose=="function"&&x.dispose(),g.O=null,$c(g.V),g.g&&(x=g.g,g.g=null,x.abort(),x.dispose())}function Ni(g,x){try{var O=g.j;if(O.I!=0&&(O.g==g||Di(O.h,g))){if(!g.L&&Di(O.h,g)&&O.I==3){try{var V=O.Ba.g.parse(x)}catch{V=null}if(Array.isArray(V)&&V.length==3){var Q=V;if(Q[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<g.F)Yl(O),fs(O);else break e;Ro(O),Zt(18)}}else O.xa=Q[1],0<O.xa-O.K&&Q[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Ai(d(O.Va,O),6e3));Pi(O.h)<=1&&O.ta&&(O.ta=void 0)}else zi(O,11)}else if((g.L||O.g==g)&&Yl(O),!q(x))for(Q=O.Ba.g.parse(x),x=0;x<Q.length;x++){let it=Q[x];const It=it[0];if(!(It<=O.K))if(O.K=It,it=it[1],O.I==2)if(it[0]=="c"){O.M=it[1],O.ba=it[2];const Dr=it[3];Dr!=null&&(O.ka=Dr,O.j.info("VER="+O.ka));const Bi=it[4];Bi!=null&&(O.za=Bi,O.j.info("SVER="+O.za));const oi=it[5];oi!=null&&typeof oi=="number"&&oi>0&&(V=1.5*oi,O.O=V,O.j.info("backChannelRequestTimeoutMs_="+V)),V=O;const li=g.g;if(li){const No=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(No){var ne=V.h;ne.g||No.indexOf("spdy")==-1&&No.indexOf("quic")==-1&&No.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Qc(ne,ne.h),ne.h=null))}if(V.G){const Ql=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;Ql&&(V.wa=Ql,ot(V.J,V.G,Ql))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-g.F,O.j.info("Handshake RTT: "+O.T+"ms")),V=O;var ge=g;if(V.na=sm(V,V.L?V.ba:null,V.W),ge.L){Xc(V.h,ge);var Le=ge,Kt=V.O;Kt&&(Le.H=Kt),Le.D&&(Ri(Le),Ci(Le)),V.g=ge}else tm(V);O.i.length>0&&Li(O)}else it[0]!="stop"&&it[0]!="close"||zi(O,7);else O.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?zi(O,7):sf(O):it[0]!="noop"&&O.l&&O.l.qa(it),O.A=0)}}Si(4)}catch{}}var en=class{constructor(g,x){this.g=g,this.map=x}};function Gc(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yc(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Pi(g){return g.h?1:g.g?g.g.size:0}function Di(g,x){return g.h?g.h==x:g.g?g.g.has(x):!1}function Qc(g,x){g.g?g.g.add(x):g.h=x}function Xc(g,x){g.h&&g.h==x?g.h=null:g.g&&g.g.has(x)&&g.g.delete(x)}Gc.prototype.cancel=function(){if(this.i=Wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Wc(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let x=g.i;for(const O of g.g.values())x=x.concat(O.G);return x}return _(g.i)}var Qd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ul(g,x){if(g){g=g.split("&");for(let O=0;O<g.length;O++){const V=g[O].indexOf("=");let Q,ne=null;V>=0?(Q=g[O].substring(0,V),ne=g[O].substring(V+1)):Q=g[O],x(Q,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function fr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;g instanceof fr?(this.l=g.l,wn(this,g.j),this.o=g.o,this.g=g.g,is(this,g.u),this.h=g.h,Zc(this,Jd(g.i)),this.m=g.m):g&&(x=String(g).match(Qd))?(this.l=!1,wn(this,x[1]||"",!0),this.o=Mi(x[2]||""),this.g=Mi(x[3]||"",!0),is(this,x[4]),this.h=Mi(x[5]||"",!0),Zc(this,x[6]||"",!0),this.m=Mi(x[7]||"")):(this.l=!1,this.i=new ss(null,this.l))}fr.prototype.toString=function(){const g=[];var x=this.j;x&&g.push(So(x,ql,!0),":");var O=this.g;return(O||x=="file")&&(g.push("//"),(x=this.o)&&g.push(So(x,ql,!0),"@"),g.push(ca(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&g.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&g.push("/"),g.push(So(O,O.charAt(0)=="/"?Jc:Xd,!0))),(O=this.i.toString())&&g.push("?",O),(O=this.m)&&g.push("#",So(O,Wd)),g.join("")},fr.prototype.resolve=function(g){const x=tn(this);let O=!!g.j;O?wn(x,g.j):O=!!g.o,O?x.o=g.o:O=!!g.g,O?x.g=g.g:O=g.u!=null;var V=g.h;if(O)is(x,g.u);else if(O=!!g.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var Q=x.h.lastIndexOf("/");Q!=-1&&(V=x.h.slice(0,Q+1)+V)}if(Q=V,Q==".."||Q==".")V="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){V=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ne=[];for(let ge=0;ge<Q.length;){const Le=Q[ge++];Le=="."?V&&ge==Q.length&&ne.push(""):Le==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),V&&ge==Q.length&&ne.push("")):(ne.push(Le),V=!0)}V=ne.join("/")}else V=Q}return O?x.h=V:O=g.i.toString()!=="",O?Zc(x,Jd(g.i)):O=!!g.m,O&&(x.m=g.m),x};function tn(g){return new fr(g)}function wn(g,x,O){g.j=O?Mi(x,!0):x,g.j&&(g.j=g.j.replace(/:$/,""))}function is(g,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);g.u=x}else g.u=null}function Zc(g,x,O){x instanceof ss?(g.i=x,$l(g.i,g.l)):(O||(x=So(x,as)),g.i=new ss(x,g.l))}function ot(g,x,O){g.i.set(x,O)}function Eo(g){return ot(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Mi(g,x){return g?x?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function So(g,x,O){return typeof g=="string"?(g=encodeURI(g).replace(x,Wn),O&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Wn(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var ql=/[#\/\?@]/g,Xd=/[#\?:]/g,Jc=/[#\?]/g,as=/[#\?@]/g,Wd=/#/g;function ss(g,x){this.h=this.g=null,this.i=g||null,this.j=!!x}function Zn(g){g.g||(g.g=new Map,g.h=0,g.i&&Ul(g.i,function(x,O){g.add(decodeURIComponent(x.replace(/\+/g," ")),O)}))}t=ss.prototype,t.add=function(g,x){Zn(this),this.i=null,g=os(this,g);let O=this.g.get(g);return O||this.g.set(g,O=[]),O.push(x),this.h+=1,this};function Zd(g,x){Zn(g),x=os(g,x),g.g.has(x)&&(g.i=null,g.h-=g.g.get(x).length,g.g.delete(x))}function ef(g,x){return Zn(g),x=os(g,x),g.g.has(x)}t.forEach=function(g,x){Zn(this),this.g.forEach(function(O,V){O.forEach(function(Q){g.call(x,Q,V,this)},this)},this)};function tf(g,x){Zn(g);let O=[];if(typeof x=="string")ef(g,x)&&(O=O.concat(g.g.get(os(g,x))));else for(g=Array.from(g.g.values()),x=0;x<g.length;x++)O=O.concat(g[x]);return O}t.set=function(g,x){return Zn(this),this.i=null,g=os(this,g),ef(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[x]),this.h+=1,this},t.get=function(g,x){return g?(g=tf(this,g),g.length>0?String(g[0]):x):x};function Fl(g,x,O){Zd(g,x),O.length>0&&(g.i=null,g.g.set(os(g,x),_(O)),g.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],x=Array.from(this.g.keys());for(let V=0;V<x.length;V++){var O=x[V];const Q=ca(O);O=tf(this,O);for(let ne=0;ne<O.length;ne++){let ge=Q;O[ne]!==""&&(ge+="="+ca(O[ne])),g.push(ge)}}return this.i=g.join("&")};function Jd(g){const x=new ss;return x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),x}function os(g,x){return x=String(x),g.j&&(x=x.toLowerCase()),x}function $l(g,x){x&&!g.j&&(Zn(g),g.i=null,g.g.forEach(function(O,V){const Q=V.toLowerCase();V!=Q&&(Zd(this,V),Fl(this,Q,O))},g)),g.j=x}function ii(g,x){const O=new ti;if(l.Image){const V=new Image;V.onload=m(Nr,O,"TestLoadImage: loaded",!0,x,V),V.onerror=m(Nr,O,"TestLoadImage: error",!1,x,V),V.onabort=m(Nr,O,"TestLoadImage: abort",!1,x,V),V.ontimeout=m(Nr,O,"TestLoadImage: timeout",!1,x,V),l.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=g}else x(!1)}function nf(g,x){const O=new ti,V=new AbortController,Q=setTimeout(()=>{V.abort(),Nr(O,"TestPingServer: timeout",!1,x)},1e4);fetch(g,{signal:V.signal}).then(ne=>{clearTimeout(Q),ne.ok?Nr(O,"TestPingServer: ok",!0,x):Nr(O,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Q),Nr(O,"TestPingServer: error",!1,x)})}function Nr(g,x,O,V,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),V(O)}catch{}}function ls(){this.g=new Bd}function ji(g){this.i=g.Sb||null,this.h=g.ab||!1}p(ji,Ud),ji.prototype.g=function(){return new To(this.i,this.h)};function To(g,x){Wt.call(this),this.H=g,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(To,Wt),t=To.prototype,t.open=function(g,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=x,this.readyState=1,ai(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(x.body=g),(this.H||l).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hl(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hl(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var x=g.value?g.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!g.done}))&&(this.response=this.responseText+=x)}g.done?us(this):ai(this),this.readyState==3&&Hl(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,us(this))},t.Na=function(g){this.g&&(this.response=g,us(this))},t.ga=function(){this.g&&us(this)};function us(g){g.readyState=4,g.l=null,g.j=null,g.B=null,ai(g)}t.setRequestHeader=function(g,x){this.A.append(g,x)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],x=this.h.entries();for(var O=x.next();!O.done;)O=O.value,g.push(O[0]+": "+O[1]),O=x.next();return g.join(`\r
`)};function ai(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(To.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Pr(g){let x="";return Ie(g,function(O,V){x+=V,x+=":",x+=O,x+=`\r
`}),x}function Ao(g,x,O){e:{for(V in O){var V=!1;break e}V=!0}V||(O=Pr(O),typeof g=="string"?O!=null&&ca(O):ot(g,x,O))}function dt(g){Wt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(dt,Wt);var ki=/^https?$/i,rf=["POST","PUT"];t=dt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,x,O,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);x=x?x.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kc.g(),this.g.onreadystatechange=b(d(this.Ca,this));try{this.B=!0,this.g.open(x,String(g),!0),this.B=!1}catch(ne){Io(this,ne);return}if(g=O||"",O=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var Q in V)O.set(Q,V[Q]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ne of V.keys())O.set(ne,V.get(ne));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(O.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(rf,x,void 0)>=0)||V||Q||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of O)this.g.setRequestHeader(ne,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ne){Io(this,ne)}};function Io(g,x){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=x,g.o=5,af(g),fa(g)}function af(g){g.A||(g.A=!0,mn(g,"complete"),mn(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,mn(this,"complete"),mn(this,"abort"),fa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fa(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Oo(this):this.Xa())},t.Xa=function(){Oo(this)};function Oo(g){if(g.h&&typeof s<"u"){if(g.v&&si(g)==4)setTimeout(g.Ca.bind(g),0);else if(mn(g,"readystatechange"),si(g)==4){g.h=!1;try{const ne=g.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var O;if(!(O=x)){var V;if(V=ne===0){let ge=String(g.D).match(Qd)[1]||null;!ge&&l.self&&l.self.location&&(ge=l.self.location.protocol.slice(0,-1)),V=!ki.test(ge?ge.toLowerCase():"")}O=V}if(O)mn(g,"complete"),mn(g,"success");else{g.o=6;try{var Q=si(g)>2?g.g.statusText:""}catch{Q=""}g.l=Q+" ["+g.ca()+"]",af(g)}}finally{fa(g)}}}}function fa(g,x){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const O=g.g;g.g=null,x||mn(g,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function si(g){return g.g?g.g.readyState:0}t.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var x=this.g.responseText;return g&&x.indexOf(g)==0&&(x=x.substring(g.length)),kv(x)}};function Rn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ha(g){const x={};g=(g.g&&si(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<g.length;V++){if(q(g[V]))continue;var O=Kd(g[V]);const Q=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ne=x[Q]||[];x[Q]=ne,ne.push(O)}ie(x,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(g,x,O){return O&&O.internalChannelParams&&O.internalChannelParams[g]||x}function cs(g){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,g),this.Za=Vi("retryDelaySeedMs",1e4,g),this.Ta=Vi("forwardChannelMaxRetries",2,g),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Gc(g&&g.concurrentRequestLimit),this.Ba=new ls,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=cs.prototype,t.ka=8,t.I=1,t.connect=function(g,x,O,V){Zt(0),this.W=g,this.H=x||{},O&&V!==void 0&&(this.H.OSID=O,this.H.OAID=V),this.F=this.X,this.J=sm(this,null,this.W),Li(this)};function sf(g){if(Kl(g),g.I==3){var x=g.V++,O=tn(g.J);if(ot(O,"SID",g.M),ot(O,"RID",x),ot(O,"TYPE","terminate"),Co(g,O),x=new ni(g,g.j,x),x.M=2,x.A=Eo(tn(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(x.A.toString(),"")}catch{}!O&&l.Image&&(new Image().src=x.A,O=!0),O||(x.g=om(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Ci(x)}am(g)}function fs(g){g.g&&(lf(g),g.g.cancel(),g.g=null)}function Kl(g){fs(g),g.v&&(l.clearTimeout(g.v),g.v=null),Yl(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Li(g){if(!Yc(g.h)&&!g.m){g.m=!0;var x=g.Ea;B||N(),U||(B(),U=!0),R.add(x,g),g.D=0}}function Gl(g,x){return Pi(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=x.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Ai(d(g.Ea,g,x),im(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Q=new ni(this,this.j,g);let ne=this.o;if(this.U&&(ne?(ne=$(ne),fe(ne,this.U)):ne=this.U),this.u!==null||this.R||(Q.J=ne,ne=null),this.S)e:{for(var x=0,O=0;O<this.i.length;O++){t:{var V=this.i[O];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(x+=V,x>4096){x=O;break e}if(x===4096||O===this.i.length-1){x=O+1;break e}}x=1e3}else x=1e3;x=em(this,Q,x),O=tn(this.J),ot(O,"RID",g),ot(O,"CVER",22),this.G&&ot(O,"X-HTTP-Session-Id",this.G),Co(this,O),ne&&(this.R?x="headers="+ca(Pr(ne))+"&"+x:this.u&&Ao(O,this.u,ne)),Qc(this.h,Q),this.Ra&&ot(O,"TYPE","init"),this.S?(ot(O,"$req",x),ot(O,"SID","null"),Q.U=!0,Oi(Q,O,null)):Oi(Q,O,x),this.I=2}}else this.I==3&&(g?of(this,g):this.i.length==0||Yc(this.h)||of(this))};function of(g,x){var O;x?O=x.l:O=g.V++;const V=tn(g.J);ot(V,"SID",g.M),ot(V,"RID",O),ot(V,"AID",g.K),Co(g,V),g.u&&g.o&&Ao(V,g.u,g.o),O=new ni(g,g.j,O,g.D+1),g.u===null&&(O.J=g.o),x&&(g.i=x.G.concat(g.i)),x=em(g,O,1e3),O.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Qc(g.h,O),Oi(O,V,x)}function Co(g,x){g.H&&Ie(g.H,function(O,V){ot(x,V,O)}),g.l&&Ie({},function(O,V){ot(x,V,O)})}function em(g,x,O){O=Math.min(g.i.length,O);const V=g.l?d(g.l.Ka,g.l,g):null;e:{var Q=g.i;let Le=-1;for(;;){const Kt=["count="+O];Le==-1?O>0?(Le=Q[0].g,Kt.push("ofs="+Le)):Le=0:Kt.push("ofs="+Le);let it=!0;for(let It=0;It<O;It++){var ne=Q[It].g;const Dr=Q[It].map;if(ne-=Le,ne<0)Le=Math.max(0,Q[It].g-100),it=!1;else try{ne="req"+ne+"_"||"";try{var ge=Dr instanceof Map?Dr:Object.entries(Dr);for(const[Bi,oi]of ge){let li=oi;c(oi)&&(li=rs(oi)),Kt.push(ne+Bi+"="+encodeURIComponent(li))}}catch(Bi){throw Kt.push(ne+"type="+encodeURIComponent("_badmap")),Bi}}catch{V&&V(Dr)}}if(it){ge=Kt.join("&");break e}}ge=void 0}return g=g.i.splice(0,O),x.G=g,ge}function tm(g){if(!g.g&&!g.v){g.Y=1;var x=g.Da;B||N(),U||(B(),U=!0),R.add(x,g),g.A=0}}function Ro(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Ai(d(g.Da,g),im(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,nm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Ai(d(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Zt(10),fs(this),nm(this))};function lf(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function nm(g){g.g=new ni(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var x=tn(g.na);ot(x,"RID","rpc"),ot(x,"SID",g.M),ot(x,"AID",g.K),ot(x,"CI",g.F?"0":"1"),!g.F&&g.ia&&ot(x,"TO",g.ia),ot(x,"TYPE","xmlhttp"),Co(g,x),g.u&&g.o&&Ao(x,g.u,g.o),g.O&&(g.g.H=g.O);var O=g.g;g=g.ba,O.M=1,O.A=Eo(tn(x)),O.u=null,O.R=!0,zl(O,g)}t.Va=function(){this.C!=null&&(this.C=null,fs(this),Ro(this),Zt(19))};function Yl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function rm(g,x){var O=null;if(g.g==x){Yl(g),lf(g),g.g=null;var V=2}else if(Di(g.h,x))O=x.G,Xc(g.h,x),V=1;else return;if(g.I!=0){if(x.o)if(V==1){O=x.u?x.u.length:0,x=Date.now()-x.F;var Q=g.D;V=Ll(),mn(V,new Ti(V,O)),Li(g)}else tm(g);else if(Q=x.m,Q==3||Q==0&&x.X>0||!(V==1&&Gl(g,x)||V==2&&Ro(g)))switch(O&&O.length>0&&(x=g.h,x.i=x.i.concat(O)),Q){case 1:zi(g,5);break;case 4:zi(g,10);break;case 3:zi(g,6);break;default:zi(g,2)}}}function im(g,x){let O=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(O*=2),O*x}function zi(g,x){if(g.j.info("Error code "+x),x==2){var O=d(g.bb,g),V=g.Ua;const Q=!V;V=new fr(V||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||wn(V,"https"),Eo(V),Q?ii(V.toString(),O):nf(V.toString(),O)}else Zt(2);g.I=0,g.l&&g.l.pa(x),am(g),Kl(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function am(g){if(g.I=0,g.ja=[],g.l){const x=Wc(g.h);(x.length!=0||g.i.length!=0)&&(S(g.ja,x),S(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function sm(g,x,O){var V=O instanceof fr?tn(O):new fr(O);if(V.g!="")x&&(V.g=x+"."+V.g),is(V,V.u);else{var Q=l.location;V=Q.protocol,x=x?x+"."+Q.hostname:Q.hostname,Q=+Q.port;const ne=new fr(null);V&&wn(ne,V),x&&(ne.g=x),Q&&is(ne,Q),O&&(ne.h=O),V=ne}return O=g.G,x=g.wa,O&&x&&ot(V,O,x),ot(V,"VER",g.ka),Co(g,V),V}function om(g,x,O){if(x&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=g.Aa&&!g.ma?new dt(new ji({ab:O})):new dt(g.ma),x.Fa(g.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lm(){}t=lm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hs(){}hs.prototype.g=function(g,x){return new Hn(g,x)};function Hn(g,x){Wt.call(this),this.g=new cs(x),this.l=g,this.h=x&&x.messageUrlParams||null,g=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(g?g["X-WebChannel-Content-Type"]=x.messageContentType:g={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(g?g["X-WebChannel-Client-Profile"]=x.sa:g={"X-WebChannel-Client-Profile":x.sa}),this.g.U=g,(g=x&&x.Qb)&&!q(g)&&(this.g.u=g),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!q(x)&&(this.g.G=x,g=this.h,g!==null&&x in g&&(g=this.h,x in g&&delete g[x])),this.j=new da(this)}p(Hn,Wt),Hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){sf(this.g)},Hn.prototype.o=function(g){var x=this.g;if(typeof g=="string"){var O={};O.__data__=g,g=O}else this.v&&(O={},O.__data__=rs(g),g=O);x.i.push(new en(x.Ya++,g)),x.I==3&&Li(x)},Hn.prototype.N=function(){this.g.l=null,delete this.j,sf(this.g),delete this.g,Hn.Z.N.call(this)};function um(g){Cn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var x=g.__sm__;if(x){e:{for(const O in x){g=O;break e}g=void 0}(this.i=g)&&(g=this.i,x=x!==null&&g in x?x[g]:void 0),this.data=x}else this.data=g}p(um,Cn);function cm(){Cr.call(this),this.status=1}p(cm,Cr);function da(g){this.g=g}p(da,lm),da.prototype.ra=function(){mn(this.g,"a")},da.prototype.qa=function(g){mn(this.g,new um(g))},da.prototype.pa=function(g){mn(this.g,new cm)},da.prototype.oa=function(){mn(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,KM=function(){return new hs},HM=function(){return Ll()},$M=Ht,Fx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xo.NO_ERROR=0,xo.TIMEOUT=8,xo.HTTP_ERROR=6,Up=xo,Hc.COMPLETE="complete",FM=Hc,qd.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Wt.prototype.listen=Wt.prototype.J,uh=qd,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,qM=dt}).apply(typeof pp<"u"?pp:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic="12.8.0";function R8(t){Ic=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new kM("@firebase/firestore");function ju(){return vl.logLevel}function he(t,...e){if(vl.logLevel<=Ze.DEBUG){const n=e.map(v1);vl.debug(`Firestore (${Ic}): ${t}`,...n)}}function Qt(t,...e){if(vl.logLevel<=Ze.ERROR){const n=e.map(v1);vl.error(`Firestore (${Ic}): ${t}`,...n)}}function Ch(t,...e){if(vl.logLevel<=Ze.WARN){const n=e.map(v1);vl.warn(`Firestore (${Ic}): ${t}`,...n)}}function v1(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,GM(t,r,n)}function GM(t,e,n){let r=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qt(r),new Error(r)}function Oe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||GM(e,i,r)}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Ac{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Bn.UNAUTHENTICATED)))}shutdown(){}}class D8{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ta,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ta)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new N8(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new Bn(e)}}class M8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class j8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new M8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class QI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,d8(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const r=s=>{s.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new QI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new QI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=V8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function $x(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Gb(i)===Gb(s)?Me(i,s):Gb(i)?1:-1}return Me(t.length,e.length)}const L8=55296,z8=57343;function Gb(t){const e=t.charCodeAt(0);return e>=L8&&e<=z8}function Wu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function YM(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="__name__";class Yi{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Yi.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Me(e.length,n.length)}static compareSegments(e,n){const r=Yi.isNumericId(e),i=Yi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Yi.extractNumericId(e).compare(Yi.extractNumericId(n)):$x(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class st extends Yi{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const B8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Yi{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return B8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XI}static keyField(){return new Dt([XI])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new pe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new pe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t,e,n){if(!n)throw new pe(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U8(t,e,n,r){if(e===!0&&r===!0)throw new pe(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WI(t){if(!ve.isDocumentKey(t))throw new pe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZI(t){if(ve.isDocumentKey(t))throw new pe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function XM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Xs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sy(t);throw new pe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,e){const n={typeString:t};return e&&(n.value=e),n}function ud(t,e){if(!XM(t))throw new pe(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new pe(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=-62135596800,eO=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*eO);return new Je(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<JI)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eO}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ud(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-JI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:ln("string",Je._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Je(0,0))}static max(){return new Ne(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=-1;class cg{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Hx(t){return t.fields.find((e=>e.kind===2))}function Xo(t){return t.fields.filter((e=>e.kind!==2))}cg.UNKNOWN_ID=-1;class qp{constructor(e,n){this.fieldPath=e,this.kind=n}}class Rh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Rh(0,Ar.min())}}function WM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Ar(i,ve.empty(),e)}function ZM(t){return new Ar(t.readTime,t.key,Zu)}class Ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ar(Ne.min(),ve.empty(),Zu)}static max(){return new Ar(Ne.max(),ve.empty(),Zu)}}function _1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ej{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==JM)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Y.reject(n)}static resolve(e){return new Y(((n,r)=>{n(e)}))}static reject(e){return new Y(((n,r)=>{r(e)}))}static waitFor(e){return new Y(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(f=>r(f)))})),l=!0,s===i&&n()}))}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next((i=>i?Y.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Y(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let f=0;f<s;f++){const d=f;n(e[d]).next((m=>{l[d]=m,++c,c===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Y(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="SimpleDb";class Ty{static open(e,n,r,i){try{return new Ty(n,e.transaction(i,r))}catch(s){throw new gh(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ta,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new gh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=x1(r.target.error);this.S.reject(new gh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(he(br,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new F8(n)}}class Ks{static delete(e){return he(br,"Removing database:",e),tl(OM().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!MM())return!1;if(Ks.F())return!0;const e=og(),n=Ks.M(e),r=0<n&&n<10,i=tj(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Ks.M(og())===12.2&&Qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(he(br,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;n(l)},i.onblocked=()=>{r(new gh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new pe(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new pe(se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new gh(e,l))},i.onupgradeneeded=s=>{he(br,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.N.k(l,i.transaction,s.oldVersion,this.version).next((()=>{he(br,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=Ty.open(this.db,e,s?"readonly":"readwrite",r),f=i(c).next((d=>(c.C(),d))).catch((d=>(c.abort(d),Y.reject(d)))).toPromise();return f.catch((()=>{})),await c.D,f}catch(c){const f=c,d=f.name!=="FirebaseError"&&l<3;if(he(br,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function tj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class q8{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return tl(this.U.delete())}}class gh extends pe{constructor(e,n){super(se.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function so(t){return t.name==="IndexedDbTransactionError"}class F8{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(he(br,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(he(br,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),tl(r)}add(e){return he(br,"ADD",this.store.name,e,e),tl(this.store.add(e))}get(e){return tl(this.store.get(e)).next((n=>(n===void 0&&(n=null),he(br,"GET",this.store.name,e,n),n)))}delete(e){return he(br,"DELETE",this.store.name,e),tl(this.store.delete(e))}count(){return he(br,"COUNT",this.store.name),tl(this.store.count())}H(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Y(((l,c)=>{s.onerror=f=>{c(f.target.error)},s.onsuccess=f=>{l(f.target.result)}}))}{const s=this.cursor(r),l=[];return this.J(s,((c,f)=>{l.push(f)})).next((()=>l))}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Y(((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}X(e,n){he(br,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.J(i,((s,l,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.J(i,n)}te(e){const n=this.cursor({});return new Y(((r,i)=>{n.onerror=s=>{const l=x1(s.target.error);i(l)},n.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}J(e,n){const r=[];return new Y(((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const f=new q8(c),d=n(c.primaryKey,c.value,f);if(d instanceof Y){const m=d.catch((p=>(f.done(),Y.reject(p))));r.push(m)}f.isDone?i():f.G===null?c.continue():c.continue(f.G)}})).next((()=>Y.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function tl(t){return new Y(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=x1(r.target.error);n(i)}}))}let tO=!1;function x1(t){const e=Ks.M(og());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tO||(tO=!0,setTimeout((()=>{throw r}),0)),r}}return t}const yh="IndexBackfiller";class $8{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){he(yh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();he(yh,`Documents written: ${n}`)}catch(n){so(n)?he(yh,"Ignoring IndexedDB error during index backfill: ",n):await ao(n)}await this.re(6e4)}))}}class H8{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return Y.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return he(yh,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,s))).next((c=>(he(yh,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const l=ZM(s);_1(l,r)>0&&(r=l)})),new Ar(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ir.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=-1;function Ay(t){return t==null}function Nh(t){return t===0&&1/t==-1/0}function nj(t){return typeof t=="number"&&Number.isInteger(t)&&!Nh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="";function Fn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=nO(e)),e=K8(t.get(n),e);return nO(e)}function K8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case fg:n+="";break;default:n+=s}}return n}function nO(t){return t+fg+""}function Xi(t){const e=t.length;if(Oe(e>=2,64408,{path:t}),e===2)return Oe(t.charAt(0)===fg&&t.charAt(1)==="",56145,{path:t}),st.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const l=t.indexOf(fg,s);switch((l<0||l>n)&&xe(50515,{path:t}),t.charAt(l+1)){case"":const c=t.substring(s,l);let f;i.length===0?f=c:(i+=c,f=i,i=""),r.push(f);break;case"":i+=t.substring(s,l),i+="\0";break;case"":i+=t.substring(s,l+1);break;default:xe(61167,{path:t})}s=l+2}return new st(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="remoteDocuments",cd="owner",Tu="owner",Ph="mutationQueues",G8="userId",hi="mutations",rO="batchId",al="userMutationsIndex",iO=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t,e){return[t,Fn(e)]}function rj(t,e,n){return[t,Fn(e),n]}const Y8={},Ju="documentMutations",hg="remoteDocumentsV14",Q8=["prefixPath","collectionGroup","readTime","documentId"],$p="documentKeyIndex",X8=["prefixPath","collectionGroup","documentId"],ij="collectionGroupIndex",W8=["collectionGroup","readTime","prefixPath","documentId"],Dh="remoteDocumentGlobal",Kx="remoteDocumentGlobalKey",ec="targets",aj="queryTargetsIndex",Z8=["canonicalId","targetId"],tc="targetDocuments",J8=["targetId","path"],w1="documentTargetsIndex",eq=["path","targetId"],dg="targetGlobalKey",fl="targetGlobal",Mh="collectionParents",tq=["collectionId","parent"],nc="clientMetadata",nq="clientId",Iy="bundles",rq="bundleId",Oy="namedQueries",iq="name",E1="indexConfiguration",aq="indexId",Gx="collectionGroupIndex",sq="collectionGroup",vh="indexState",oq=["indexId","uid"],sj="sequenceNumberIndex",lq=["uid","sequenceNumber"],bh="indexEntries",uq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oj="documentKeyIndex",cq=["indexId","uid","orderedDocumentKey"],Cy="documentOverlays",fq=["userId","collectionPath","documentId"],Yx="collectionPathOverlayIndex",hq=["userId","collectionPath","largestBatchId"],lj="collectionGroupOverlayIndex",dq=["userId","collectionGroup","largestBatchId"],S1="globals",mq="name",uj=[Ph,hi,Ju,Wo,ec,cd,fl,tc,nc,Dh,Mh,Iy,Oy],pq=[...uj,Cy],cj=[Ph,hi,Ju,hg,ec,cd,fl,tc,nc,Dh,Mh,Iy,Oy,Cy],fj=cj,T1=[...fj,E1,vh,bh],gq=T1,hj=[...T1,S1],yq=hj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx extends ej{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function yn(t,e){const n=Te(t);return Ks.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||Vn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gp(this.root,e,this.comparator,!1)}getReverseIterator(){return new gp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gp(this.root,e,this.comparator,!0)}}class gp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vn.RED,this.left=i??Vn.EMPTY,this.right=s??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Vn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sO(this.data.getIterator())}getIteratorFrom(e){return new sO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class sO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Au(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new ar([])}unionWith(e){let n=new ht(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mj("Invalid base64 string: "+s):s}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const vq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=vq.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function za(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="server_timestamp",gj="__type__",yj="__previous_value__",vj="__local_write_time__";function A1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[gj])==null?void 0:r.stringValue)===pj}function Ry(t){const e=t.mapValue.fields[yj];return A1(e)?Ry(e):e}function jh(t){const e=La(t.mapValue.fields[vj].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e,n,r,i,s,l,c,f,d,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m,this.apiKey=p}}const mg="(default)";class bl{constructor(e,n){this.projectId=e,this.database=n||mg}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===mg}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}function _q(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new pe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="__type__",bj="__max__",Us={mapValue:{fields:{__type__:{stringValue:bj}}}},O1="__vector__",rc="value",Hp={nullValue:"NULL_VALUE"};function Ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A1(t)?4:_j(t)?9007199254740991:Ny(t)?10:11:xe(28295,{value:t})}function ia(t,e){if(t===e)return!0;const n=Ws(t);if(n!==Ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jh(t).isEqual(jh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=La(i.timestampValue),c=La(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return za(i.bytesValue).isEqual(za(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Rt(i.geoPointValue.latitude)===Rt(s.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Rt(i.integerValue)===Rt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Rt(i.doubleValue),c=Rt(s.doubleValue);return l===c?Nh(l)===Nh(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Wu(t.arrayValue.values||[],e.arrayValue.values||[],ia);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(aO(l)!==aO(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!ia(l[f],c[f])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function kh(t,e){return(t.values||[]).find((n=>ia(n,e)))!==void 0}function Zs(t,e){if(t===e)return 0;const n=Ws(t),r=Ws(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=Rt(s.integerValue||s.doubleValue),f=Rt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return oO(t.timestampValue,e.timestampValue);case 4:return oO(jh(t),jh(e));case 5:return $x(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=za(s),f=za(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),f=l.split("/");for(let d=0;d<c.length&&d<f.length;d++){const m=Me(c[d],f[d]);if(m!==0)return m}return Me(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Me(Rt(s.latitude),Rt(l.latitude));return c!==0?c:Me(Rt(s.longitude),Rt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return lO(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var b,_,S,E;const c=s.fields||{},f=l.fields||{},d=(b=c[rc])==null?void 0:b.arrayValue,m=(_=f[rc])==null?void 0:_.arrayValue,p=Me(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((E=m==null?void 0:m.values)==null?void 0:E.length)||0);return p!==0?p:lO(d,m)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Us.mapValue&&l===Us.mapValue)return 0;if(s===Us.mapValue)return 1;if(l===Us.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),d=l.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let p=0;p<f.length&&p<m.length;++p){const b=$x(f[p],m[p]);if(b!==0)return b;const _=Zs(c[f[p]],d[m[p]]);if(_!==0)return _}return Me(f.length,m.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function oO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=La(t),r=La(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function lO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Zs(n[i],r[i]);if(s)return s}return Me(n.length,r.length)}function ic(t){return Xx(t)}function Xx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=La(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return za(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Xx(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Xx(n.fields[l])}`;return i+"}"})(t.mapValue):xe(61005,{value:t})}function Kp(t){switch(Ws(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ry(t);return e?16+Kp(e):16;case 5:return 2*t.stringValue.length;case 6:return za(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Kp(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return oo(r.fields,((s,l)=>{i+=s.length+Kp(l)})),i})(t.mapValue);default:throw xe(13486,{value:t})}}function Vh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wx(t){return!!t&&"integerValue"in t}function Lh(t){return!!t&&"arrayValue"in t}function uO(t){return!!t&&"nullValue"in t}function cO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gp(t){return!!t&&"mapValue"in t}function Ny(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[I1])==null?void 0:r.stringValue)===O1}function _h(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=_h(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_h(t.arrayValue.values[n]);return e}return{...t}}function _j(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bj}const xj={mapValue:{fields:{[I1]:{stringValue:O1},[rc]:{arrayValue:{}}}}};function xq(t){return"nullValue"in t?Hp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Vh(bl.empty(),ve.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Ny(t)?xj:{mapValue:{}}:xe(35942,{value:t})}function wq(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Vh(bl.empty(),ve.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?xj:"mapValue"in t?Ny(t)?{mapValue:{}}:Us:xe(61959,{value:t})}function fO(t,e){const n=Zs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function hO(t,e){const n=Zs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_h(n)}setAll(e){let n=Dt.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=_h(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Gp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ia(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oo(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new qn(_h(this.value))}}function wj(t){const e=[];return oo(t.fields,((n,r)=>{const i=new Dt([n]);if(Gp(r)){const s=wj(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Bt(e,0,Ne.min(),Ne.min(),Ne.min(),qn.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,Ne.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,Ne.min(),Ne.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,Ne.min(),Ne.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.position=e,this.inclusive=n}}function dO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),n.key):r=Zs(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ia(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n="asc"){this.field=e,this.dir=n}}function Eq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{}class Qe extends Ej{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Sq(e,n,r):n==="array-contains"?new Iq(e,r):n==="in"?new Cj(e,r):n==="not-in"?new Oq(e,r):n==="array-contains-any"?new Cq(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Tq(e,r):new Aq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zs(n,this.value)):n!==null&&Ws(this.value)===Ws(n)&&this.matchesComparison(Zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ft extends Ej{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ft(e,n)}matches(e){return sc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sc(t){return t.op==="and"}function Zx(t){return t.op==="or"}function C1(t){return Sj(t)&&sc(t)}function Sj(t){for(const e of t.filters)if(e instanceof ft)return!1;return!0}function Jx(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+ic(t.value);if(C1(t))return t.filters.map((e=>Jx(e))).join(",");{const e=t.filters.map((n=>Jx(n))).join(",");return`${t.op}(${e})`}}function Tj(t,e){return t instanceof Qe?(function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&ia(r.value,i.value)})(t,e):t instanceof ft?(function(r,i){return i instanceof ft&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&Tj(l,i.filters[c])),!0):!1})(t,e):void xe(19439)}function Aj(t,e){const n=t.filters.concat(e);return ft.create(n,t.op)}function Ij(t){return t instanceof Qe?(function(n){return`${n.field.canonicalString()} ${n.op} ${ic(n.value)}`})(t):t instanceof ft?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ij).join(" ,")+"}"})(t):"Filter"}class Sq extends Qe{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class Tq extends Qe{constructor(e,n){super(e,"in",n),this.keys=Oj("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Aq extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=Oj("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Oj(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ve.fromName(r.referenceValue)))}class Iq extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lh(n)&&kh(n.arrayValue,this.value)}}class Cj extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kh(this.value.arrayValue,n)}}class Oq extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kh(this.value.arrayValue,n)}}class Cq extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>kh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function ew(t,e=null,n=[],r=[],i=null,s=null,l=null){return new Rq(t,e,n,r,i,s,l)}function _l(t){const e=Te(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Jx(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Ay(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ic(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ic(r))).join(",")),e.Te=n}return e.Te}function fd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Eq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Tj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mO(t.startAt,e.startAt)&&mO(t.endAt,e.endAt)}function gg(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function yg(t,e){return t.filters.filter((n=>n instanceof Qe&&n.field.isEqual(e)))}function pO(t,e,n){let r=Hp,i=!0;for(const s of yg(t,e)){let l=Hp,c=!0;switch(s.op){case"<":case"<=":l=xq(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,c=!1;break;case"!=":case"not-in":l=Hp}fO({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];fO({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function gO(t,e,n){let r=Us,i=!0;for(const s of yg(t,e)){let l=Us,c=!0;switch(s.op){case">=":case">":l=wq(s.value),c=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,c=!1;break;case"!=":case"not-in":l=Us}hO({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];hO({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Rj(t,e,n,r,i,s,l,c){return new hd(t,e,n,r,i,s,l,c)}function Py(t){return new hd(t)}function yO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Nq(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Nj(t){return t.collectionGroup!==null}function xh(t){const e=Te(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new ht(Dt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new pg(s,r))})),n.has(Dt.keyField().canonicalString())||e.Ie.push(new pg(Dt.keyField(),r))}return e.Ie}function Er(t){const e=Te(t);return e.Ee||(e.Ee=Pq(e,xh(t))),e.Ee}function Pq(t,e){if(t.limitType==="F")return ew(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new pg(i.field,s)}));const n=t.endAt?new ac(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ac(t.startAt.position,t.startAt.inclusive):null;return ew(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tw(t,e){const n=t.filters.concat([e]);return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nw(t,e,n){return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dy(t,e){return fd(Er(t),Er(e))&&t.limitType===e.limitType}function Pj(t){return`${_l(Er(t))}|lt:${t.limitType}`}function ku(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Ij(i))).join(", ")}]`),Ay(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>ic(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>ic(i))).join(",")),`Target(${r})`})(Er(t))}; limitType=${t.limitType})`}function dd(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of xh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,f){const d=dO(l,c,f);return l.inclusive?d<=0:d<0})(r.startAt,xh(r),i)||r.endAt&&!(function(l,c,f){const d=dO(l,c,f);return l.inclusive?d>=0:d>0})(r.endAt,xh(r),i))})(t,e)}function Dj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Mj(t){return(e,n)=>{let r=!1;for(const i of xh(t)){const s=Dq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Dq(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(s,l,c){const f=l.data.field(s),d=c.data.field(s);return f!==null&&d!==null?Zs(f,d):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return dj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=new wt(ve.comparator);function xr(){return Mq}const jj=new wt(ve.comparator);function ch(...t){let e=jj;for(const n of t)e=e.insert(n.key,n);return e}function kj(t){let e=jj;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Wi(){return wh()}function Vj(){return wh()}function wh(){return new Qa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const jq=new wt(ve.comparator),kq=new ht(ve.comparator);function Fe(...t){let e=kq;for(const n of t)e=e.add(n);return e}const Vq=new ht(Me);function R1(){return Vq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function Lj(t){return{integerValue:""+t}}function Lq(t,e){return nj(e)?Lj(e):N1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this._=void 0}}function zq(t,e,n){return t instanceof zh?(function(i,s){const l={fields:{[gj]:{stringValue:pj},[vj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&A1(s)&&(s=Ry(s)),s&&(l.fields[yj]=s),{mapValue:l}})(n,e):t instanceof oc?Bj(t,e):t instanceof lc?Uj(t,e):(function(i,s){const l=zj(i,s),c=vO(l)+vO(i.Ae);return Wx(l)&&Wx(i.Ae)?Lj(c):N1(i.serializer,c)})(t,e)}function Bq(t,e,n){return t instanceof oc?Bj(t,e):t instanceof lc?Uj(t,e):n}function zj(t,e){return t instanceof Bh?(function(r){return Wx(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class zh extends My{}class oc extends My{constructor(e){super(),this.elements=e}}function Bj(t,e){const n=qj(e);for(const r of t.elements)n.some((i=>ia(i,r)))||n.push(r);return{arrayValue:{values:n}}}class lc extends My{constructor(e){super(),this.elements=e}}function Uj(t,e){let n=qj(e);for(const r of t.elements)n=n.filter((i=>!ia(i,r)));return{arrayValue:{values:n}}}class Bh extends My{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vO(t){return Rt(t.integerValue||t.doubleValue)}function qj(t){return Lh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e,n){this.field=e,this.transform=n}}function qq(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof oc&&i instanceof oc||r instanceof lc&&i instanceof lc?Wu(r.elements,i.elements,ia):r instanceof Bh&&i instanceof Bh?ia(r.Ae,i.Ae):r instanceof zh&&i instanceof zh})(t.transform,e.transform)}class Fq{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jy{}function Fj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ky(t.key,Gn.none()):new Oc(t.key,t.data,Gn.none());{const n=t.data,r=qn.empty();let i=new ht(Dt.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Xa(t.key,r,new ar(i.toArray()),Gn.none())}}function $q(t,e,n){t instanceof Oc?(function(i,s,l){const c=i.value.clone(),f=_O(i.fieldTransforms,s,l.transformResults);c.setAll(f),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Xa?(function(i,s,l){if(!Yp(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=_O(i.fieldTransforms,s,l.transformResults),f=s.data;f.setAll($j(i)),f.setAll(c),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Eh(t,e,n,r){return t instanceof Oc?(function(s,l,c,f){if(!Yp(s.precondition,l))return c;const d=s.value.clone(),m=xO(s.fieldTransforms,f,l);return d.setAll(m),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Xa?(function(s,l,c,f){if(!Yp(s.precondition,l))return c;const d=xO(s.fieldTransforms,f,l),m=l.data;return m.setAll($j(s)),m.setAll(d),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,l,c){return Yp(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function Hq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zj(r.transform,i||null);s!=null&&(n===null&&(n=qn.empty()),n.set(r.field,s))}return n||null}function bO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wu(r,i,((s,l)=>qq(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oc extends jy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xa extends jy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $j(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function _O(t,e,n){const r=new Map;Oe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,Bq(l,c,n[i]))}return r}function xO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,zq(s,l,e))}return r}class ky extends jy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hj extends jy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$q(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Vj();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const f=Fj(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Wu(this.mutations,e.mutations,((n,r)=>bO(n,r)))&&Wu(this.baseMutations,e.baseMutations,((n,r)=>bO(n,r)))}}class D1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return jq})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new D1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,We;function Gq(t){switch(t){case se.OK:return xe(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function Kj(t){if(t===void 0)return Qt("GRPC error has no .code"),se.UNKNOWN;switch(t){case on.OK:return se.OK;case on.CANCELLED:return se.CANCELLED;case on.UNKNOWN:return se.UNKNOWN;case on.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case on.INTERNAL:return se.INTERNAL;case on.UNAVAILABLE:return se.UNAVAILABLE;case on.UNAUTHENTICATED:return se.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case on.NOT_FOUND:return se.NOT_FOUND;case on.ALREADY_EXISTS:return se.ALREADY_EXISTS;case on.PERMISSION_DENIED:return se.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case on.ABORTED:return se.ABORTED;case on.OUT_OF_RANGE:return se.OUT_OF_RANGE;case on.UNIMPLEMENTED:return se.UNIMPLEMENTED;case on.DATA_LOSS:return se.DATA_LOSS;default:return xe(39323,{code:t})}}(We=on||(on={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=new Hs([4294967295,4294967295],0);function wO(t){const e=Yq().encode(t),n=new UM;return n.update(e),new Uint8Array(n.digest())}function EO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Hs([n,r],0),new Hs([i,s],0)]}class j1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fh(`Invalid padding: ${n}`);if(r<0)throw new fh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Hs.fromNumber(r)));return i.compare(Qq)===1&&(i=new Hs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=wO(e),[r,i]=EO(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new j1(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=wO(e),[r,i]=EO(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new md(Ne.min(),i,new wt(Me),xr(),Fe())}}class pd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pd(r,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Gj{constructor(e,n){this.targetId=e,this.Ce=n}}class Yj{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class SO{constructor(){this.ve=0,this.Fe=TO(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),r=Fe();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xe(38017,{changeType:s})}})),new pd(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=TO()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Xq{constructor(e){this.Ge=e,this.ze=new Map,this.je=xr(),this.He=yp(),this.Je=yp(),this.Ze=new wt(Me)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(gg(s))if(r===0){const l=new ve(s.path);this.et(n,l,Bt.newNoDocument(l,Ne.min()))}else Oe(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=za(r).toUint8Array()}catch(f){if(f instanceof mj)return Ch("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new j1(l,i,s)}catch(f){return Ch(f instanceof fh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&gg(c.target)){const f=new ve(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Bt.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.Ke())}}));let r=Fe();this.Je.forEach(((s,l)=>{let c=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new md(e,n,this.Ze,this.je,r);return this.je=xr(),this.He=yp(),this.Je=yp(),this.Ze=new wt(Me),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new SO,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new ht(Me),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new ht(Me),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new SO),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yp(){return new wt(ve.comparator)}function TO(){return new wt(ve.comparator)}const Wq={asc:"ASCENDING",desc:"DESCENDING"},Zq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jq={and:"AND",or:"OR"};class eF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rw(t,e){return t.useProto3Json||Ay(e)?e:{value:e}}function uc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tF(t,e){return uc(t,e.toTimestamp())}function Qn(t){return Oe(!!t,49232),Ne.fromTimestamp((function(n){const r=La(n);return new Je(r.seconds,r.nanos)})(t))}function k1(t,e){return iw(t,e).canonicalString()}function iw(t,e){const n=(function(i){return new st(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Xj(t){const e=st.fromString(t);return Oe(ak(e),10190,{key:e.toString()}),e}function vg(t,e){return k1(t.databaseId,e.path)}function hl(t,e){const n=Xj(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(Jj(n))}function Wj(t,e){return k1(t.databaseId,e)}function Zj(t){const e=Xj(t);return e.length===4?st.emptyPath():Jj(e)}function aw(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Jj(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AO(t,e,n){return{name:vg(t,e),fields:n.value.mapValue.fields}}function nF(t,e,n){const r=hl(t,e.name),i=Qn(e.updateTime),s=e.createTime?Qn(e.createTime):Ne.min(),l=new qn({mapValue:{fields:e.fields}}),c=Bt.newFoundDocument(r,i,s,l);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function rF(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:xe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,m){return d.useProto3Json?(Oe(m===void 0||typeof m=="string",58123),Xt.fromBase64String(m||"")):(Oe(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Xt.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(d){const m=d.code===void 0?se.UNKNOWN:Kj(d.code);return new pe(m,d.message||"")})(l);n=new Yj(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hl(t,r.document.name),s=Qn(r.document.updateTime),l=r.document.createTime?Qn(r.document.createTime):Ne.min(),c=new qn({mapValue:{fields:r.document.fields}}),f=Bt.newFoundDocument(i,s,l,c),d=r.targetIds||[],m=r.removedTargetIds||[];n=new Qp(d,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hl(t,r.document),s=r.readTime?Qn(r.readTime):Ne.min(),l=Bt.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Qp([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hl(t,r.document),s=r.removedTargetIds||[];n=new Qp([],s,i,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new Kq(i,s),c=r.targetId;n=new Gj(c,l)}}return n}function bg(t,e){let n;if(e instanceof Oc)n={update:AO(t,e.key,e.value)};else if(e instanceof ky)n={delete:vg(t,e.key)};else if(e instanceof Xa)n={update:AO(t,e.key,e.data),updateMask:uF(e.fieldMask)};else{if(!(e instanceof Hj))return xe(16599,{dt:e.type});n={verify:vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof zh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof oc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof lc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Bh)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw xe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:tF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:xe(27497)})(t,e.precondition)),n}function sw(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Gn.updateTime(Qn(s.updateTime)):s.exists!==void 0?Gn.exists(s.exists):Gn.none()})(e.currentDocument):Gn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let f=null;if("setToServerValue"in c)Oe(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),f=new zh;else if("appendMissingElements"in c){const m=c.appendMissingElements.values||[];f=new oc(m)}else if("removeAllFromArray"in c){const m=c.removeAllFromArray.values||[];f=new lc(m)}else"increment"in c?f=new Bh(l,c.increment):xe(16584,{proto:c});const d=Dt.fromServerFormat(c.fieldPath);return new Uq(d,f)})(t,i))):[];if(e.update){e.update.name;const i=hl(t,e.update.name),s=new qn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(f){const d=f.fieldPaths||[];return new ar(d.map((m=>Dt.fromServerFormat(m))))})(e.updateMask);return new Xa(i,s,l,n,r)}return new Oc(i,s,n,r)}if(e.delete){const i=hl(t,e.delete);return new ky(i,n)}if(e.verify){const i=hl(t,e.verify);return new Hj(i,n)}return xe(1463,{proto:e})}function iF(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Qn(i.updateTime):Qn(s);return l.isEqual(Ne.min())&&(l=Qn(s)),new Fq(l,i.transformResults||[])})(n,e)))):[]}function ek(t,e){return{documents:[Wj(t,e.path)]}}function tk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Wj(t,i);const s=(function(d){if(d.length!==0)return ik(ft.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(d){if(d.length!==0)return d.map((m=>(function(b){return{field:Vu(b.field),direction:sF(b.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=rw(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function nk(t){let e=Zj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=(function(p){const b=rk(p);return b instanceof ft&&C1(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((b=>(function(S){return new pg(Lu(S.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(b)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let b;return b=typeof p=="object"?p.value:p,Ay(b)?null:b})(n.limit));let f=null;n.startAt&&(f=(function(p){const b=!!p.before,_=p.values||[];return new ac(_,b)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const b=!p.before,_=p.values||[];return new ac(_,b)})(n.endAt)),Rj(e,i,l,s,c,"F",f,d)}function aF(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lu(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lu(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Lu(n.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Lu(n.unaryFilter.field);return Qe.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qe.create(Lu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ft.create(n.compositeFilter.filters.map((r=>rk(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function sF(t){return Wq[t]}function oF(t){return Zq[t]}function lF(t){return Jq[t]}function Vu(t){return{fieldPath:t.canonicalString()}}function Lu(t){return Dt.fromServerFormat(t.fieldPath)}function ik(t){return t instanceof Qe?(function(n){if(n.op==="=="){if(cO(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NAN"}};if(uO(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cO(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NOT_NAN"}};if(uO(n.value))return{unaryFilter:{field:Vu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(n.field),op:oF(n.op),value:n.value}}})(t):t instanceof ft?(function(n){const r=n.getFilters().map((i=>ik(i)));return r.length===1?r[0]:{compositeFilter:{op:lF(n.op),filters:r}}})(t):xe(54877,{filter:t})}function uF(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ak(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function sk(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r,i,s=Ne.min(),l=Ne.min(),c=Xt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.yt=e}}function cF(t,e){let n;if(e.document)n=nF(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=wl(e.noDocument.readTime);n=Bt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return xe(56709);{const r=ve.fromSegments(e.unknownDocument.path),i=wl(e.unknownDocument.version);n=Bt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new Je(i[0],i[1]);return Ne.fromTimestamp(s)})(e.readTime)),n}function IO(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:_g(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,l){return{name:vg(s,l.key),fields:l.data.value.mapValue.fields,updateTime:uc(s,l.version.toTimestamp()),createTime:uc(s,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xl(e.version)};else{if(!e.isUnknownDocument())return xe(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:xl(e.version)}}return r}function _g(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function xl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wl(t){const e=new Je(t.seconds,t.nanoseconds);return Ne.fromTimestamp(e)}function nl(t,e){const n=(e.baseMutations||[]).map((s=>sw(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const c=e.mutations[s+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>sw(t.yt,s))),i=Je.fromMillis(e.localWriteTimeMs);return new P1(e.batchId,i,n,r)}function hh(t){const e=wl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?wl(t.lastLimboFreeSnapshotVersion):Ne.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const l=s.documents.length;return Oe(l===1,1966,{count:l}),Er(Py(Zj(s.documents[0])))})(t.query):(function(s){return Er(nk(s))})(t.query),new Ra(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Xt.fromBase64String(t.resumeToken))}function lk(t,e){const n=xl(e.snapshotVersion),r=xl(e.lastLimboFreeSnapshotVersion);let i;i=gg(e.target)?ek(t.yt,e.target):tk(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_l(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function uk(t){const e=nk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nw(e,e.limit,"L"):e}function Yb(t,e){return new M1(e.largestBatchId,sw(t.yt,e.overlayMutation))}function OO(t,e){const n=e.path.lastSegment();return[t,Fn(e.path.popLast()),n]}function CO(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:xl(r.readTime),documentKey:Fn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{getBundleMetadata(e,n){return RO(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:wl(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return RO(e).put((function(i){return{bundleId:i.id,createTime:xl(Qn(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return NO(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:uk(s.bundledQuery),readTime:wl(s.readTime)}})(r)}))}saveNamedQuery(e,n){return NO(e).put((function(i){return{name:i.name,readTime:xl(Qn(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function RO(t){return yn(t,Iy)}function NO(t){return yn(t,Oy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Vy(e,r)}getOverlay(e,n){return Yf(e).get(OO(this.userId,n)).next((r=>r?Yb(this.serializer,r):null))}getOverlays(e,n){const r=Wi();return Y.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,l)=>{const c=new M1(n,l);i.push(this.bt(e,c))})),Y.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(Fn(l.getCollectionPath()))));const s=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(Yf(e).X(Yx,c))})),Y.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Wi(),s=Fn(n),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Yf(e).H(Yx,l).next((c=>{for(const f of c){const d=Yb(this.serializer,f);i.set(d.getKey(),d)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Wi();let l;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Yf(e).ee({index:lj,range:c},((f,d,m)=>{const p=Yb(this.serializer,d);s.size()<i||p.largestBatchId===l?(s.set(p.getKey(),p),l=p.largestBatchId):m.done()})).next((()=>s))}bt(e,n){return Yf(e).put((function(i,s,l){const[c,f,d]=OO(s,l.mutation.key);return{userId:s,collectionPath:f,documentId:d,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:bg(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function Yf(t){return yn(t,Cy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{St(e){return yn(e,S1)}getSessionToken(e){return this.St(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Xt.fromUint8Array(r):Xt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Rt(e.integerValue));else if("doubleValue"in e){const r=Rt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Nh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=La(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(za(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?_j(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Ny(e)?this.kt(e.mapValue,n):(this.Kt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Nt(n)):xe(19022,{Ut:e})}Ot(e,n){this.Ft(n,25),this.$t(e,n)}$t(e,n){n.xt(e)}Kt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var l,c;const r=e.fields||{};this.Ft(n,53);const i=rc,s=((c=(l=r[i].arrayValue)==null?void 0:l.values)==null?void 0:c.length)||0;this.Ft(n,15),n.Mt(Rt(s)),this.Ot(i,n),this.Ct(r[i],n)}qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),ve.fromName(e).path.forEach((r=>{this.Ft(n,60),this.$t(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}rl.Wt=new rl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=255;function dF(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function PO(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const l=dF(255&r[s]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class mF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=n.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const n=this.en(e),r=PO(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=PO(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Iu),this.sn(255)}_n(){this.an(Iu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Iu?(this.sn(Iu),this.sn(0)):this.sn(n)}Ht(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Iu?(this.an(Iu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class pF{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class gF{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Qf{constructor(){this.cn=new mF,this.ascending=new pF(this.cn),this.descending=new gF(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n,r,i){this.hn=e,this.Pn=n,this.Tn=r,this.In=i}En(){const e=this.In.length,n=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.In,0),n!==e?r.set([0],this.In.length):++r[r.length-1],new il(this.hn,this.Pn,this.Tn,r)}Rn(e,n,r){return{indexId:this.hn,uid:e,arrayValue:Xp(this.Tn),directionalValue:Xp(this.In),orderedDocumentKey:Xp(n),documentKey:r.path.toArray()}}An(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function js(t,e){let n=t.hn-e.hn;return n!==0?n:(n=DO(t.Tn,e.Tn),n!==0?n:(n=DO(t.In,e.In),n!==0?n:ve.comparator(t.Pn,e.Pn)))}function DO(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Xp(t){return DM()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function MO(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class jO{constructor(e){this.Vn=new ht(((n,r)=>Dt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(Oe(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=Hx(e);if(n!==void 0&&!this.pn(n))return!1;const r=Xo(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.pn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Vn.size>0){const c=this.Vn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const f=r[s];if(!this.yn(c,f)||!this.wn(this.dn[l++],f))return!1}++s}for(;s<r.length;++s){const c=r[s];if(l>=this.dn.length||!this.wn(this.dn[l++],c))return!1}return!0}bn(){if(this.fn)return null;let e=new ht(Dt.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new qp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new qp(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new qp(r.field,r.dir==="asc"?0:1)));return new cg(cg.UNKNOWN_ID,this.collectionId,n,Rh.empty())}pn(e){for(const n of this.mn)if(this.yn(n,e))return!0;return!1}yn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}wn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){var n,r;if(Oe(t instanceof Qe||t instanceof ft,20012),t instanceof Qe){if(t instanceof Cj){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((s=>Qe.create(t.field,"==",s))))||[];return ft.create(i,"or")}return t}const e=t.filters.map((i=>ck(i)));return ft.create(e,t.op)}function yF(t){if(t.getFilters().length===0)return[];const e=uw(ck(t));return Oe(fk(e),7391),ow(e)||lw(e)?[e]:e.getFilters()}function ow(t){return t instanceof Qe}function lw(t){return t instanceof ft&&C1(t)}function fk(t){return ow(t)||lw(t)||(function(n){if(n instanceof ft&&Zx(n)){for(const r of n.getFilters())if(!ow(r)&&!lw(r))return!1;return!0}return!1})(t)}function uw(t){if(Oe(t instanceof Qe||t instanceof ft,34018),t instanceof Qe)return t;if(t.filters.length===1)return uw(t.filters[0]);const e=t.filters.map((r=>uw(r)));let n=ft.create(e,t.op);return n=xg(n),fk(n)?n:(Oe(n instanceof ft,64498),Oe(sc(n),40251),Oe(n.filters.length>1,57927),n.filters.reduce(((r,i)=>V1(r,i))))}function V1(t,e){let n;return Oe(t instanceof Qe||t instanceof ft,38388),Oe(e instanceof Qe||e instanceof ft,25473),n=t instanceof Qe?e instanceof Qe?(function(i,s){return ft.create([i,s],"and")})(t,e):kO(t,e):e instanceof Qe?kO(e,t):(function(i,s){if(Oe(i.filters.length>0&&s.filters.length>0,48005),sc(i)&&sc(s))return Aj(i,s.getFilters());const l=Zx(i)?i:s,c=Zx(i)?s:i,f=l.filters.map((d=>V1(d,c)));return ft.create(f,"or")})(t,e),xg(n)}function kO(t,e){if(sc(e))return Aj(e,t.getFilters());{const n=e.filters.map((r=>V1(t,r)));return ft.create(n,"or")}}function xg(t){if(Oe(t instanceof Qe||t instanceof ft,11850),t instanceof Qe)return t;const e=t.getFilters();if(e.length===1)return xg(e[0]);if(Sj(t))return t;const n=e.map((i=>xg(i))),r=[];return n.forEach((i=>{i instanceof Qe?r.push(i):i instanceof ft&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:ft.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.Sn=new L1}addToCollectionParentIndex(e,n){return this.Sn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Ar.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class L1{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(st.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="IndexedDbIndexManager",vp=new Uint8Array(0);class bF{constructor(e,n){this.databaseId=n,this.Dn=new L1,this.Cn=new Qa((r=>_l(r)),((r,i)=>fd(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Dn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.Dn.add(n)}));const s={collectionId:r,parent:Fn(i)};return LO(e).put(s)}return Y.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[YM(n),""],!1,!0);return LO(e).H(i).next((s=>{for(const l of s){if(l.collectionId!==n)break;r.push(Xi(l.parent))}return r}))}addFieldIndex(e,n){const r=Xf(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const l=Cu(e);return s.next((c=>{l.put(CO(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=Xf(e),i=Cu(e),s=Ou(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Xf(e),r=Ou(e),i=Cu(e);return n.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,n){return Y.forEach(this.vn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new jO(r).bn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Ou(e);let i=!0;const s=new Map;return Y.forEach(this.vn(n),(l=>this.Fn(e,l).next((c=>{i&&(i=!!c),s.set(l,c)})))).next((()=>{if(i){let l=Fe();const c=[];return Y.forEach(s,((f,d)=>{he(VO,`Using index ${(function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map((F=>`${F.fieldPath}:${F.kind}`)).join(",")}`})(f)} to execute ${_l(n)}`);const m=(function(M,F){const B=Hx(F);if(B===void 0)return null;for(const U of yg(M,B.fieldPath))switch(U.op){case"array-contains-any":return U.value.arrayValue.values||[];case"array-contains":return[U.value]}return null})(d,f),p=(function(M,F){const B=new Map;for(const U of Xo(F))for(const R of yg(M,U.fieldPath))switch(R.op){case"==":case"in":B.set(U.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return B.set(U.fieldPath.canonicalString(),R.value),Array.from(B.values())}return null})(d,f),b=(function(M,F){const B=[];let U=!0;for(const R of Xo(F)){const N=R.kind===0?pO(M,R.fieldPath,M.startAt):gO(M,R.fieldPath,M.startAt);B.push(N.value),U&&(U=N.inclusive)}return new ac(B,U)})(d,f),_=(function(M,F){const B=[];let U=!0;for(const R of Xo(F)){const N=R.kind===0?gO(M,R.fieldPath,M.endAt):pO(M,R.fieldPath,M.endAt);B.push(N.value),U&&(U=N.inclusive)}return new ac(B,U)})(d,f),S=this.Mn(f,d,b),E=this.Mn(f,d,_),T=this.xn(f,d,p),C=this.On(f.indexId,m,S,b.inclusive,E,_.inclusive,T);return Y.forEach(C,(k=>r.Z(k,n.limit).next((M=>{M.forEach((F=>{const B=ve.fromSegments(F.documentKey);l.has(B)||(l=l.add(B),c.push(B))}))}))))})).next((()=>c))}return Y.resolve(null)}))}vn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=yF(ft.create(e.filters,"and")).map((r=>ew(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,n),n)}On(e,n,r,i,s,l,c){const f=(n!=null?n.length:1)*Math.max(r.length,s.length),d=f/(n!=null?n.length:1),m=[];for(let p=0;p<f;++p){const b=n?this.Nn(n[p/d]):vp,_=this.Bn(e,b,r[p%d],i),S=this.Ln(e,b,s[p%d],l),E=c.map((T=>this.Bn(e,b,T,!0)));m.push(...this.createRange(_,S,E))}return m}Bn(e,n,r,i){const s=new il(e,ve.empty(),n,r);return i?s:s.En()}Ln(e,n,r,i){const s=new il(e,ve.empty(),n,r);return i?s.En():s}Fn(e,n){const r=new jO(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let l=null;for(const c of s)r.gn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,n){let r=2;const i=this.vn(n);return Y.forEach(i,(s=>this.Fn(e,s).next((l=>{l?r!==0&&l.fields.length<(function(f){let d=new ht(Dt.comparator),m=!1;for(const p of f.filters)for(const b of p.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?m=!0:d=d.add(b.field));for(const p of f.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(m?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}kn(e,n){const r=new Qf;for(const i of Xo(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const l=r.ln(i.kind);rl.Wt.Dt(s,l)}return r.un()}Nn(e){const n=new Qf;return rl.Wt.Dt(e,n.ln(0)),n.un()}Kn(e,n){const r=new Qf;return rl.Wt.Dt(Vh(this.databaseId,n),r.ln((function(s){const l=Xo(s);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}xn(e,n,r){if(r===null)return[];let i=[];i.push(new Qf);let s=0;for(const l of Xo(e)){const c=r[s++];for(const f of i)if(this.qn(n,l.fieldPath)&&Lh(c))i=this.Un(i,l,c);else{const d=f.ln(l.kind);rl.Wt.Dt(c,d)}}return this.$n(i)}Mn(e,n,r){return this.xn(e,n,r.position)}$n(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Un(e,n,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const c of i){const f=new Qf;f.seed(c.un()),rl.Wt.Dt(l,f.ln(n.kind)),s.push(f)}return s}qn(e,n){return!!e.filters.find((r=>r instanceof Qe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Xf(e),i=Cu(e);return(n?r.H(Gx,IDBKeyRange.bound(n,n)):r.H()).next((s=>{const l=[];return Y.forEach(s,(c=>i.get([c.indexId,this.uid]).next((f=>{l.push((function(m,p){const b=p?new Rh(p.sequenceNumber,new Ar(wl(p.readTime),new ve(Xi(p.documentKey)),p.largestBatchId)):Rh.empty(),_=m.fields.map((([S,E])=>new qp(Dt.fromServerFormat(S),E)));return new cg(m.indexId,m.collectionGroup,_,b)})(c,f))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Me(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Xf(e),s=Cu(e);return this.Wn(e).next((l=>i.H(Gx,IDBKeyRange.bound(n,n)).next((c=>Y.forEach(c,(f=>s.put(CO(f.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return Y.forEach(n,((i,s)=>{const l=r.get(i.collectionGroup);return(l?Y.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),Y.forEach(c,(f=>this.Qn(e,i,f).next((d=>{const m=this.Gn(s,f);return d.isEqual(m)?Y.resolve():this.zn(e,s,f,d,m)})))))))}))}jn(e,n,r,i){return Ou(e).put(i.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(e,n,r,i){return Ou(e).delete(i.An(this.uid,this.Kn(r,n.key),n.key))}Qn(e,n,r){const i=Ou(e);let s=new ht(js);return i.ee({index:oj,range:IDBKeyRange.only([r.indexId,this.uid,Xp(this.Kn(r,n))])},((l,c)=>{s=s.add(new il(r.indexId,n,MO(c.arrayValue),MO(c.directionalValue)))})).next((()=>s))}Gn(e,n){let r=new ht(js);const i=this.kn(n,e);if(i==null)return r;const s=Hx(n);if(s!=null){const l=e.data.field(s.fieldPath);if(Lh(l))for(const c of l.arrayValue.values||[])r=r.add(new il(n.indexId,e.key,this.Nn(c),i))}else r=r.add(new il(n.indexId,e.key,vp,i));return r}zn(e,n,r,i,s){he(VO,"Updating index entries for document '%s'",n.key);const l=[];return(function(f,d,m,p,b){const _=f.getIterator(),S=d.getIterator();let E=Au(_),T=Au(S);for(;E||T;){let C=!1,k=!1;if(E&&T){const M=m(E,T);M<0?k=!0:M>0&&(C=!0)}else E!=null?k=!0:C=!0;C?(p(T),T=Au(S)):k?(b(E),E=Au(_)):(E=Au(_),T=Au(S))}})(i,s,js,(c=>{l.push(this.jn(e,n,r,c))}),(c=>{l.push(this.Hn(e,n,r,c))})),Y.waitFor(l)}Wn(e){let n=1;return Cu(e).ee({index:sj,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,c)=>js(l,c))).filter(((l,c,f)=>!c||js(l,f[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=js(l,e),f=js(l,n);if(c===0)i[0]=e.En();else if(c>0&&f<0)i.push(l),i.push(l.En());else if(f>0)break}i.push(n);const s=[];for(let l=0;l<i.length;l+=2){if(this.Jn(i[l],i[l+1]))return[];const c=i[l].An(this.uid,vp,ve.empty()),f=i[l+1].An(this.uid,vp,ve.empty());s.push(IDBKeyRange.bound(c,f))}return s}Jn(e,n){return js(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(zO)}getMinOffset(e,n){return Y.mapArray(this.vn(n),(r=>this.Fn(e,r).next((i=>i||xe(44426))))).next(zO)}}function LO(t){return yn(t,Mh)}function Ou(t){return yn(t,bh)}function Xf(t){return yn(t,E1)}function Cu(t){return yn(t,vh)}function zO(t){Oe(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;_1(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ar(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hk=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t,e,n){const r=t.store(hi),i=t.store(Ju),s=[],l=IDBKeyRange.only(n.batchId);let c=0;const f=r.ee({range:l},((m,p,b)=>(c++,b.delete())));s.push(f.next((()=>{Oe(c===1,47070,{batchId:n.batchId})})));const d=[];for(const m of n.mutations){const p=rj(e,m.key.path,n.batchId);s.push(i.delete(p)),d.push(m.key)}return Y.waitFor(s).next((()=>d))}function wg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xe(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(hk,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);class Ly{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,n,r,i){Oe(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new Ly(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ks(e).ee({index:al,range:r},((i,s,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=zu(e),l=ks(e);return l.add({}).next((c=>{Oe(typeof c=="number",49019);const f=new P1(c,n,r,i),d=(function(_,S,E){const T=E.baseMutations.map((k=>bg(_.yt,k))),C=E.mutations.map((k=>bg(_.yt,k)));return{userId:S,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:T,mutations:C}})(this.serializer,this.userId,f),m=[];let p=new ht(((b,_)=>Me(b.canonicalString(),_.canonicalString())));for(const b of i){const _=rj(this.userId,b.key.path,c);p=p.add(b.key.path.popLast()),m.push(l.put(d)),m.push(s.put(_,Y8))}return p.forEach((b=>{m.push(this.indexManager.addToCollectionParentIndex(e,b))})),e.addOnCommittedListener((()=>{this.Zn[c]=f.keys()})),Y.waitFor(m).next((()=>f))}))}lookupMutationBatch(e,n){return ks(e).get(n).next((r=>r?(Oe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),nl(this.serializer,r)):null))}Xn(e,n){return this.Zn[n]?Y.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Zn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return ks(e).ee({index:al,range:i},((l,c,f)=>{c.userId===this.userId&&(Oe(c.batchId>=r,47524,{Yn:r}),s=nl(this.serializer,c)),f.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=cl;return ks(e).ee({index:al,range:n,reverse:!0},((i,s,l)=>{r=s.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,cl],[this.userId,Number.POSITIVE_INFINITY]);return ks(e).H(al,n).next((r=>r.map((i=>nl(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Fp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return zu(e).ee({range:i},((l,c,f)=>{const[d,m,p]=l,b=Xi(m);if(d===this.userId&&n.path.isEqual(b))return ks(e).get(p).next((_=>{if(!_)throw xe(61480,{er:l,batchId:p});Oe(_.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:_.userId,batchId:p}),s.push(nl(this.serializer,_))}));f.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(Me);const i=[];return n.forEach((s=>{const l=Fp(this.userId,s.path),c=IDBKeyRange.lowerBound(l),f=zu(e).ee({range:c},((d,m,p)=>{const[b,_,S]=d,E=Xi(_);b===this.userId&&s.path.isEqual(E)?r=r.add(S):p.done()}));i.push(f)})),Y.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Fp(this.userId,r),l=IDBKeyRange.lowerBound(s);let c=new ht(Me);return zu(e).ee({range:l},((f,d,m)=>{const[p,b,_]=f,S=Xi(b);p===this.userId&&r.isPrefixOf(S)?S.length===i&&(c=c.add(_)):m.done()})).next((()=>this.tr(e,c)))}tr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(ks(e).get(s).next((l=>{if(l===null)throw xe(35274,{batchId:s});Oe(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:s}),r.push(nl(this.serializer,l))})))})),Y.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return dk(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.nr(n.batchId)})),Y.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Y.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return zu(e).ee({range:r},((s,l,c)=>{if(s[0]===this.userId){const f=Xi(s[1]);i.push(f)}else c.done()})).next((()=>{Oe(i.length===0,56720,{rr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return mk(e,this.userId,n)}ir(e){return pk(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:cl,lastStreamToken:""}))}}function mk(t,e,n){const r=Fp(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return zu(t).ee({range:s,Y:!0},((c,f,d)=>{const[m,p,b]=c;m===e&&p===i&&(l=!0),d.done()})).next((()=>l))}function ks(t){return yn(t,hi)}function zu(t){return yn(t,Ju)}function pk(t){return yn(t,Ph)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new El(0)}static ar(){return new El(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.ur(e).next((n=>{const r=new El(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((n=>Ne.fromTimestamp(new Je(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.cr(e,i))))}addTargetData(e,n){return this.lr(e,n).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(n,r),this.cr(e,r))))))}updateTargetData(e,n){return this.lr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Ru(e).delete(n.targetId))).next((()=>this.ur(e))).next((r=>(Oe(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Ru(e).ee(((l,c)=>{const f=hh(c);f.sequenceNumber<=n&&r.get(f.targetId)===null&&(i++,s.push(this.removeTargetData(e,f)))})).next((()=>Y.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Ru(e).ee(((r,i)=>{const s=hh(i);n(s)}))}ur(e){return UO(e).get(dg).next((n=>(Oe(n!==null,2888),n)))}cr(e,n){return UO(e).put(dg,n)}lr(e,n){return Ru(e).put(lk(this.serializer,n))}hr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((n=>n.targetCount))}getTargetData(e,n){const r=_l(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ru(e).ee({range:i,index:aj},((l,c,f)=>{const d=hh(c);fd(n,d.target)&&(s=d,f.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=zs(e);return n.forEach((l=>{const c=Fn(l.path);i.push(s.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),Y.waitFor(i)}removeMatchingKeys(e,n,r){const i=zs(e);return Y.forEach(n,(s=>{const l=Fn(s.path);return Y.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=zs(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=zs(e);let s=Fe();return i.ee({range:r,Y:!0},((l,c,f)=>{const d=Xi(l[1]),m=new ve(d);s=s.add(m)})).next((()=>s))}containsKey(e,n){const r=Fn(n.path),i=IDBKeyRange.bound([r],[YM(r)],!1,!0);let s=0;return zs(e).ee({index:w1,Y:!0,range:i},(([l,c],f,d)=>{l!==0&&(s++,d.done())})).next((()=>s>0))}At(e,n){return Ru(e).get(n).next((r=>r?hh(r):null))}}function Ru(t){return yn(t,ec)}function UO(t){return yn(t,fl)}function zs(t){return yn(t,tc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="LruGarbageCollector",gk=1048576;function FO([t,e],[n,r]){const i=Me(t,n);return i===0?Me(e,r):i}class xF{constructor(e){this.Pr=e,this.buffer=new ht(FO),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();FO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(qO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){so(n)?he(qO,"Ignoring IndexedDB error during garbage collection: ",n):await ao(n)}await this.Ar(3e5)}))}}class wF{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(ir.ce);const r=new xF(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(BO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BO):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,l,c,f,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(d=Date.now(),ju()<=Ze.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${p} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function vk(t,e){return new wF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n){this.db=e,this.garbageCollector=vk(this,n)}dr(e){const n=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}mr(e,n){return this.yr(e,((r,i)=>n(i)))}addReference(e,n,r){return bp(e,r)}removeReference(e,n,r){return bp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return bp(e,n)}wr(e,n){return(function(i,s){let l=!1;return pk(i).te((c=>mk(i,c,s).next((f=>(f&&(l=!0),Y.resolve(!f)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.yr(e,((l,c)=>{if(c<=n){const f=this.wr(e,l).next((d=>{if(!d)return s++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Ne.min()),zs(e).delete((function(p){return[0,Fn(p.path)]})(l)))))}));i.push(f)}})).next((()=>Y.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return bp(e,n)}yr(e,n){const r=zs(e);let i,s=ir.ce;return r.ee({index:w1},(([l,c],{path:f,sequenceNumber:d})=>{l===0?(s!==ir.ce&&n(new ve(Xi(i)),s),s=d,i=f):s=ir.ce})).next((()=>{s!==ir.ce&&n(new ve(Xi(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bp(t,e){return zs(t).put((function(r,i){return{targetId:0,path:Fn(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.changes=new Qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Go(e).put(r)}removeEntry(e,n,r){return Go(e).delete((function(s,l){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],_g(l),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.br(e,r))))}getEntry(e,n){let r=Bt.newInvalidDocument(n);return Go(e).ee({index:$p,range:IDBKeyRange.only(Wf(n))},((i,s)=>{r=this.Sr(n,s)})).next((()=>r))}Dr(e,n){let r={size:0,document:Bt.newInvalidDocument(n)};return Go(e).ee({index:$p,range:IDBKeyRange.only(Wf(n))},((i,s)=>{r={document:this.Sr(n,s),size:wg(s)}})).next((()=>r))}getEntries(e,n){let r=xr();return this.Cr(e,n,((i,s)=>{const l=this.Sr(i,s);r=r.insert(i,l)})).next((()=>r))}vr(e,n){let r=xr(),i=new wt(ve.comparator);return this.Cr(e,n,((s,l)=>{const c=this.Sr(s,l);r=r.insert(s,c),i=i.insert(s,wg(l))})).next((()=>({documents:r,Fr:i})))}Cr(e,n,r){if(n.isEmpty())return Y.resolve();let i=new ht(KO);n.forEach((f=>i=i.add(f)));const s=IDBKeyRange.bound(Wf(i.first()),Wf(i.last())),l=i.getIterator();let c=l.getNext();return Go(e).ee({index:$p,range:s},((f,d,m)=>{const p=ve.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;c&&KO(c,p)<0;)r(c,null),c=l.getNext();c&&c.isEqual(p)&&(r(c,d),c=l.hasNext()?l.getNext():null),c?m.j(Wf(c)):m.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const l=n.path,c=[l.popLast().toArray(),l.lastSegment(),_g(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Go(e).H(IDBKeyRange.bound(c,f,!0)).next((d=>{s==null||s.incrementDocumentReadCount(d.length);let m=xr();for(const p of d){const b=this.Sr(ve.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);b.isFoundDocument()&&(dd(n,b)||i.has(b.key))&&(m=m.insert(b.key,b))}return m}))}getAllFromCollectionGroup(e,n,r,i){let s=xr();const l=HO(n,r),c=HO(n,Ar.max());return Go(e).ee({index:ij,range:IDBKeyRange.bound(l,c,!0)},((f,d,m)=>{const p=this.Sr(ve.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(p.key,p),s.size===i&&m.done()})).next((()=>s))}newChangeBuffer(e){return new TF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return $O(e).get(Kx).next((n=>(Oe(!!n,20021),n)))}br(e,n){return $O(e).put(Kx,n)}Sr(e,n){if(n){const r=cF(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ne.min())))return r}return Bt.newInvalidDocument(e)}}function _k(t){return new SF(t)}class TF extends bk{constructor(e,n){super(),this.Mr=e,this.trackRemovals=n,this.Or=new Qa((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new ht(((s,l)=>Me(s.canonicalString(),l.canonicalString())));return this.changes.forEach(((s,l)=>{const c=this.Or.get(s);if(n.push(this.Mr.removeEntry(e,s,c.readTime)),l.isValidDocument()){const f=IO(this.Mr.serializer,l);i=i.add(s.path.popLast());const d=wg(f);r+=d-c.size,n.push(this.Mr.addEntry(e,s,f))}else if(r-=c.size,this.trackRemovals){const f=IO(this.Mr.serializer,l.convertToNoDocument(Ne.min()));n.push(this.Mr.addEntry(e,s,f))}})),i.forEach((s=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Mr.updateMetadata(e,r)),Y.waitFor(n)}getFromCache(e,n){return this.Mr.Dr(e,n).next((r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Mr.vr(e,n).next((({documents:r,Fr:i})=>(i.forEach(((s,l)=>{this.Or.set(s,{size:l,readTime:r.get(s).readTime})})),r)))}}function $O(t){return yn(t,Dh)}function Go(t){return yn(t,hg)}function Wf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function HO(t,e){const n=e.documentKey.path.toArray();return[t,_g(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function KO(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Me(n[s],r[s]),i)return i;return i=Me(n.length,r.length),i||(i=Me(n[n.length-2],r[r.length-2]),i||Me(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Eh(r.mutation,i,ar.empty(),Je.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Fe()){const i=Wi();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=ch();return s.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Wi();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Fe())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=xr();const l=wh(),c=(function(){return wh()})();return n.forEach(((f,d)=>{const m=r.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof Xa)?s=s.insert(d.key,d):m!==void 0?(l.set(d.key,m.mutation.getFieldMask()),Eh(m.mutation,d,m.mutation.getFieldMask(),Je.now())):l.set(d.key,ar.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((d,m)=>l.set(d,m))),n.forEach(((d,m)=>c.set(d,new AF(m,l.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=wh();let i=new wt(((l,c)=>l-c)),s=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let m=r.get(f)||ar.empty();m=c.applyToLocalView(d,m),r.set(f,m);const p=(i.get(c.batchId)||Fe()).add(f);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,m=f.value,p=Vj();m.forEach((b=>{if(!s.has(b)){const _=Fj(n.get(b),r.get(b));_!==null&&p.set(b,_),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,p))}return Y.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return Nq(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Nj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Y.resolve(Wi());let c=Zu,f=s;return l.next((d=>Y.forEach(d,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(m)?Y.resolve():this.remoteDocumentCache.getEntry(e,m).next((b=>{f=f.insert(m,b)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,f,d,Fe()))).next((m=>({batchId:c,changes:kj(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((r=>{let i=ch();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=ch();return this.indexManager.getCollectionParents(e,s).next((c=>Y.forEach(c,(f=>{const d=(function(p,b){return new hd(b,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((m=>{m.forEach(((p,b)=>{l=l.insert(p,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((f,d)=>{const m=d.getKey();l.get(m)===null&&(l=l.insert(m,Bt.newInvalidDocument(m)))}));let c=ch();return l.forEach(((f,d)=>{const m=s.get(f);m!==void 0&&Eh(m.mutation,d,ar.empty(),Je.now()),dd(n,d)&&(c=c.insert(f,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Y.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Qn(i.createTime)}})(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:uk(i.bundledQuery),readTime:Qn(i.readTime)}})(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.overlays=new wt(ve.comparator),this.Lr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wi();return Y.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Wi(),s=n.length+1,l=new ve(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new wt(((d,m)=>d-m));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=s.get(d.largestBatchId);m===null&&(m=Wi(),s=s.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=Wi(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,m)=>c.set(d,m))),!(c.size()>=i)););return Y.resolve(c)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new M1(n,r));let s=this.Lr.get(n);s===void 0&&(s=Fe(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.kr=new ht(Sn.Kr),this.qr=new ht(Sn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Sn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Sn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ve(new st([])),r=new Sn(n,e),i=new Sn(n,e+1),s=[];return this.qr.forEachInRange([r,i],(l=>{this.Wr(l),s.push(l.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new st([])),r=new Sn(n,e),i=new Sn(n,e+1);let s=Fe();return this.qr.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Sn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Me(e.Hr,n.Hr)}static Ur(e,n){return Me(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ht(Sn.Kr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new P1(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Jr=this.Jr.add(new Sn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,n){return Y.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?cl:this.Yn-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Sn(n,0),i=new Sn(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(l=>{const c=this.Zr(l.Hr);s.push(c)})),Y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(Me);return n.forEach((i=>{const s=new Sn(i,0),l=new Sn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,l],(c=>{r=r.add(c.Hr)}))})),Y.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const l=new Sn(new ve(s),0);let c=new ht(Me);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(f.Hr)),!0)}),l),Y.resolve(this.Yr(c))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Oe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Y.forEach(n.mutations,(i=>{const s=new Sn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Sn(n,0),i=this.Jr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.ti=e,this.docs=(function(){return new wt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))})),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xr();const l=n.path,c=new ve(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||_1(ZM(m),r)<=0||(i.has(m.key)||dd(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){xe(9500)}ni(e,n){return Y.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new PF(this)}getSize(e){return Y.resolve(this.size)}}class PF extends bk{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),Y.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.persistence=e,this.ri=new Qa((n=>_l(n)),fd),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new z1,this.targetCount=0,this.oi=El._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Y.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new El(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.lr(n),Y.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ri.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Y.waitFor(s).next((()=>i))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this._i={},this.overlays={},this.ai=new ir(0),this.ui=!1,this.ui=!0,this.ci=new CF,this.referenceDelegate=e(this),this.li=new DF(this),this.indexManager=new vF,this.remoteDocumentCache=(function(i){return new NF(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new ok(n),this.Pi=new IF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new RF(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new MF(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return Y.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class MF extends ej{constructor(e){super(),this.currentSequenceNumber=e}}class zy{constructor(e){this.persistence=e,this.Ri=new z1,this.Ai=null}static Vi(e){return new zy(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,(r=>{const i=ve.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,Ne.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Eg{constructor(e,n){this.persistence=e,this.fi=new Qa((r=>Fn(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=vk(this,n)}static Vi(e,n){return new Eg(e,n)}Ti(){}Ii(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return Y.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?Y.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(l=>this.wr(e,l,n).next((c=>{c||(r++,s.removeEntry(l,Ne.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Y.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kp(e.data.value)),n}wr(e,n,r){return Y.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.serializer=e}k(e,n,r,i){const s=new Ty("createOrUpgrade",n);r<1&&i>=1&&((function(f){f.createObjectStore(cd)})(e),(function(f){f.createObjectStore(Ph,{keyPath:G8}),f.createObjectStore(hi,{keyPath:rO,autoIncrement:!0}).createIndex(al,iO,{unique:!0}),f.createObjectStore(Ju)})(e),GO(e),(function(f){f.createObjectStore(Wo)})(e));let l=Y.resolve();return r<3&&i>=3&&(r!==0&&((function(f){f.deleteObjectStore(tc),f.deleteObjectStore(ec),f.deleteObjectStore(fl)})(e),GO(e)),l=l.next((()=>(function(f){const d=f.store(fl),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return d.put(dg,m)})(s)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(f,d){return d.store(hi).H().next((p=>{f.deleteObjectStore(hi),f.createObjectStore(hi,{keyPath:rO,autoIncrement:!0}).createIndex(al,iO,{unique:!0});const b=d.store(hi),_=p.map((S=>b.put(S)));return Y.waitFor(_)}))})(e,s)))),l=l.next((()=>{(function(f){f.createObjectStore(nc,{keyPath:nq})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.gi(s)))),r<6&&i>=6&&(l=l.next((()=>((function(f){f.createObjectStore(Dh)})(e),this.pi(s))))),r<7&&i>=7&&(l=l.next((()=>this.yi(s)))),r<8&&i>=8&&(l=l.next((()=>this.wi(e,s)))),r<9&&i>=9&&(l=l.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.bi(s)))),r<11&&i>=11&&(l=l.next((()=>{(function(f){f.createObjectStore(Iy,{keyPath:rq})})(e),(function(f){f.createObjectStore(Oy,{keyPath:iq})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(f){const d=f.createObjectStore(Cy,{keyPath:fq});d.createIndex(Yx,hq,{unique:!1}),d.createIndex(lj,dq,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(f){const d=f.createObjectStore(hg,{keyPath:Q8});d.createIndex($p,X8),d.createIndex(ij,W8)})(e))).next((()=>this.Si(e,s))).next((()=>e.deleteObjectStore(Wo)))),r<14&&i>=14&&(l=l.next((()=>this.Di(e,s)))),r<15&&i>=15&&(l=l.next((()=>(function(f){f.createObjectStore(E1,{keyPath:aq,autoIncrement:!0}).createIndex(Gx,sq,{unique:!1}),f.createObjectStore(vh,{keyPath:oq}).createIndex(sj,lq,{unique:!1}),f.createObjectStore(bh,{keyPath:uq}).createIndex(oj,cq,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(vh).clear()})).next((()=>{n.objectStore(bh).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(f){f.createObjectStore(S1,{keyPath:mq})})(e)}))),r<18&&i>=18&&DM()&&(l=l.next((()=>{n.objectStore(vh).clear()})).next((()=>{n.objectStore(bh).clear()}))),l}pi(e){let n=0;return e.store(Wo).ee(((r,i)=>{n+=wg(i)})).next((()=>{const r={byteSize:n};return e.store(Dh).put(Kx,r)}))}gi(e){const n=e.store(Ph),r=e.store(hi);return n.H().next((i=>Y.forEach(i,(s=>{const l=IDBKeyRange.bound([s.userId,cl],[s.userId,s.lastAcknowledgedBatchId]);return r.H(al,l).next((c=>Y.forEach(c,(f=>{Oe(f.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=nl(this.serializer,f);return dk(e,s.userId,d).next((()=>{}))}))))}))))}yi(e){const n=e.store(tc),r=e.store(Wo);return e.store(fl).get(dg).next((i=>{const s=[];return r.ee(((l,c)=>{const f=new st(l),d=(function(p){return[0,Fn(p)]})(f);s.push(n.get(d).next((m=>m?Y.resolve():(p=>n.put({targetId:0,path:Fn(p),sequenceNumber:i.highestListenSequenceNumber}))(f))))})).next((()=>Y.waitFor(s)))}))}wi(e,n){e.createObjectStore(Mh,{keyPath:tq});const r=n.store(Mh),i=new L1,s=l=>{if(i.add(l)){const c=l.lastSegment(),f=l.popLast();return r.put({collectionId:c,parent:Fn(f)})}};return n.store(Wo).ee({Y:!0},((l,c)=>{const f=new st(l);return s(f.popLast())})).next((()=>n.store(Ju).ee({Y:!0},(([l,c,f],d)=>{const m=Xi(c);return s(m.popLast())}))))}bi(e){const n=e.store(ec);return n.ee(((r,i)=>{const s=hh(i),l=lk(this.serializer,s);return n.put(l)}))}Si(e,n){const r=n.store(Wo),i=[];return r.ee(((s,l)=>{const c=n.store(hg),f=(function(p){return p.document?new ve(st.fromString(p.document.name).popFirst(5)):p.noDocument?ve.fromSegments(p.noDocument.path):p.unknownDocument?ve.fromSegments(p.unknownDocument.path):xe(36783)})(l).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(d))})).next((()=>Y.waitFor(i)))}Di(e,n){const r=n.store(hi),i=_k(this.serializer),s=new B1(zy.Vi,this.serializer.yt);return r.H().next((l=>{const c=new Map;return l.forEach((f=>{let d=c.get(f.userId)??Fe();nl(this.serializer,f).keys().forEach((m=>d=d.add(m))),c.set(f.userId,d)})),Y.forEach(c,((f,d)=>{const m=new Bn(d),p=Vy.wt(this.serializer,m),b=s.getIndexManager(m),_=Ly.wt(m,this.serializer,b,s.referenceDelegate);return new xk(i,_,p,b).recalculateAndSaveOverlaysForDocumentKeys(new Qx(n,ir.ce),f).next()}))}))}}function GO(t){t.createObjectStore(tc,{keyPath:J8}).createIndex(w1,eq,{unique:!0}),t.createObjectStore(ec,{keyPath:"targetId"}).createIndex(aj,Z8,{unique:!0}),t.createObjectStore(fl)}const Vs="IndexedDbPersistence",Qb=18e5,Xb=5e3,Wb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kF="main";class U1{constructor(e,n,r,i,s,l,c,f,d,m,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ci=s,this.window=l,this.document=c,this.Fi=d,this.Mi=m,this.xi=p,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=b=>Promise.resolve(),!U1.v())throw new pe(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new EF(this,i),this.Ki=n+kF,this.serializer=new ok(f),this.qi=new Ks(this.Ki,this.xi,new jF(this.serializer)),this.ci=new hF,this.li=new _F(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_k(this.serializer),this.Pi=new fF,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,m===!1&&Qt(Vs,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new pe(se.FAILED_PRECONDITION,Wb);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new ir(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>_p(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((n=>this.isPrimary&&!n?this.Ji(e).next((()=>!1)):!!n&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(so(e))return he(Vs,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he(Vs,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Zf(e).get(Tu).next((n=>Y.resolve(this.Xi(n))))}Yi(e){return _p(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Qb)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=yn(n,nc);return r.H().next((i=>{const s=this.ns(i,Qb),l=i.filter((c=>s.indexOf(c)===-1));return Y.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ui)for(const n of e)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?Y.resolve(!0):Zf(e).get(Tu).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,Xb)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new pe(se.FAILED_PRECONDITION,Wb);return!1}}return!(!this.networkEnabled||!this.inForeground)||_p(e).H().next((r=>this.ns(r,Xb).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(s||l&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&he(Vs,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[cd,nc],(e=>{const n=new Qx(e,ir.ce);return this.Ji(n).next((()=>this.Yi(n)))})),this.qi.close(),this.ls()}ns(e,n){return e.filter((r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>_p(e).H().next((n=>this.ns(n,Qb).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,n){return Ly.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new bF(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Vy.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,n,r){he(Vs,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(f){return f===18?yq:f===17?hj:f===16?gq:f===15?T1:f===14?fj:f===13?cj:f===12?pq:f===11?uj:void xe(60245)})(this.xi);let l;return this.qi.runTransaction(e,i,s,(c=>(l=new Qx(c,this.ai?this.ai.next():ir.ce),n==="readwrite-primary"?this.ji(l).next((f=>!!f||this.Hi(l))).next((f=>{if(!f)throw Qt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new pe(se.FAILED_PRECONDITION,JM);return r(l)})).next((f=>this.Zi(l).next((()=>f)))):this.Ps(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Ps(e){return Zf(e).get(Tu).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,Xb)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new pe(se.FAILED_PRECONDITION,Wb)}))}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zf(e).put(Tu,n)}static v(){return Ks.v()}Ji(e){const n=Zf(e);return n.get(Tu).next((r=>this.Xi(r)?(he(Vs,"Releasing primary lease."),n.delete(Tu)):Y.resolve()))}ts(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Qt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Oi=()=>{this._s();const n=/(?:Version|Mobile)\/1[456]/;PM()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){var n;try{const r=((n=this.Ui)==null?void 0:n.getItem(this.rs(e)))!==null;return he(Vs,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Qt(Vs,"Failed to get zombied client id.",r),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){Qt("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zf(t){return yn(t,cd)}function _p(t){return yn(t,nc)}function wk(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Fe(),i=Fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new q1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return PM()?8:tj(og())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new VF;return this.ys(e,n,l).next((c=>{if(s.result=c,this.As)return this.ws(e,n,l,c.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(ju()<=Ze.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ku(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(ju()<=Ze.DEBUG&&he("QueryEngine","Query:",ku(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(ju()<=Ze.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ku(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):Y.resolve())}gs(e,n){if(yO(n))return Y.resolve(null);let r=Er(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=nw(n,null,"F"),r=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=Fe(...s);return this.fs.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(n,c);return this.Ss(n,d,l,f.readTime)?this.gs(e,nw(n,null,"F")):this.Ds(e,d,n,f)}))))})))))}ps(e,n,r,i){return yO(n)||i.isEqual(Ne.min())?Y.resolve(null):this.fs.getDocuments(e,r).next((s=>{const l=this.bs(n,s);return this.Ss(n,l,r,i)?Y.resolve(null):(ju()<=Ze.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ku(n)),this.Ds(e,l,n,WM(i,Zu)).next((c=>c)))}))}bs(e,n){let r=new ht(Mj(e));return n.forEach(((i,s)=>{dd(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return ju()<=Ze.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ku(n)),this.fs.getDocumentsMatchingQuery(e,n,Ar.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="LocalStore",LF=3e8;class zF{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new wt(Me),this.Fs=new Qa((s=>_l(s)),fd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xk(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Sk(t,e,n,r){return new zF(t,e,n,r)}async function Tk(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let f=Fe();for(const d of i){l.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of s){c.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:l,addedBatchIds:c})))}))}))}function BF(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,m){const p=d.batch,b=p.keys();let _=Y.resolve();return b.forEach((S=>{_=_.next((()=>m.getEntry(f,S))).next((E=>{const T=d.docVersions.get(S);Oe(T!==null,48541),E.version.compareTo(T)<0&&(p.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),m.addEntry(E)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(f,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Fe();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Ak(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function UF(t,e){const n=Te(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const c=[];e.targetChanges.forEach(((m,p)=>{const b=i.get(p);if(!b)return;c.push(n.li.removeMatchingKeys(s,m.removedDocuments,p).next((()=>n.li.addMatchingKeys(s,m.addedDocuments,p))));let _=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Xt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),i=i.insert(p,_),(function(E,T,C){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=LF?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(b,_,m)&&c.push(n.li.updateTargetData(s,_))}));let f=xr(),d=Fe();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push(qF(s,l,e.documentUpdates).next((m=>{f=m.Bs,d=m.Ls}))),!r.isEqual(Ne.min())){const m=n.li.getLastRemoteSnapshotVersion(s).next((p=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(m)}return Y.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,d))).next((()=>f))})).then((s=>(n.vs=i,s)))}function qF(t,e,n){let r=Fe(),i=Fe();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=xr();return n.forEach(((c,f)=>{const d=s.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):he(F1,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{Bs:l,Ls:i}}))}function FF(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=cl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Sg(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,Y.resolve(i)):n.li.allocateTargetId(r).next((l=>(i=new Ra(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function cc(t,e,n){const r=Te(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!so(l))throw l;he(F1,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function cw(t,e,n){const r=Te(t);let i=Ne.min(),s=Fe();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,m){const p=Te(f),b=p.Fs.get(m);return b!==void 0?Y.resolve(p.vs.get(b)):p.li.getTargetData(d,m)})(r,l,Er(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,c.targetId).next((f=>{s=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:Ne.min(),n?s:Fe()))).next((c=>(Ck(r,Dj(e),c),{documents:c,ks:s})))))}function Ik(t,e){const n=Te(t),r=Te(n.li),i=n.vs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((l=>l?l.target:null))))}function Ok(t,e){const n=Te(t),r=n.Ms.get(e)||Ne.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.xs.getAllFromCollectionGroup(i,e,WM(r,Zu),Number.MAX_SAFE_INTEGER))).then((i=>(Ck(n,e,i),i)))}function Ck(t,e,n){let r=t.Ms.get(e)||Ne.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="firestore_clients";function YO(t,e){return`${Rk}_${t}_${e}`}const Nk="firestore_mutations";function QO(t,e,n){let r=`${Nk}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const Pk="firestore_targets";function Zb(t,e){return`${Pk}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="SharedClientState";class Tg{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static $s(e,n,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new pe(i.error.code,i.error.message))),l?new Tg(e,n,i.state,s):(Qt(Qi,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sh{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static $s(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new pe(r.error.code,r.error.message))),s?new Sh(e,r.state,i):(Qt(Qi,`Failed to parse target state for ID '${e}': ${n}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ag{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static $s(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=R1();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=nj(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new Ag(e,s):(Qt(Qi,`Failed to parse client data for instance '${e}': ${n}`),null)}}class $1{constructor(e,n){this.clientId=e,this.onlineState=n}static $s(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new $1(n.clientId,n.onlineState):(Qt(Qi,`Failed to parse online state: ${e}`),null)}}class fw{constructor(){this.activeTargetIds=R1()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jb{constructor(e,n,r,i,s){this.window=e,this.Ci=n,this.persistenceKey=r,this.zs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new wt(Me),this.started=!1,this.Zs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Xs=YO(this.persistenceKey,this.zs),this.Ys=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new fw),this.eo=new RegExp(`^${Rk}_${l}_([^_]*)$`),this.no=new RegExp(`^${Nk}_${l}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${Pk}_${l}_(\\d+)$`),this.io=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this.so=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const i=this.getItem(YO(this.persistenceKey,r));if(i){const s=Ag.$s(r,i);s&&(this.Js=this.Js.insert(s.clientId,s))}}this.oo();const n=this.storage.getItem(this.io);if(n){const r=this._o(n);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let n=!1;return this.Js.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,n,r){this.co(e,n,r),this.lo(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Zb(this.persistenceKey,e));if(i){const s=Sh.$s(e,i);s&&(r=s.state)}}return n&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Zb(this.persistenceKey,e))}updateQueryState(e,n,r){this.Po(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.lo(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return he(Qi,"READ",e,n),n}setItem(e,n){he(Qi,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){he(Qi,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const n=e;if(n.storageArea===this.storage){if(he(Qi,"EVENT",n.key,n.newValue),n.key===this.Xs)return void Qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.eo.test(n.key)){if(n.newValue==null){const r=this.Eo(n.key);return this.Ro(r,null)}{const r=this.Ao(n.key,n.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(n.key)){if(n.newValue!==null){const r=this.Vo(n.key,n.newValue);if(r)return this.mo(r)}}else if(this.ro.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(n.key===this.io){if(n.newValue!==null){const r=this._o(n.newValue);if(r)return this.ao(r)}}else if(n.key===this.Ys){const r=(function(s){let l=ir.ce;if(s!=null)try{const c=JSON.parse(s);Oe(typeof c=="number",30636,{yo:s}),l=c}catch(c){Qt(Qi,"Failed to read sequence number from WebStorage",c)}return l})(n.newValue);r!==ir.ce&&this.sequenceNumberHandler(r)}else if(n.key===this.so){const r=this.wo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.bo(i))))}}}else this.Zs.push(n)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,n,r){const i=new Tg(this.currentUser,e,n,r),s=QO(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ws())}lo(e){const n=QO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}To(e){const n={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(n))}Po(e,n,r){const i=Zb(this.persistenceKey,e),s=new Sh(e,n,r);this.setItem(i,s.Ws())}Io(e){const n=JSON.stringify(Array.from(e));this.setItem(this.so,n)}Eo(e){const n=this.eo.exec(e);return n?n[1]:null}Ao(e,n){const r=this.Eo(e);return Ag.$s(r,n)}Vo(e,n){const r=this.no.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Tg.$s(new Bn(s),i,n)}fo(e,n){const r=this.ro.exec(e),i=Number(r[1]);return Sh.$s(i,n)}_o(e){return $1.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);he(Qi,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,n){const r=n?this.Js.insert(e,n):this.Js.remove(e),i=this.uo(this.Js),s=this.uo(r),l=[],c=[];return s.forEach((f=>{i.has(f)||l.push(f)})),i.forEach((f=>{s.has(f)||c.push(f)})),this.syncEngine.Co(l,c).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let n=R1();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class Dk{constructor(){this.vo=new fw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new fw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="ConnectivityMonitor";class WO{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(XO,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(XO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp=null;function hw(){return xp===null?xp=(function(){return 268435456+Math.round(2147483648*Math.random())})():xp++,"0x"+xp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="RestConnection",HF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class KF{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===mg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const l=hw(),c=this.Qo(e,n.toUriEncodedString());he(e_,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,s);const{host:d}=new URL(c),m=RM(d);return this.zo(e,c,f,r,m).then((p=>(he(e_,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw Ch(e_,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}jo(e,n,r,i,s,l){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ic})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=HF[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection",Jf=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class $u extends KF{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!$u.c_){const e=HM();Jf(e,$M.STAT_EVENT,(n=>{n.stat===Fx.PROXY?he(zn,"STAT_EVENT: detected buffering proxy"):n.stat===Fx.NOPROXY&&he(zn,"STAT_EVENT: detected no buffering proxy")})),$u.c_=!0}}zo(e,n,r,i,s){const l=hw();return new Promise(((c,f)=>{const d=new qM;d.setWithCredentials(!0),d.listenOnce(FM.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Up.NO_ERROR:const p=d.getResponseJson();he(zn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case Up.TIMEOUT:he(zn,`RPC '${e}' ${l} timed out`),f(new pe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Up.HTTP_ERROR:const b=d.getStatus();if(he(zn,`RPC '${e}' ${l} failed with status:`,b,"response text:",d.getResponseText()),b>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const E=(function(C){const k=C.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(k)>=0?k:se.UNKNOWN})(S.status);f(new pe(E,S.message))}else f(new pe(se.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new pe(se.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{he(zn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);he(zn,`RPC '${e}' ${l} sending request:`,i),d.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=hw(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");he(zn,`Creating RPC '${e}' stream ${i}: ${d}`,c);const m=l.createWebChannel(d,c);this.I_(m);let p=!1,b=!1;const _=new GF({Ho:S=>{b?he(zn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(p||(he(zn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),p=!0),he(zn,`RPC '${e}' stream ${i} sending:`,S),m.send(S))},Jo:()=>m.close()});return Jf(m,uh.EventType.OPEN,(()=>{b||(he(zn,`RPC '${e}' stream ${i} transport opened.`),_.i_())})),Jf(m,uh.EventType.CLOSE,(()=>{b||(b=!0,he(zn,`RPC '${e}' stream ${i} transport closed`),_.o_(),this.E_(m))})),Jf(m,uh.EventType.ERROR,(S=>{b||(b=!0,Ch(zn,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),_.o_(new pe(se.UNAVAILABLE,"The operation could not be completed")))})),Jf(m,uh.EventType.MESSAGE,(S=>{var E;if(!b){const T=S.data[0];Oe(!!T,16349);const C=T,k=(C==null?void 0:C.error)||((E=C[0])==null?void 0:E.error);if(k){he(zn,`RPC '${e}' stream ${i} received error:`,k);const M=k.status;let F=(function(R){const N=on[R];if(N!==void 0)return Kj(N)})(M),B=k.message;F===void 0&&(F=se.INTERNAL,B="Unknown error status: "+M+" with message "+k.message),b=!0,_.o_(new pe(F,B)),m.close()}else he(zn,`RPC '${e}' stream ${i} received:`,T),_.__(T)}})),$u.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KM()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){return new $u(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(){return typeof window<"u"?window:null}function Wp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t){return new eF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$u.c_=!1;class jk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="PersistentStream";class kk{constructor(e,n,r,i,s,l,c,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Qt(n.toString()),Qt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new pe(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(ZO,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(ZO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QF extends kk{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=rF(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ne.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?Qn(l.readTime):Ne.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=aw(this.serializer),n.addTarget=(function(s,l){let c;const f=l.target;if(c=gg(f)?{documents:ek(s,f)}:{query:tk(s,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Qj(s,l.resumeToken);const d=rw(s,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(Ne.min())>0){c.readTime=uc(s,l.snapshotVersion.toTimestamp());const d=rw(s,l.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=aF(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=aw(this.serializer),n.removeTarget=e,this.K_(n)}}class XF extends kk{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iF(e.writeResults,e.commitTime),r=Qn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=aw(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>bg(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{}class ZF extends WF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Wo(e,iw(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(se.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.jo(e,iw(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(se.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function JF(t,e,n,r){return new ZF(t,e,n,r)}class e7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qt(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="RemoteStore";class t7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{Ml(this)&&(he(Sl,"Restarting streams for network reachability change."),await(async function(f){const d=Te(f);d.Ea.add(4),await gd(d),d.Va.set("Unknown"),d.Ea.delete(4),await Uy(d)})(this))}))})),this.Va=new e7(r,i)}}async function Uy(t){if(Ml(t))for(const e of t.Ra)await e(!0)}async function gd(t){for(const e of t.Ra)await e(!1)}function qy(t,e){const n=Te(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),G1(n)?K1(n):Rc(n).O_()&&H1(n,e))}function fc(t,e){const n=Te(t),r=Rc(n);n.Ia.delete(e),r.O_()&&Vk(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ml(n)&&n.Va.set("Unknown"))}function H1(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rc(t).Z_(e)}function Vk(t,e){t.da.$e(e),Rc(t).X_(e)}function K1(t){t.da=new Xq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Rc(t).start(),t.Va.ua()}function G1(t){return Ml(t)&&!Rc(t).x_()&&t.Ia.size>0}function Ml(t){return Te(t).Ea.size===0}function Lk(t){t.da=void 0}async function n7(t){t.Va.set("Online")}async function r7(t){t.Ia.forEach(((e,n)=>{H1(t,e)}))}async function i7(t,e){Lk(t),G1(t)?(t.Va.ha(e),K1(t)):t.Va.set("Unknown")}async function a7(t,e,n){if(t.Va.set("Online"),e instanceof Yj&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.da.removeTarget(c))})(t,e)}catch(r){he(Sl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ig(t,r)}else if(e instanceof Qp?t.da.Xe(e):e instanceof Gj?t.da.st(e):t.da.tt(e),!n.isEqual(Ne.min()))try{const r=await Ak(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.da.Tt(l);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=s.Ia.get(d);m&&s.Ia.set(d,m.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,d)=>{const m=s.Ia.get(f);if(!m)return;s.Ia.set(f,m.withResumeToken(Xt.EMPTY_BYTE_STRING,m.snapshotVersion)),Vk(s,f);const p=new Ra(m.target,f,d,m.sequenceNumber);H1(s,p)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){he(Sl,"Failed to raise snapshot:",r),await Ig(t,r)}}async function Ig(t,e,n){if(!so(e))throw e;t.Ea.add(1),await gd(t),t.Va.set("Offline"),n||(n=()=>Ak(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(Sl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Uy(t)}))}function zk(t,e){return e().catch((n=>Ig(t,n,e)))}async function Cc(t){const e=Te(t),n=Js(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cl;for(;s7(e);)try{const i=await FF(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,o7(e,i)}catch(i){await Ig(e,i)}Bk(e)&&Uk(e)}function s7(t){return Ml(t)&&t.Ta.length<10}function o7(t,e){t.Ta.push(e);const n=Js(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Bk(t){return Ml(t)&&!Js(t).x_()&&t.Ta.length>0}function Uk(t){Js(t).start()}async function l7(t){Js(t).ra()}async function u7(t){const e=Js(t);for(const n of t.Ta)e.ea(n.mutations)}async function c7(t,e,n){const r=t.Ta.shift(),i=D1.from(r,e,n);await zk(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Cc(t)}async function f7(t,e){e&&Js(t).Y_&&await(async function(r,i){if((function(l){return Gq(l)&&l!==se.ABORTED})(i.code)){const s=r.Ta.shift();Js(r).B_(),await zk(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Cc(r)}})(t,e),Bk(t)&&Uk(t)}async function JO(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),he(Sl,"RemoteStore received new credentials");const r=Ml(n);n.Ea.add(3),await gd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Uy(n)}async function dw(t,e){const n=Te(t);e?(n.Ea.delete(2),await Uy(n)):e||(n.Ea.add(2),await gd(n),n.Va.set("Unknown"))}function Rc(t){return t.ma||(t.ma=(function(n,r,i){const s=Te(n);return s.sa(),new QF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:n7.bind(null,t),Yo:r7.bind(null,t),t_:i7.bind(null,t),J_:a7.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),G1(t)?K1(t):t.Va.set("Unknown")):(await t.ma.stop(),Lk(t))}))),t.ma}function Js(t){return t.fa||(t.fa=(function(n,r,i){const s=Te(n);return s.sa(),new XF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:l7.bind(null,t),t_:f7.bind(null,t),ta:u7.bind(null,t),na:c7.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Cc(t)):(await t.fa.stop(),t.Ta.length>0&&(he(Sl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new Y1(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Q1(t,e){if(Qt("AsyncQueue",`${e}: ${t}`),so(t))return new pe(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{static emptySet(e){return new Hu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=ch(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.ga=new wt(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class hc{constructor(e,n,r,i,s,l,c,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new hc(e,n,Hu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class d7{constructor(){this.queries=tC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Te(n),s=i.queries;i.queries=tC(),s.forEach(((l,c)=>{for(const f of c.ba)f.onError(r)}))})(this,new pe(se.ABORTED,"Firestore shutting down"))}}function tC(){return new Qa((t=>Pj(t)),Dy)}async function qk(t,e){const n=Te(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new h7,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=Q1(l,`Initialization of query '${ku(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&X1(n)}async function Fk(t,e){const n=Te(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.ba.indexOf(e);l>=0&&(s.ba.splice(l,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function m7(t,e){const n=Te(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.ba)c.Fa(i)&&(r=!0);l.wa=i}}r&&X1(n)}function p7(t,e,n){const r=Te(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function X1(t){t.Ca.forEach((e=>{e.next()}))}var mw,nC;(nC=mw||(mw={})).Ma="default",nC.Cache="cache";class $k{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.key=e}}class Kk{constructor(e){this.key=e}}class g7{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=Mj(e),this.tu=new Hu(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new eC,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const b=i.get(m),_=dd(this.query,p)?p:null,S=!!b&&this.mutatedKeys.has(b.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;b&&_?b.data.isEqual(_.data)?S!==E&&(r.track({type:3,doc:_}),T=!0):this.su(b,_)||(r.track({type:2,doc:_}),T=!0,(f&&this.eu(_,f)>0||d&&this.eu(_,d)<0)&&(c=!0)):!b&&_?(r.track({type:0,doc:_}),T=!0):b&&!_&&(r.track({type:1,doc:b}),T=!0,(f||d)&&(c=!0)),T&&(_?(l=l.add(_),s=E?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Ss:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(_,S){const E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:T})}};return E(_)-E(S)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,d=f!==this.Xa;return this.Xa=f,l.length!==0||d?{snapshot:new hc(this.query,e.tu,s,l,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eC,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new Kk(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new Hk(r))})),n}cu(e){this.Za=e.ks,this.Ya=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return hc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Nc="SyncEngine";class y7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class v7{constructor(e){this.key=e,this.hu=!1}}class b7{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Qa((c=>Pj(c)),Dy),this.Iu=new Map,this.Eu=new Set,this.Ru=new wt(ve.comparator),this.Au=new Map,this.Vu=new z1,this.du={},this.mu=new Map,this.fu=El.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _7(t,e,n=!0){const r=Fy(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Gk(r,e,n,!0),i}async function x7(t,e){const n=Fy(t);await Gk(n,e,!0,!1)}async function Gk(t,e,n,r){const i=await Sg(t.localStore,Er(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await W1(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&qy(t.remoteStore,i),c}async function W1(t,e,n,r,i){t.pu=(p,b,_)=>(async function(E,T,C,k){let M=T.view.ru(C);M.Ss&&(M=await cw(E.localStore,T.query,!1).then((({documents:R})=>T.view.ru(R,M))));const F=k&&k.targetChanges.get(T.targetId),B=k&&k.targetMismatches.get(T.targetId)!=null,U=T.view.applyChanges(M,E.isPrimaryClient,F,B);return pw(E,T.targetId,U.au),U.snapshot})(t,p,b,_);const s=await cw(t.localStore,e,!0),l=new g7(e,s.ks),c=l.ru(s.documents),f=pd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=l.applyChanges(c,t.isPrimaryClient,f);pw(t,n,d.au);const m=new y7(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function w7(t,e,n){const r=Te(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!Dy(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cc(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fc(r.remoteStore,i.targetId),dc(r,i.targetId)})).catch(ao)):(dc(r,i.targetId),await cc(r.localStore,i.targetId,!0))}async function E7(t,e){const n=Te(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fc(n.remoteStore,r.targetId))}async function S7(t,e,n){const r=tE(t);try{const i=await(function(l,c){const f=Te(l),d=Je.now(),m=c.reduce(((_,S)=>_.add(S.key)),Fe());let p,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=xr(),E=Fe();return f.xs.getEntries(_,m).next((T=>{S=T,S.forEach(((C,k)=>{k.isValidDocument()||(E=E.add(C))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,S))).next((T=>{p=T;const C=[];for(const k of c){const M=Hq(k,p.get(k.key).overlayedDocument);M!=null&&C.push(new Xa(k.key,M,wj(M.value.mapValue),Gn.exists(!0)))}return f.mutationQueue.addMutationBatch(_,d,C,c)})).next((T=>{b=T;const C=T.applyToLocalDocumentSet(p,E);return f.documentOverlayCache.saveOverlays(_,T.batchId,C)}))})).then((()=>({batchId:b.batchId,changes:kj(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,f){let d=l.du[l.currentUser.toKey()];d||(d=new wt(Me)),d=d.insert(c,f),l.du[l.currentUser.toKey()]=d})(r,i.batchId,n),await lo(r,i.changes),await Cc(r.remoteStore)}catch(i){const s=Q1(i,"Failed to persist write");n.reject(s)}}async function Yk(t,e){const n=Te(t);try{const r=await UF(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Oe(l.hu,14607):i.removedDocuments.size>0&&(Oe(l.hu,42227),l.hu=!1))})),await lo(n,r,e)}catch(r){await ao(r)}}function rC(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const f=Te(l);f.onlineState=c;let d=!1;f.queries.forEach(((m,p)=>{for(const b of p.ba)b.va(c)&&(d=!0)})),d&&X1(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function T7(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new wt(ve.comparator);l=l.insert(s,Bt.newNoDocument(s,Ne.min()));const c=Fe().add(s),f=new md(Ne.min(),new Map,new wt(Me),l,c);await Yk(r,f),r.Ru=r.Ru.remove(s),r.Au.delete(e),eE(r)}else await cc(r.localStore,e,!1).then((()=>dc(r,e,n))).catch(ao)}async function A7(t,e){const n=Te(t),r=e.batch.batchId;try{const i=await BF(n.localStore,e);J1(n,r,null),Z1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lo(n,i)}catch(i){await ao(i)}}async function I7(t,e,n){const r=Te(t);try{const i=await(function(l,c){const f=Te(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return f.mutationQueue.lookupMutationBatch(d,c).next((p=>(Oe(p!==null,37113),m=p.keys(),f.mutationQueue.removeMutationBatch(d,p)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>f.localDocuments.getDocuments(d,m)))}))})(r.localStore,e);J1(r,e,n),Z1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lo(r,i)}catch(i){await ao(i)}}function Z1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function J1(t,e,n){const r=Te(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function dc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||Qk(t,r)}))}function Qk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(fc(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),eE(t))}function pw(t,e,n){for(const r of n)r instanceof Hk?(t.Vu.addReference(r.key,e),O7(t,r)):r instanceof Kk?(he(Nc,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||Qk(t,r.key)):xe(19791,{wu:r})}function O7(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(he(Nc,"New document in limbo: "+n),t.Eu.add(r),eE(t))}function eE(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(st.fromString(e)),r=t.fu.next();t.Au.set(r,new v7(n)),t.Ru=t.Ru.insert(n,r),qy(t.remoteStore,new Ra(Er(Py(n.path)),r,"TargetPurposeLimboResolution",ir.ce))}}async function lo(t,e,n){const r=Te(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,n).then((d=>{var m;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(d){i.push(d);const p=q1.Es(f.targetId,d);s.push(p)}})))})),await Promise.all(l),r.Pu.J_(i),await(async function(f,d){const m=Te(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Y.forEach(d,(b=>Y.forEach(b.Ts,(_=>m.persistence.referenceDelegate.addReference(p,b.targetId,_))).next((()=>Y.forEach(b.Is,(_=>m.persistence.referenceDelegate.removeReference(p,b.targetId,_)))))))))}catch(p){if(!so(p))throw p;he(F1,"Failed to update sequence numbers: "+p)}for(const p of d){const b=p.targetId;if(!p.fromCache){const _=m.vs.get(b),S=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(S);m.vs=m.vs.insert(b,E)}}})(r.localStore,s))}async function C7(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){he(Nc,"User change. New user:",e.toKey());const r=await Tk(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((f=>{f.reject(new pe(se.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lo(n,r.Ns)}}function R7(t,e){const n=Te(t),r=n.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let i=Fe();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}async function N7(t,e){const n=Te(t),r=await cw(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&pw(n,e.targetId,i.au),i}async function P7(t,e){const n=Te(t);return Ok(n.localStore,e).then((r=>lo(n,r)))}async function D7(t,e,n,r){const i=Te(t),s=await(function(c,f){const d=Te(c),m=Te(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(p=>m.Xn(p,f).next((b=>b?d.localDocuments.getDocuments(p,b):Y.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Cc(i.remoteStore):n==="acknowledged"||n==="rejected"?(J1(i,e,r||null),Z1(i,e),(function(c,f){Te(Te(c).mutationQueue).nr(f)})(i.localStore,e)):xe(6720,"Unknown batchState",{bu:n}),await lo(i,s)):he(Nc,"Cannot apply mutation batch with id: "+e)}async function M7(t,e){const n=Te(t);if(Fy(n),tE(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await iC(n,r.toArray());n.gu=!0,await dw(n.remoteStore,!0);for(const s of i)qy(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(dc(n,l),cc(n.localStore,l,!0)))),fc(n.remoteStore,l)})),await i,await iC(n,r),(function(l){const c=Te(l);c.Au.forEach(((f,d)=>{fc(c.remoteStore,d)})),c.Vu.zr(),c.Au=new Map,c.Ru=new wt(ve.comparator)})(n),n.gu=!1,await dw(n.remoteStore,!1)}}async function iC(t,e,n){const r=Te(t),i=[],s=[];for(const l of e){let c;const f=r.Iu.get(l);if(f&&f.length!==0){c=await Sg(r.localStore,Er(f[0]));for(const d of f){const m=r.Tu.get(d),p=await N7(r,m);p.snapshot&&s.push(p.snapshot)}}else{const d=await Ik(r.localStore,l);c=await Sg(r.localStore,d),await W1(r,Xk(d),l,!1,c.resumeToken)}i.push(c)}return r.Pu.J_(s),i}function Xk(t){return Rj(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function j7(t){return(function(n){return Te(Te(n).persistence).hs()})(Te(t).localStore)}async function k7(t,e,n,r){const i=Te(t);if(i.gu)return void he(Nc,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const l=await Ok(i.localStore,Dj(s[0])),c=md.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Xt.EMPTY_BYTE_STRING);await lo(i,l,c);break}case"rejected":await cc(i.localStore,e,!0),dc(i,e,r);break;default:xe(64155,n)}}async function V7(t,e,n){const r=Fy(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){he(Nc,"Adding an already active target "+i);continue}const s=await Ik(r.localStore,i),l=await Sg(r.localStore,s);await W1(r,Xk(s),l.targetId,!1,l.resumeToken),qy(r.remoteStore,l)}for(const i of n)r.Iu.has(i)&&await cc(r.localStore,i,!1).then((()=>{fc(r.remoteStore,i),dc(r,i)})).catch(ao)}}function Fy(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T7.bind(null,e),e.Pu.J_=m7.bind(null,e.eventManager),e.Pu.yu=p7.bind(null,e.eventManager),e}function tE(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I7.bind(null,e),e}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=By(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Sk(this.persistence,new Ek,e.initialUser,this.serializer)}Cu(e){return new B1(zy.Vi,this.serializer)}Du(e){return new Dk}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class L7 extends Uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof Eg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yk(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new B1((r=>Eg.Vi(r,n)),this.serializer)}}class Wk extends Uh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await tE(this.xu.syncEngine),await Cc(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return Sk(this.persistence,new Ek,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new yk(r,e.asyncQueue,n)}Mu(e,n){const r=new H8(n,this.persistence);return new $8(e.asyncQueue,r)}Cu(e){const n=wk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new U1(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Mk(),Wp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new Dk}}class z7 extends Wk{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof Jb&&(this.sharedClientState.syncEngine={So:D7.bind(null,n),Do:k7.bind(null,n),Co:V7.bind(null,n),hs:j7.bind(null,n),bo:P7.bind(null,n)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await M7(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=Mk();if(!Jb.v(n))throw new pe(se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=wk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Jb(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class qh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=C7.bind(null,this.syncEngine),await dw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new d7})()}createDatastore(e){const n=By(e.databaseInfo.databaseId),r=YF(e.databaseInfo);return JF(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new t7(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>rC(this.syncEngine,n,0)),(function(){return WO.v()?new WO:new $F})())}createSyncEngine(e,n){return(function(i,s,l,c,f,d,m){const p=new b7(i,s,l,c,f,d);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=Te(i);he(Sl,"RemoteStore shutting down."),s.Ea.add(5),await gd(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}qh.provider={build:()=>new qh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="FirestoreClient";class B7{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Bn.UNAUTHENTICATED,this.clientId=b1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{he(eo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(he(eo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Q1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function t_(t,e){t.asyncQueue.verifyOperationInProgress(),he(eo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Tk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function aC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await U7(t);he(eo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>JO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>JO(e.remoteStore,i))),t._onlineComponents=e}async function U7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(eo,"Using user provided OfflineComponentProvider");try{await t_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Ch("Error using user provided cache. Falling back to memory cache: "+n),await t_(t,new Uh)}}else he(eo,"Using default OfflineComponentProvider"),await t_(t,new L7(void 0));return t._offlineComponents}async function Jk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(eo,"Using user provided OnlineComponentProvider"),await aC(t,t._uninitializedComponentsProvider._online)):(he(eo,"Using default OnlineComponentProvider"),await aC(t,new qh))),t._onlineComponents}function q7(t){return Jk(t).then((e=>e.syncEngine))}async function e4(t){const e=await Jk(t),n=e.eventManager;return n.onListen=_7.bind(null,e.syncEngine),n.onUnlisten=w7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=x7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E7.bind(null,e.syncEngine),n}function F7(t,e,n={}){const r=new ta;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,f,d){const m=new Zk({next:b=>{m.Nu(),l.enqueueAndForget((()=>Fk(s,p)));const _=b.docs.has(c);!_&&b.fromCache?d.reject(new pe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&f&&f.source==="server"?d.reject(new pe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),p=new $k(Py(c.path),m,{includeMetadataChanges:!0,Ka:!0});return qk(s,p)})(await e4(t),t.asyncQueue,e,n,r))),r.promise}function $7(t,e,n={}){const r=new ta;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,f,d){const m=new Zk({next:b=>{m.Nu(),l.enqueueAndForget((()=>Fk(s,p))),b.fromCache&&f.source==="server"?d.reject(new pe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),p=new $k(c,m,{includeMetadataChanges:!0,Ka:!0});return qk(s,p)})(await e4(t),t.asyncQueue,e,n,r))),r.promise}function H7(t,e){const n=new ta;return t.asyncQueue.enqueueAndForget((async()=>S7(await q7(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7="ComponentProvider",sC=new Map;function G7(t,e,n,r,i){return new bq(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,t4(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7="firestore.googleapis.com",oC=!0;class lC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y7,this.ssl=oC}else this.host=e.host,this.ssl=e.ssl??oC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gk)throw new pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t4(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new P8;switch(r.type){case"firstParty":return new j8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=sC.get(n);r&&(he(K7,"Removing Datastore"),sC.delete(n),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pc(this.firestore,e,this._query)}}class un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}toJSON(){return{type:un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ud(n,un._jsonSchema))return new un(e,r||null,new ve(st.fromString(n.referencePath)))}}un._jsonSchemaVersion="firestore/documentReference/1.0",un._jsonSchema={type:ln("string",un._jsonSchemaVersion),referencePath:ln("string")};class Gs extends Pc{constructor(e,n,r){super(e,n,Py(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new ve(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function aa(t,e,...n){if(t=ka(t),QM("collection","path",e),t instanceof nE){const r=st.fromString(e,...n);return ZI(r),new Gs(t,null,r)}{if(!(t instanceof un||t instanceof Gs))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return ZI(r),new Gs(t.firestore,null,r)}}function wi(t,e,...n){if(t=ka(t),arguments.length===1&&(e=b1.newId()),QM("doc","path",e),t instanceof nE){const r=st.fromString(e,...n);return WI(r),new un(t,null,new ve(r))}{if(!(t instanceof un||t instanceof Gs))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return WI(r),new un(t.firestore,t instanceof Gs?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="AsyncQueue";class cC{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jk(this,"async_queue_retry"),this._c=()=>{const r=Wp();r&&he(uC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Wp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!so(e))throw e;he(uC,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Qt("INTERNAL UNHANDLED ERROR: ",fC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Y1.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&xe(47125,{Pc:fC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Dc extends nE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cC(e),this._firestoreClient=void 0,await e}}}function Q7(t,e,n){n||(n=mg);const r=h8(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(lg(s,e))return i;throw new pe(se.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new pe(se.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gk)throw new pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&RM(e.host)&&cU(e.host),r.initialize({options:e,instanceIdentifier:n})}function rE(t){if(t._terminated)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X7(t),t._firestoreClient}function X7(t){var r,i,s,l;const e=t._freezeSettings(),n=G7(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new B7(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kr(Xt.fromBase64String(e))}catch(n){throw new pe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kr(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ud(e,Kr._jsonSchema))return Kr.fromBase64String(e.bytes)}}Kr._jsonSchemaVersion="firestore/bytes/1.0",Kr._jsonSchema={type:ln("string",Kr._jsonSchemaVersion),bytes:ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:na._jsonSchemaVersion}}static fromJSON(e){if(ud(e,na._jsonSchema))return new na(e.latitude,e.longitude)}}na._jsonSchemaVersion="firestore/geoPoint/1.0",na._jsonSchema={type:ln("string",na._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ud(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new vi(e.vectorValues);throw new pe(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:ln("string",vi._jsonSchemaVersion),vectorValues:ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=/^__.*__$/;class Z7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oc(e,this.data,n,this.fieldTransforms)}}class n4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function r4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:t})}}class sE{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new sE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Og(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(r4(this.dataSource)&&W7.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class J7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||By(e)}createContext(e,n,r,i=!1){return new sE({dataSource:e,methodName:n,targetDoc:r,path:Dt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oE(t){const e=t._freezeSettings(),n=By(t._databaseId);return new J7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function e$(t,e,n,r,i,s={}){const l=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);lE("Data must be an object, but it was:",l,r);const c=i4(r,l);let f,d;if(s.merge)f=new ar(l.fieldMask),d=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const p of s.mergeFields){const b=mc(e,p,n);if(!l.contains(b))throw new pe(se.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);o4(m,b)||m.push(b)}f=new ar(m),d=l.fieldTransforms.filter((p=>f.covers(p.field)))}else f=null,d=l.fieldTransforms;return new Z7(new qn(c),f,d)}class $y extends aE{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $y}}function t$(t,e,n,r){const i=t.createContext(1,e,n);lE("Data must be an object, but it was:",i,r);const s=[],l=qn.empty();oo(r,((f,d)=>{const m=s4(e,f,n);d=ka(d);const p=i.childContextForFieldPath(m);if(d instanceof $y)s.push(m);else{const b=yd(d,p);b!=null&&(s.push(m),l.set(m,b))}}));const c=new ar(s);return new n4(l,c,i.fieldTransforms)}function n$(t,e,n,r,i,s){const l=t.createContext(1,e,n),c=[mc(e,r,n)],f=[i];if(s.length%2!=0)throw new pe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)c.push(mc(e,s[b])),f.push(s[b+1]);const d=[],m=qn.empty();for(let b=c.length-1;b>=0;--b)if(!o4(d,c[b])){const _=c[b];let S=f[b];S=ka(S);const E=l.childContextForFieldPath(_);if(S instanceof $y)d.push(_);else{const T=yd(S,E);T!=null&&(d.push(_),m.set(_,T))}}const p=new ar(d);return new n4(m,p,l.fieldTransforms)}function r$(t,e,n,r=!1){return yd(n,t.createContext(r?4:3,e))}function yd(t,e){if(a4(t=ka(t)))return lE("Unsupported field value:",e,t),i4(t,e);if(t instanceof aE)return(function(r,i){if(!r4(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let f=yd(c,i.childContextForArray(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=ka(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Lq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Je.fromDate(r);return{timestampValue:uc(i.serializer,s)}}if(r instanceof Je){const s=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uc(i.serializer,s)}}if(r instanceof na)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kr)return{bytesValue:Qj(i.serializer,r._byteString)};if(r instanceof un){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:k1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof vi)return(function(l,c){const f=l instanceof vi?l.toArray():l;return{mapValue:{fields:{[I1]:{stringValue:O1},[rc]:{arrayValue:{values:f.map((m=>{if(typeof m!="number")throw c.createError("VectorValues must only contain numeric values.");return N1(c.serializer,m)}))}}}}}})(r,i);if(sk(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Sy(r)}`)})(t,e)}function i4(t,e){const n={};return dj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,((r,i)=>{const s=yd(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function a4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof na||t instanceof Kr||t instanceof un||t instanceof aE||t instanceof vi||sk(t))}function lE(t,e,n){if(!a4(n)||!XM(n)){const r=Sy(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function mc(t,e,n){if((e=ka(e))instanceof iE)return e._internalPath;if(typeof e=="string")return s4(t,e);throw Og("Field path arguments must be of type string or ",t,!1,void 0,n)}const i$=new RegExp("[~\\*/\\[\\]]");function s4(t,e,n){if(e.search(i$)>=0)throw Og(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iE(...e.split("."))._internalPath}catch{throw Og(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Og(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new pe(se.INVALID_ARGUMENT,c+t+f)}function o4(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${convertValue(e,n="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[rc].arrayValue)==null?void 0:i.values)==null?void 0:s.map((l=>Rt(l.doubleValue)));return new vi(n)}convertGeoPoint(e){return new na(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ry(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jh(e));default:return null}}convertTimestamp(e){const n=La(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Oe(ak(r),9688,{name:e});const i=new bl(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(n)||Qt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4 extends a${constructor(e){super(),this.firestore=e}convertBytes(e){return new Kr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}const hC="@firebase/firestore",dC="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(mc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s$ extends u4{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uE{}class l$ extends uE{}function Fh(t,e,...n){let r=[];e instanceof uE&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((f=>f instanceof cE)).length,c=s.filter((f=>f instanceof Hy)).length;if(l>1||l>0&&c>0)throw new pe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Hy extends l${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hy(e,n,r)}_apply(e){const n=this._parse(e);return c4(e._query,n),new Pc(e.firestore,e.converter,tw(e._query,n))}_parse(e){const n=oE(e.firestore);return(function(s,l,c,f,d,m,p){let b;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new pe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){pC(p,m);const S=[];for(const E of p)S.push(mC(f,s,E));b={arrayValue:{values:S}}}else b=mC(f,s,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||pC(p,m),b=r$(c,l,p,m==="in"||m==="not-in");return Qe.create(d,m,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pc(t,e,n){const r=e,i=mc("where",t);return Hy._create(i,r,n)}class cE extends uE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ft.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const c=s.getFlattenedFilters();for(const f of c)c4(l,f),l=tw(l,f)})(e._query,n),new Pc(e.firestore,e.converter,tw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mC(t,e,n){if(typeof(n=ka(n))=="string"){if(n==="")throw new pe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nj(e)&&n.indexOf("/")!==-1)throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!ve.isDocumentKey(r))throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vh(t,new ve(r))}if(n instanceof un)return Vh(t,n._key);throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sy(n)}.`)}function pC(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c4(t,e){const n=(function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function u$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class c${constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=m$(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function f$(t){return new c$(t)}class h${constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=qh.provider,this._offlineComponentProvider={build:n=>new Wk(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class d${constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=qh.provider,this._offlineComponentProvider={build:n=>new z7(n,e==null?void 0:e.cacheSizeBytes)}}}function m$(t){return new h$(t==null?void 0:t.forceOwnership)}function p$(){return new d$}class dh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dl extends u4{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=dl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}dl._jsonSchemaVersion="firestore/documentSnapshot/1.0",dl._jsonSchema={type:ln("string",dl._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class Zp extends dl{data(e={}){return super.data(e)}}class Ku{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Zp(this._firestore,this._userDataWriter,r.key,r,new dh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const f=new Zp(i._firestore,i._userDataWriter,c.doc.key,c.doc,new dh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const f=new Zp(i._firestore,i._userDataWriter,c.doc.key,c.doc,new dh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,m=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:g$(c.type),doc:f,oldIndex:d,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ku._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=b1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function g$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ku._jsonSchemaVersion="firestore/querySnapshot/1.0",Ku._jsonSchema={type:ln("string",Ku._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(t){t=Xs(t,un);const e=Xs(t.firestore,Dc),n=rE(e);return F7(n,t._key).then((r=>v$(e,t,r)))}function Ba(t){t=Xs(t,Pc);const e=Xs(t.firestore,Dc),n=rE(e),r=new l4(e);return o$(t._query),$7(n,t._query).then((i=>new Ku(e,r,t,i)))}function Ky(t,e,n,...r){t=Xs(t,un);const i=Xs(t.firestore,Dc),s=oE(i);let l;return l=typeof(e=ka(e))=="string"||e instanceof iE?n$(s,"updateDoc",t._key,e,n,r):t$(s,"updateDoc",t._key,e),fE(i,[l.toMutation(t._key,Gn.exists(!0))])}function vd(t){return fE(Xs(t.firestore,Dc),[new ky(t._key,Gn.none())])}function bd(t,e){const n=Xs(t.firestore,Dc),r=wi(t),i=u$(t.converter,e),s=oE(t.firestore);return fE(n,[e$(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gn.exists(!1))]).then((()=>r))}function fE(t,e){const n=rE(t);return H7(n,e)}function v$(t,e,n){const r=n.docs.get(e._key),i=new l4(t);return new dl(t,i,e._key,r,new dh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){R8(g8),ug(new Ih("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new Dc(new D8(r.getProvider("auth-internal")),new k8(l,r.getProvider("app-check-internal")),_q(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Fu(hC,dC,e),Fu(hC,dC,"esm2020")})();const b$={apiKey:"AIzaSyCJZtFcoRqfC4R376w9e60dwitqLUL_NBs",authDomain:"business-management-e6ce9.firebaseapp.com",projectId:"business-management-e6ce9",storageBucket:"business-management-e6ce9.firebasestorage.app",messagingSenderId:"483418455510",appId:"1:483418455510:web:113d684f33dc9bb8fc7877"},_$=y8(b$),_i=Q7(_$,{cache:f$({tabManager:p$()})}),Tl=aa(_i,"transactions"),Gy=aa(_i,"categories"),Yy=aa(_i,"paymentMethods"),hE=aa(_i,"projects"),dE=aa(_i,"bankAccounts");aa(_i,"accountBalances");aa(_i,"recurringExpenses");aa(_i,"scheduledExpenses");const jl=t=>({...t.data(),id:t.id}),x$=async t=>(await bd(Tl,{...t,date:Je.fromDate(new Date(t.date))})).id,f4=async(t,e)=>{const n={...e};e.date&&(n.date=Je.fromDate(new Date(e.date))),await Ky(wi(Tl,t),n)},w$=async t=>{await vd(wi(Tl,t))},h4=async(t,e)=>{const n=Fh(Tl,pc("date",">=",Je.fromDate(new Date(t))),pc("date","<=",Je.fromDate(new Date(e))));return(await Ba(n)).docs.map(jl).sort((i,s)=>new Date(s.date).getTime()-new Date(i.date).getTime())},E$=async t=>{const e=Fh(Tl,pc("projectId","==",t));return(await Ba(e)).docs.map(jl).sort((r,i)=>new Date(i.date).getTime()-new Date(r.date).getTime())},S$=async(t,e)=>{const n=Fh(Tl,pc("projectId","==",t)),r=await Ba(n);for(const i of r.docs)await Ky(wi(Tl,i.id),{projectId:e})},T$=async t=>(await bd(Gy,t)).id,A$=async(t,e)=>{await Ky(wi(Gy,t),e)},I$=async t=>{await vd(wi(Gy,t))},mE=async()=>(await Ba(Gy)).docs.map(jl).sort((e,n)=>e.order-n.order),O$=async t=>(await bd(Yy,t)).id,C$=async(t,e)=>{await Ky(wi(Yy,t),e)},R$=async t=>{await vd(wi(Yy,t))},pE=async()=>(await Ba(Yy)).docs.map(jl).sort((e,n)=>e.order-n.order),N$=async t=>(await bd(hE,t)).id,P$=async t=>{await vd(wi(hE,t))},d4=async()=>(await Ba(hE)).docs.map(jl).sort((e,n)=>new Date(e.createdAt).getTime()-new Date(n.createdAt).getTime()),D$=async t=>{try{const e=wi(_i,"projects",t),n=await y$(e);return n.exists()?jl(n):null}catch(e){return console.error("Error fetching project by ID:",e),null}},M$=async t=>(await bd(dE,t)).id,j$=async t=>{await vd(wi(dE,t))},k$=async()=>(await Ba(dE)).docs.map(jl),V$=t=>t?typeof t=="string"?t.split("T")[0]:typeof t=="object"&&"toDate"in t?t.toDate().toISOString().split("T")[0]:new Date(t).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],L$=({onClose:t,onSave:e,initialData:n})=>{const[r,i]=I.useState((n==null?void 0:n.type)||"expense"),[s,l]=I.useState(n!=null&&n.amount?String(n.amount):""),[c,f]=I.useState((n==null?void 0:n.description)||""),[d,m]=I.useState((n==null?void 0:n.category)||""),[p,b]=I.useState((n==null?void 0:n.paymentMethodId)||""),[_,S]=I.useState((n==null?void 0:n.projectId)||""),[E,T]=I.useState(V$(n==null?void 0:n.date)),[C,k]=I.useState((n==null?void 0:n.memo)||""),[M,F]=I.useState([]),[B,U]=I.useState([]),[R,N]=I.useState([]);I.useEffect(()=>{(async()=>{try{const L=Fh(aa(_i,"categories"),pc("type","==",r)),ye=(await Ba(L)).docs.map(ie=>({...ie.data(),id:ie.id})).sort((ie,$)=>ie.order-$.order),Ce=Fh(aa(_i,"paymentMethods"),pc("type","==",r)),ue=(await Ba(Ce)).docs.map(ie=>({...ie.data(),id:ie.id})).sort((ie,$)=>ie.order-$.order),Ie=(await d4()).filter(ie=>ie.status==="active");F(ye),U(ue),N(Ie),ye.length>0&&(!d||!ye.find(ie=>ie.id===d))&&m(ye[0].id),ue.length>0&&(!p||!ue.find(ie=>ie.id===p))?b(ue[0].id):ue.length===0&&b("")}catch(L){console.error("Error fetching data:",L)}})()},[r]);const D=async j=>{if(j.preventDefault(),!s||!c||!d)return;const L=()=>n!=null&&n.createdAt?typeof n.createdAt=="string"?n.createdAt:typeof n.createdAt=="object"&&"toDate"in n.createdAt?n.createdAt.toDate().toISOString():new Date().toISOString():new Date().toISOString(),q={id:(n==null?void 0:n.id)||crypto.randomUUID(),type:r,amount:parseInt(s),description:c,category:d,paymentMethodId:p||null,projectId:_||null,date:new Date(E).toISOString(),memo:C,createdAt:L(),updatedAt:new Date().toISOString()};try{n?await f4(n.id,q):await x$(q)}catch(ye){console.error("Error saving transaction:",ye),alert(" .   .");return}e(),t()},z={category:r==="income"?"":"",payment:r==="income"?"":"",placeholder:r==="income"?"":" ?"};return w.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-[100] p-0 sm:p-4",children:w.jsxs("div",{className:"bg-white w-full max-w-lg rounded-t-2xl sm:rounded-2xl overflow-hidden shadow-xl animate-in slide-in-from-bottom duration-300",children:[w.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center",children:[w.jsx("h2",{className:"text-lg font-bold text-slate-800",children:n?" ":"  "}),w.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",children:w.jsx(Ey,{size:20})})]}),w.jsxs("form",{onSubmit:D,className:"p-4 space-y-4 max-h-[80vh] overflow-y-auto no-scrollbar",children:[w.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[w.jsx("button",{type:"button",onClick:()=>i("expense"),className:`flex-1 py-2 text-sm font-bold rounded-md transition-all ${r==="expense"?"bg-rose-500 text-white shadow-sm":"text-slate-500"}`,children:""}),w.jsx("button",{type:"button",onClick:()=>i("income"),className:`flex-1 py-2 text-sm font-bold rounded-md transition-all ${r==="income"?"bg-emerald-500 text-white shadow-sm":"text-slate-500"}`,children:""})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:""}),w.jsxs("div",{className:"relative",children:[w.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:""}),w.jsx("input",{type:"number",value:s,onChange:j=>l(j.target.value),placeholder:"0",className:"w-full pl-8 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 font-bold text-lg",required:!0})]})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:""}),w.jsxs("div",{className:"relative",children:[w.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:w.jsx(GB,{size:18})}),w.jsx("input",{type:"text",value:c,onChange:j=>f(j.target.value),placeholder:z.placeholder,className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 font-medium",required:!0})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:z.category}),w.jsxs("select",{value:d,onChange:j=>m(j.target.value),className:"w-full px-3 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 appearance-none font-bold text-slate-700",required:!0,children:[w.jsx("option",{value:"",disabled:!0,children:""}),M.map(j=>w.jsx("option",{value:j.id,children:j.name},j.id))]})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:z.payment}),w.jsxs("select",{value:p,onChange:j=>b(j.target.value),className:"w-full px-3 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 appearance-none font-bold text-slate-700",children:[w.jsx("option",{value:"",children:""}),B.map(j=>w.jsx("option",{value:j.id,children:j.name},j.id))]})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:" ()"}),w.jsxs("select",{value:_,onChange:j=>S(j.target.value),className:"w-full px-3 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 appearance-none font-medium",children:[w.jsx("option",{value:"",children:""}),R.map(j=>w.jsx("option",{value:j.id,children:j.name},j.id))]})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:""}),w.jsx("div",{className:"relative",children:w.jsx("input",{type:"date",value:E,onChange:j=>T(j.target.value),className:"w-full px-3 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 font-medium",required:!0})})]})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:""}),w.jsx("textarea",{value:C,onChange:j=>k(j.target.value),placeholder:"  ...",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 h-20 resize-none font-medium text-sm"})]}),w.jsxs("button",{type:"submit",className:`w-full py-4 rounded-xl text-white font-black flex items-center justify-center gap-2 transition-all shadow-lg active:scale-95 ${r==="expense"?"bg-rose-500 hover:bg-rose-600 shadow-rose-100":"bg-emerald-500 hover:bg-emerald-600 shadow-emerald-100"}`,children:[w.jsx(Ah,{size:20,strokeWidth:3}),n?"":" "]})]})]})})};function m4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=m4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=m4(t))&&(r&&(r+=" "),r+=e);return r}var z$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gE(t){if(typeof t!="string")return!1;var e=z$;return e.includes(t)}var B$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],U$=new Set(B$);function p4(t){return typeof t!="string"?!1:U$.has(t)}function g4(t){return typeof t=="string"&&t.startsWith("data-")}function gc(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(p4(n)||g4(n))&&(e[n]=t[n]);return e}function gw(t){if(t==null)return null;if(I.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return gc(e)}return typeof t=="object"&&!Array.isArray(t)?gc(t):null}function Qr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(p4(n)||g4(n)||gE(n))&&(e[n]=t[n]);return e}var q$=["children","width","height","viewBox","className","style","title","desc"];function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(null,arguments)}function F$(t,e){if(t==null)return{};var n,r,i=$$(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var y4=I.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:c,title:f,desc:d}=t,m=F$(t,q$),p=s||{width:r,height:i,x:0,y:0},b=hn("recharts-surface",l);return I.createElement("svg",yw({},Qr(m),{className:b,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),I.createElement("title",null,f),I.createElement("desc",null,d),n)}),H$=["children","className"];function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(null,arguments)}function K$(t,e){if(t==null)return{};var n,r,i=G$(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function G$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var to=I.forwardRef((t,e)=>{var{children:n,className:r}=t,i=K$(t,H$),s=hn("recharts-layer",r);return I.createElement("g",vw({className:s},Qr(i),{ref:e}),n)}),Y$=I.createContext(null);function xt(t){return function(){return t}}const v4=Math.cos,Cg=Math.sin,Ei=Math.sqrt,Rg=Math.PI,Qy=2*Rg,bw=Math.PI,_w=2*bw,Zo=1e-6,Q$=_w-Zo;function b4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function X$(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return b4;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class W${constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?b4:X$(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,f=r-e,d=i-n,m=l-e,p=c-n,b=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Zo)if(!(Math.abs(p*f-d*m)>Zo)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,S=i-c,E=f*f+d*d,T=_*_+S*S,C=Math.sqrt(E),k=Math.sqrt(b),M=s*Math.tan((bw-Math.acos((E+b-T)/(2*C*k)))/2),F=M/k,B=M/C;Math.abs(F-1)>Zo&&this._append`L${e+F*m},${n+F*p}`,this._append`A${s},${s},0,0,${+(p*_>m*S)},${this._x1=e+B*f},${this._y1=n+B*d}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),d=e+c,m=n+f,p=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>Zo||Math.abs(this._y1-m)>Zo)&&this._append`L${d},${m}`,r&&(b<0&&(b=b%_w+_w),b>Q$?this._append`A${r},${r},0,1,${p},${e-c},${n-f}A${r},${r},0,1,${p},${this._x1=d},${this._y1=m}`:b>Zo&&this._append`A${r},${r},0,${+(b>=bw)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function yE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new W$(e)}function vE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _4(t){this._context=t}_4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Xy(t){return new _4(t)}function x4(t){return t[0]}function w4(t){return t[1]}function E4(t,e){var n=xt(!0),r=null,i=Xy,s=null,l=yE(c);t=typeof t=="function"?t:t===void 0?x4:xt(t),e=typeof e=="function"?e:e===void 0?w4:xt(e);function c(f){var d,m=(f=vE(f)).length,p,b=!1,_;for(r==null&&(s=i(_=l())),d=0;d<=m;++d)!(d<m&&n(p=f[d],d,f))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(p,d,f),+e(p,d,f));if(_)return s=null,_+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:xt(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:xt(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:xt(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),c):r},c}function wp(t,e,n){var r=null,i=xt(!0),s=null,l=Xy,c=null,f=yE(d);t=typeof t=="function"?t:t===void 0?x4:xt(+t),e=typeof e=="function"?e:xt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?w4:xt(+n);function d(p){var b,_,S,E=(p=vE(p)).length,T,C=!1,k,M=new Array(E),F=new Array(E);for(s==null&&(c=l(k=f())),b=0;b<=E;++b){if(!(b<E&&i(T=p[b],b,p))===C)if(C=!C)_=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),S=b-1;S>=_;--S)c.point(M[S],F[S]);c.lineEnd(),c.areaEnd()}C&&(M[b]=+t(T,b,p),F[b]=+e(T,b,p),c.point(r?+r(T,b,p):M[b],n?+n(T,b,p):F[b]))}if(k)return c=null,k+""||null}function m(){return E4().defined(i).curve(l).context(s)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:xt(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:xt(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:xt(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:xt(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:xt(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:xt(+p),d):n},d.lineX0=d.lineY0=function(){return m().x(t).y(e)},d.lineY1=function(){return m().x(t).y(n)},d.lineX1=function(){return m().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:xt(!!p),d):i},d.curve=function(p){return arguments.length?(l=p,s!=null&&(c=l(s)),d):l},d.context=function(p){return arguments.length?(p==null?s=c=null:c=l(s=p),d):s},d}class S4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Z$(t){return new S4(t,!0)}function J$(t){return new S4(t,!1)}const bE={draw(t,e){const n=Ei(e/Rg);t.moveTo(n,0),t.arc(0,0,n,0,Qy)}},eH={draw(t,e){const n=Ei(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},T4=Ei(1/3),tH=T4*2,nH={draw(t,e){const n=Ei(e/tH),r=n*T4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},rH={draw(t,e){const n=Ei(e),r=-n/2;t.rect(r,r,n,n)}},iH=.8908130915292852,A4=Cg(Rg/10)/Cg(7*Rg/10),aH=Cg(Qy/10)*A4,sH=-v4(Qy/10)*A4,oH={draw(t,e){const n=Ei(e*iH),r=aH*n,i=sH*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Qy*s/5,c=v4(l),f=Cg(l);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},n_=Ei(3),lH={draw(t,e){const n=-Ei(e/(n_*3));t.moveTo(0,n*2),t.lineTo(-n_*n,-n),t.lineTo(n_*n,-n),t.closePath()}},qr=-.5,Fr=Ei(3)/2,xw=1/Ei(12),uH=(xw/2+1)*3,cH={draw(t,e){const n=Ei(e/uH),r=n/2,i=n*xw,s=r,l=n*xw+n,c=-s,f=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,f),t.lineTo(qr*r-Fr*i,Fr*r+qr*i),t.lineTo(qr*s-Fr*l,Fr*s+qr*l),t.lineTo(qr*c-Fr*f,Fr*c+qr*f),t.lineTo(qr*r+Fr*i,qr*i-Fr*r),t.lineTo(qr*s+Fr*l,qr*l-Fr*s),t.lineTo(qr*c+Fr*f,qr*f-Fr*c),t.closePath()}};function fH(t,e){let n=null,r=yE(i);t=typeof t=="function"?t:xt(t||bE),e=typeof e=="function"?e:xt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:xt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:xt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Ng(){}function Pg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function I4(t){this._context=t}I4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hH(t){return new I4(t)}function O4(t){this._context=t}O4.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Pg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dH(t){return new O4(t)}function C4(t){this._context=t}C4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Pg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mH(t){return new C4(t)}function R4(t){this._context=t}R4.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function pH(t){return new R4(t)}function gC(t){return t<0?-1:1}function yC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(gC(s)+gC(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function vC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function r_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function Dg(t){this._context=t}Dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:r_(this,this._t0,vC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,r_(this,vC(this,n=yC(this,t,e)),n);break;default:r_(this,this._t0,n=yC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function N4(t){this._context=new P4(t)}(N4.prototype=Object.create(Dg.prototype)).point=function(t,e){Dg.prototype.point.call(this,e,t)};function P4(t){this._context=t}P4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function gH(t){return new Dg(t)}function yH(t){return new N4(t)}function D4(t){this._context=t}D4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=bC(t),i=bC(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function bC(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function vH(t){return new D4(t)}function Wy(t,e){this._context=t,this._t=e}Wy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function bH(t){return new Wy(t,.5)}function _H(t){return new Wy(t,0)}function xH(t){return new Wy(t,1)}function Al(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ww(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function wH(t,e){return t[e]}function EH(t){const e=[];return e.key=t,e}function SH(){var t=xt([]),e=ww,n=Al,r=wH;function i(s){var l=Array.from(t.apply(this,arguments),EH),c,f=l.length,d=-1,m;for(const p of s)for(c=0,++d;c<f;++c)(l[c][d]=[0,+r(p,l[c].key,d,s)]).data=p;for(c=0,m=vE(e(l));c<f;++c)l[m[c]].index=c;return n(l,m),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:xt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:xt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?ww:typeof s=="function"?s:xt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Al,i):n},i}function TH(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Al(t,e)}}function AH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Al(t,e)}}function IH(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,f=0,d=0;c<l;++c){for(var m=t[e[c]],p=m[r][1]||0,b=m[r-1][1]||0,_=(p-b)/2,S=0;S<c;++S){var E=t[e[S]],T=E[r][1]||0,C=E[r-1][1]||0;_+=T-C}f+=p,d+=_*p}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,Al(t,e)}}var i_={},a_={},_C;function OH(){return _C||(_C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(a_)),a_}var s_={},xC;function M4(){return xC||(xC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(s_)),s_}var o_={},wC;function _E(){return wC||(wC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(o_)),o_}var l_={},u_={},EC;function CH(){return EC||(EC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(u_)),u_}var SC;function xE(){return SC||(SC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CH(),n=_E();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let c=0,f="",d="",m=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const p=i[c];d?p==="\\"&&c+1<l?(c++,f+=i[c]):p===d?d="":f+=p:m?p==='"'||p==="'"?d=p:p==="]"?(m=!1,s.push(f),f=""):f+=p:p==="["?(m=!0,f&&(s.push(f),f="")):p==="."?f&&(s.push(f),f=""):f+=p,c++}return f&&s.push(f),s}t.toPath=r})(l_)),l_}var TC;function wE(){return TC||(TC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OH(),n=M4(),r=_E(),i=xE();function s(c,f,d){if(c==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const m=c[f];return m===void 0?n.isDeepKey(f)?s(c,i.toPath(f),d):d:m}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const m=c[f];return m===void 0?d:m}default:{if(Array.isArray(f))return l(c,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const m=c[f];return m===void 0?d:m}}}function l(c,f,d){if(f.length===0)return d;let m=c;for(let p=0;p<f.length;p++){if(m==null||e.isUnsafeProperty(f[p]))return d;m=m[f[p]]}return m===void 0?d:m}t.get=s})(i_)),i_}var c_,AC;function RH(){return AC||(AC=1,c_=wE().get),c_}var NH=RH();const $h=oa(NH);var PH=4;function qs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PH,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Lt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var c=n[l-1];return typeof c=="string"?i+c+s:c!==void 0?i+qs(c)+s:i+s},"")}var sr=t=>t===0?0:t>0?1:-1,Ua=t=>typeof t=="number"&&t!=+t,Il=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,je=t=>(typeof t=="number"||t instanceof Number)&&!Ua(t),qa=t=>je(t)||typeof t=="string",DH=0,Hh=t=>{var e=++DH;return"".concat(t||"").concat(e)},Sr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&typeof e!="string")return r;var s;if(Il(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Ua(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},j4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function di(t,e,n){return je(t)&&je(e)?qs(t+n*(e-t)):e}function MH(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):$h(r,e))===n)}var Ir=t=>t===null||typeof t>"u",_d=t=>Ir(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Zi(t){return t!=null}function xd(){}var jH=["type","size","sizeType"];function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(null,arguments)}function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(n),!0).forEach(function(r){kH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kH(t,e,n){return(e=VH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VH(t){var e=LH(t,"string");return typeof e=="symbol"?e:e+""}function LH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zH(t,e){if(t==null)return{};var n,r,i=BH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var k4={symbolCircle:bE,symbolCross:eH,symbolDiamond:nH,symbolSquare:rH,symbolStar:oH,symbolTriangle:lH,symbolWye:cH},UH=Math.PI/180,qH=t=>{var e="symbol".concat(_d(t));return k4[e]||bE},FH=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*UH;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},$H=(t,e)=>{k4["symbol".concat(_d(t))]=e},V4=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=zH(t,jH),s=OC(OC({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var b=qH(l),_=fH().type(b).size(FH(n,r,l)),S=_();if(S!==null)return S},{className:f,cx:d,cy:m}=s,p=Qr(s);return je(d)&&je(m)&&je(n)?I.createElement("path",Ew({},p,{className:hn("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(m,")"),d:c()})):null};V4.registerSymbol=$H;var L4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,HH=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(I.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{gE(i)&&(r[i]=(s=>n[i](n,s)))}),r},KH=(t,e,n)=>r=>(t(e,n,r),null),GH=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];gE(i)&&typeof s=="function"&&(r||(r={}),r[i]=KH(s,e,n))}),r};function CC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(n),!0).forEach(function(r){QH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QH(t,e,n){return(e=XH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XH(t){var e=WH(t,"string");return typeof e=="symbol"?e:e+""}function WH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ua(t,e){var n=YH({},t),r=e,i=Object.keys(e),s=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return s}var f_={},h_={},RC;function ZH(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],c=r(l,s,n);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(h_)),h_}var d_={},NC;function JH(){return NC||(NC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(d_)),d_}var m_={},PC;function z4(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(m_)),m_}var p_={},g_={},y_={},DC;function eK(){return DC||(DC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(y_)),y_}var MC;function EE(){return MC||(MC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eK();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(g_)),g_}var v_={},jC;function tK(){return jC||(jC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(v_)),v_}var kC;function nK(){return kC||(kC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EE(),n=tK();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(p_)),p_}var b_={},__={},VC;function rK(){return VC||(VC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(__)),__}var x_={},w_={},E_={},S_={},LC;function B4(){return LC||(LC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(S_)),S_}var T_={},zC;function U4(){return zC||(zC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(T_)),T_}var A_={},BC;function q4(){return BC||(BC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(A_)),A_}var UC;function iK(){return UC||(UC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B4(),n=U4(),r=q4();function i(m,p,b){return typeof b!="function"?i(m,p,()=>{}):s(m,p,function _(S,E,T,C,k,M){const F=b(S,E,T,C,k,M);return F!==void 0?!!F:s(S,E,_,M)},new Map)}function s(m,p,b,_){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,b,_);case"function":return Object.keys(p).length>0?s(m,{...p},b,_):r.isEqualsSameValueZero(m,p);default:return e.isObject(m)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(m,p)}}function l(m,p,b,_){if(p==null)return!0;if(Array.isArray(p))return f(m,p,b,_);if(p instanceof Map)return c(m,p,b,_);if(p instanceof Set)return d(m,p,b,_);const S=Object.keys(p);if(m==null||n.isPrimitive(m))return S.length===0;if(S.length===0)return!0;if(_!=null&&_.has(p))return _.get(p)===m;_==null||_.set(p,m);try{for(let E=0;E<S.length;E++){const T=S[E];if(!n.isPrimitive(m)&&!(T in m)||p[T]===void 0&&m[T]!==void 0||p[T]===null&&m[T]!==null||!b(m[T],p[T],T,m,p,_))return!1}return!0}finally{_==null||_.delete(p)}}function c(m,p,b,_){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[S,E]of p.entries()){const T=m.get(S);if(b(T,E,S,m,p,_)===!1)return!1}return!0}function f(m,p,b,_){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const S=new Set;for(let E=0;E<p.length;E++){const T=p[E];let C=!1;for(let k=0;k<m.length;k++){if(S.has(k))continue;const M=m[k];let F=!1;if(b(M,T,E,m,p,_)&&(F=!0),F){S.add(k),C=!0;break}}if(!C)return!1}return!0}function d(m,p,b,_){return p.size===0?!0:m instanceof Set?f([...m],[...p],b,_):!1}t.isMatchWith=i,t.isSetMatch=d})(E_)),E_}var qC;function F4(){return qC||(qC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iK();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(w_)),w_}var I_={},O_={},C_={},FC;function aK(){return FC||(FC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(C_)),C_}var R_={},$C;function SE(){return $C||($C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(R_)),R_}var N_={},HC;function $4(){return HC||(HC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",f="[object Map]",d="[object Set]",m="[object Array]",p="[object Function]",b="[object ArrayBuffer]",_="[object Object]",S="[object Error]",E="[object DataView]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",k="[object Uint16Array]",M="[object Uint32Array]",F="[object BigUint64Array]",B="[object Int8Array]",U="[object Int16Array]",R="[object Int32Array]",N="[object BigInt64Array]",D="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=m,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=F,t.booleanTag=i,t.dataViewTag=E,t.dateTag=c,t.errorTag=S,t.float32ArrayTag=D,t.float64ArrayTag=z,t.functionTag=p,t.int16ArrayTag=U,t.int32ArrayTag=R,t.int8ArrayTag=B,t.mapTag=f,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=k,t.uint32ArrayTag=M,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=C})(N_)),N_}var P_={},KC;function sK(){return KC||(KC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(P_)),P_}var GC;function H4(){return GC||(GC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aK(),n=SE(),r=$4(),i=U4(),s=sK();function l(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,b,_=new Map,S=void 0){const E=S==null?void 0:S(m,p,b,_);if(E!==void 0)return E;if(i.isPrimitive(m))return m;if(_.has(m))return _.get(m);if(Array.isArray(m)){const T=new Array(m.length);_.set(m,T);for(let C=0;C<m.length;C++)T[C]=c(m[C],C,b,_,S);return Object.hasOwn(m,"index")&&(T.index=m.index),Object.hasOwn(m,"input")&&(T.input=m.input),T}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const T=new RegExp(m.source,m.flags);return T.lastIndex=m.lastIndex,T}if(m instanceof Map){const T=new Map;_.set(m,T);for(const[C,k]of m)T.set(C,c(k,C,b,_,S));return T}if(m instanceof Set){const T=new Set;_.set(m,T);for(const C of m)T.add(c(C,void 0,b,_,S));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const T=new(Object.getPrototypeOf(m)).constructor(m.length);_.set(m,T);for(let C=0;C<m.length;C++)T[C]=c(m[C],C,b,_,S);return T}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const T=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return _.set(m,T),f(T,m,b,_,S),T}if(typeof File<"u"&&m instanceof File){const T=new File([m],m.name,{type:m.type});return _.set(m,T),f(T,m,b,_,S),T}if(typeof Blob<"u"&&m instanceof Blob){const T=new Blob([m],{type:m.type});return _.set(m,T),f(T,m,b,_,S),T}if(m instanceof Error){const T=new m.constructor;return _.set(m,T),T.message=m.message,T.name=m.name,T.stack=m.stack,T.cause=m.cause,f(T,m,b,_,S),T}if(m instanceof Boolean){const T=new Boolean(m.valueOf());return _.set(m,T),f(T,m,b,_,S),T}if(m instanceof Number){const T=new Number(m.valueOf());return _.set(m,T),f(T,m,b,_,S),T}if(m instanceof String){const T=new String(m.valueOf());return _.set(m,T),f(T,m,b,_,S),T}if(typeof m=="object"&&d(m)){const T=Object.create(Object.getPrototypeOf(m));return _.set(m,T),f(T,m,b,_,S),T}return m}function f(m,p,b=m,_,S){const E=[...Object.keys(p),...e.getSymbols(p)];for(let T=0;T<E.length;T++){const C=E[T],k=Object.getOwnPropertyDescriptor(m,C);(k==null||k.writable)&&(m[C]=c(p[C],C,b,_,S))}}function d(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=f})(O_)),O_}var YC;function oK(){return YC||(YC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(I_)),I_}var QC;function lK(){return QC||(QC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F4(),n=oK();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(x_)),x_}var D_={},M_={},j_={},XC;function uK(){return XC||(XC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H4(),n=SE(),r=$4();function i(s,l){return e.cloneDeepWith(s,(c,f,d,m)=>{const p=l==null?void 0:l(c,f,d,m);if(p!==void 0)return p;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const b={};return m.set(s,b),e.copyProperties(b,s,d,m),b}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const b=new s.constructor(s==null?void 0:s.valueOf());return e.copyProperties(b,s),b}case r.argumentsTag:{const b={};return e.copyProperties(b,s),b.length=s.length,b[Symbol.iterator]=s[Symbol.iterator],b}default:return}}})}t.cloneDeepWith=i})(j_)),j_}var WC;function cK(){return WC||(WC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uK();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(M_)),M_}var k_={},V_={},ZC;function K4(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(V_)),V_}var L_={},JC;function fK(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SE();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(L_)),L_}var eR;function hK(){return eR||(eR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M4(),n=K4(),r=fK(),i=xE();function s(l,c){let f;if(Array.isArray(c)?f=c:typeof c=="string"&&e.isDeepKey(c)&&(l==null?void 0:l[c])==null?f=i.toPath(c):f=[c],f.length===0)return!1;let d=l;for(let m=0;m<f.length;m++){const p=f[m];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=s})(k_)),k_}var tR;function dK(){return tR||(tR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F4(),n=_E(),r=cK(),i=wE(),s=hK();function l(c,f){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return f=r.cloneDeep(f),function(d){const m=i.get(d,c);return m===void 0?s.has(d,c):f===void 0?m===void 0:e.isMatch(m,f)}}t.matchesProperty=l})(D_)),D_}var nR;function mK(){return nR||(nR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z4(),n=rK(),r=lK(),i=dK();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(b_)),b_}var rR;function pK(){return rR||(rR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZH(),n=JH(),r=z4(),i=nK(),s=mK();function l(c,f=r.identity){return i.isArrayLikeObject(c)?e.uniqBy(Array.from(c),n.ary(s.iteratee(f),1)):[]}t.uniqBy=l})(f_)),f_}var z_,iR;function gK(){return iR||(iR=1,z_=pK().uniqBy),z_}var yK=gK();const aR=oa(yK);function vK(t,e,n){return e===!0?aR(t,n):typeof e=="function"?aR(t,e):t}var B_={exports:{}},U_={},q_={exports:{}},F_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR;function bK(){if(sR)return F_;sR=1;var t=Ec();function e(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(p,b){var _=b(),S=r({inst:{value:_,getSnapshot:b}}),E=S[0].inst,T=S[1];return s(function(){E.value=_,E.getSnapshot=b,f(E)&&T({inst:E})},[p,_,b]),i(function(){return f(E)&&T({inst:E}),p(function(){f(E)&&T({inst:E})})},[p]),l(_),_}function f(p){var b=p.getSnapshot;p=p.value;try{var _=b();return!n(p,_)}catch{return!0}}function d(p,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return F_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,F_}var oR;function _K(){return oR||(oR=1,q_.exports=bK()),q_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lR;function xK(){if(lR)return U_;lR=1;var t=Ec(),e=_K();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return U_.useSyncExternalStoreWithSelector=function(d,m,p,b,_){var S=s(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=c(function(){function C(U){if(!k){if(k=!0,M=U,U=b(U),_!==void 0&&E.hasValue){var R=E.value;if(_(R,U))return F=R}return F=U}if(R=F,r(M,U))return R;var N=b(U);return _!==void 0&&_(R,N)?(M=U,R):(M=U,F=N)}var k=!1,M,F,B=p===void 0?null:p;return[function(){return C(m())},B===null?void 0:function(){return C(B())}]},[m,p,b,_]);var T=i(d,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),f(T),T},U_}var uR;function wK(){return uR||(uR=1,B_.exports=xK()),B_.exports}var EK=wK(),TE=I.createContext(null),SK=t=>t,vn=()=>{var t=I.useContext(TE);return t?t.store.dispatch:SK},Jp=()=>{},TK=()=>Jp,AK=(t,e)=>t===e;function Ue(t){var e=I.useContext(TE),n=I.useMemo(()=>e?r=>{if(r!=null)return t(r)}:Jp,[e,t]);return EK.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:TK,e?e.store.getState:Jp,e?e.store.getState:Jp,n,AK)}function IK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function OK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function CK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var cR=t=>Array.isArray(t)?t:[t];function RK(t){const e=Array.isArray(t[0])?t[0]:t;return CK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function NK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var PK=class{constructor(t){this.value=t}deref(){return this.value}},DK=typeof WeakRef<"u"?WeakRef:PK,MK=0,fR=1;function Ep(){return{s:MK,v:void 0,o:null,p:null}}function G4(t,e={}){let n=Ep();const{resultEqualityCheck:r}=e;let i,s=0;function l(){var p;let c=n;const{length:f}=arguments;for(let b=0,_=f;b<_;b++){const S=arguments[b];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const T=E.get(S);T===void 0?(c=Ep(),E.set(S,c)):c=T}else{let E=c.p;E===null&&(c.p=E=new Map);const T=E.get(S);T===void 0?(c=Ep(),E.set(S,c)):c=T}}const d=c;let m;if(c.s===fR)m=c.v;else if(m=t.apply(null,arguments),s++,r){const b=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;b!=null&&r(b,m)&&(m=b,s!==0&&s--),i=typeof m=="object"&&m!==null||typeof m=="function"?new DK(m):m}return d.s=fR,d.v=m,m}return l.clearCache=()=>{n=Ep(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function jK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,c,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),IK(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const m={...n,...f},{memoize:p,memoizeOptions:b=[],argsMemoize:_=G4,argsMemoizeOptions:S=[]}=m,E=cR(b),T=cR(S),C=RK(i),k=p(function(){return s++,d.apply(null,arguments)},...E),M=_(function(){l++;const B=NK(C,arguments);return c=k.apply(null,B),c},...T);return Object.assign(M,{resultFunc:d,memoizedResultFunc:k,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var te=jK(G4),kK=Object.assign((t,e=te)=>{OK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,c,f)=>(l[n[f]]=c,l),{}))},{withTypes:()=>kK}),$_={},H_={},K_={},hR;function VK(){return hR||(hR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};t.compareValues=n})(K_)),K_}var G_={},Y_={},dR;function Y4(){return dR||(dR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Y_)),Y_}var mR;function LK(){return mR||(mR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(G_)),G_}var pR;function zK(){return pR||(pR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VK(),n=LK(),r=xE();function i(s,l,c,f){if(s==null)return[];c=f?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const d=(_,S)=>{let E=_;for(let T=0;T<S.length&&E!=null;++T)E=E[S[T]];return E},m=(_,S)=>S==null||_==null?S:typeof _=="object"&&"key"in _?Object.hasOwn(S,_.key)?S[_.key]:d(S,_.path):typeof _=="function"?_(S):Array.isArray(_)?d(S,_):typeof S=="object"?S[_]:S,p=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:p.map(S=>m(S,_))})).slice().sort((_,S)=>{for(let E=0;E<p.length;E++){const T=e.compareValues(_.criteria[E],S.criteria[E],c[E]);if(T!==0)return T}return 0}).map(_=>_.original)}t.orderBy=i})(H_)),H_}var Q_={},gR;function BK(){return gR||(gR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(c,f)=>{for(let d=0;d<c.length;d++){const m=c[d];Array.isArray(m)&&f<s?l(m,f+1):i.push(m)}};return l(n,0),i}t.flatten=e})(Q_)),Q_}var X_={},yR;function Q4(){return yR||(yR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K4(),n=EE(),r=B4(),i=q4();function s(l,c,f){return r.isObject(f)&&(typeof c=="number"&&n.isArrayLike(f)&&e.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?i.isEqualsSameValueZero(f[c],l):!1}t.isIterateeCall=s})(X_)),X_}var vR;function UK(){return vR||(vR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zK(),n=BK(),r=Q4();function i(s,...l){const c=l.length;return c>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})($_)),$_}var W_,bR;function qK(){return bR||(bR=1,W_=UK().sortBy),W_}var FK=qK();const Zy=oa(FK);var X4=t=>t.legend.settings,$K=t=>t.legend.size,HK=t=>t.legend.payload;te([HK,X4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Zy(r,n):r});var Sp=1;function KK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=I.useState({height:0,left:0,top:0,width:0}),r=I.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Sp||Math.abs(l.left-e.left)>Sp||Math.abs(l.top-e.top)>Sp||Math.abs(l.width-e.width)>Sp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function jn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var GK=typeof Symbol=="function"&&Symbol.observable||"@@observable",_R=GK,Z_=()=>Math.random().toString(36).substring(7).split("").join("."),YK={INIT:`@@redux/INIT${Z_()}`,REPLACE:`@@redux/REPLACE${Z_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Z_()}`},Mg=YK;function AE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function W4(t,e,n){if(typeof t!="function")throw new Error(jn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(jn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(jn(1));return n(W4)(t,e)}let r=t,i=e,s=new Map,l=s,c=0,f=!1;function d(){l===s&&(l=new Map,s.forEach((T,C)=>{l.set(C,T)}))}function m(){if(f)throw new Error(jn(3));return i}function p(T){if(typeof T!="function")throw new Error(jn(4));if(f)throw new Error(jn(5));let C=!0;d();const k=c++;return l.set(k,T),function(){if(C){if(f)throw new Error(jn(6));C=!1,d(),l.delete(k),s=null}}}function b(T){if(!AE(T))throw new Error(jn(7));if(typeof T.type>"u")throw new Error(jn(8));if(typeof T.type!="string")throw new Error(jn(17));if(f)throw new Error(jn(9));try{f=!0,i=r(i,T)}finally{f=!1}return(s=l).forEach(k=>{k()}),T}function _(T){if(typeof T!="function")throw new Error(jn(10));r=T,b({type:Mg.REPLACE})}function S(){const T=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(jn(11));function k(){const F=C;F.next&&F.next(m())}return k(),{unsubscribe:T(k)}},[_R](){return this}}}return b({type:Mg.INIT}),{dispatch:b,subscribe:p,getState:m,replaceReducer:_,[_R]:S}}function QK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Mg.INIT})>"u")throw new Error(jn(12));if(typeof n(void 0,{type:Mg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(jn(13))})}function Z4(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{QK(n)}catch(s){i=s}return function(l={},c){if(i)throw i;let f=!1;const d={};for(let m=0;m<r.length;m++){const p=r[m],b=n[p],_=l[p],S=b(_,c);if(typeof S>"u")throw c&&c.type,new Error(jn(14));d[p]=S,f=f||S!==_}return f=f||r.length!==Object.keys(l).length,f?d:l}}function jg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function XK(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(jn(15))};const l={getState:i.getState,dispatch:(f,...d)=>s(f,...d)},c=t.map(f=>f(l));return s=jg(...c)(i.dispatch),{...i,dispatch:s}}}function J4(t){return AE(t)&&"type"in t&&typeof t.type=="string"}var eV=Symbol.for("immer-nothing"),xR=Symbol.for("immer-draftable"),Xn=Symbol.for("immer-state");function mi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var wr=Object,yc=wr.getPrototypeOf,kg="constructor",Jy="prototype",Sw="configurable",Vg="enumerable",eg="writable",Kh="value",Fa=t=>!!t&&!!t[Xn];function xi(t){var e;return t?tV(t)||tv(t)||!!t[xR]||!!((e=t[kg])!=null&&e[xR])||nv(t)||rv(t):!1}var WK=wr[Jy][kg].toString(),wR=new WeakMap;function tV(t){if(!t||!IE(t))return!1;const e=yc(t);if(e===null||e===wr[Jy])return!0;const n=wr.hasOwnProperty.call(e,kg)&&e[kg];if(n===Object)return!0;if(!Bu(n))return!1;let r=wR.get(n);return r===void 0&&(r=Function.toString.call(n),wR.set(n,r)),r===WK}function ev(t,e,n=!0){wd(t)===0?(n?Reflect.ownKeys(t):wr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function wd(t){const e=t[Xn];return e?e.type_:tv(t)?1:nv(t)?2:rv(t)?3:0}var ER=(t,e,n=wd(t))=>n===2?t.has(e):wr[Jy].hasOwnProperty.call(t,e),Tw=(t,e,n=wd(t))=>n===2?t.get(e):t[e],Lg=(t,e,n,r=wd(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function ZK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var tv=Array.isArray,nv=t=>t instanceof Map,rv=t=>t instanceof Set,IE=t=>typeof t=="object",Bu=t=>typeof t=="function",J_=t=>typeof t=="boolean";function JK(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Ca=t=>t.copy_||t.base_,OE=t=>t.modified_?t.copy_:t.base_;function Aw(t,e){if(nv(t))return new Map(t);if(rv(t))return new Set(t);if(tv(t))return Array[Jy].slice.call(t);const n=tV(t);if(e===!0||e==="class_only"&&!n){const r=wr.getOwnPropertyDescriptors(t);delete r[Xn];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c[eg]===!1&&(c[eg]=!0,c[Sw]=!0),(c.get||c.set)&&(r[l]={[Sw]:!0,[eg]:!0,[Vg]:c[Vg],[Kh]:t[l]})}return wr.create(yc(t),r)}else{const r=yc(t);if(r!==null&&n)return{...t};const i=wr.create(r);return wr.assign(i,t)}}function CE(t,e=!1){return iv(t)||Fa(t)||!xi(t)||(wd(t)>1&&wr.defineProperties(t,{set:Tp,add:Tp,clear:Tp,delete:Tp}),wr.freeze(t),e&&ev(t,(n,r)=>{CE(r,!0)},!1)),t}function eG(){mi(2)}var Tp={[Kh]:eG};function iv(t){return t===null||!IE(t)?!0:wr.isFrozen(t)}var zg="MapSet",Iw="Patches",SR="ArrayMethods",nV={};function Ol(t){const e=nV[t];return e||mi(0,t),e}var TR=t=>!!nV[t],Gh,rV=()=>Gh,tG=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:TR(zg)?Ol(zg):void 0,arrayMethodsPlugin_:TR(SR)?Ol(SR):void 0});function AR(t,e){e&&(t.patchPlugin_=Ol(Iw),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ow(t){Cw(t),t.drafts_.forEach(nG),t.drafts_=null}function Cw(t){t===Gh&&(Gh=t.parent_)}var IR=t=>Gh=tG(Gh,t);function nG(t){const e=t[Xn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function OR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Xn].modified_&&(Ow(e),mi(4)),xi(t)&&(t=CR(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Xn].base_,t,e)}else t=CR(e,n);return rG(e,t,!0),Ow(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==eV?t:void 0}function CR(t,e){if(iv(e))return e;const n=e[Xn];if(!n)return Bg(e,t.handledSet_,t);if(!av(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);sV(n,t)}return n.copy_}function rG(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&CE(e,n)}function iV(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var av=(t,e)=>t.scope_===e,iG=[];function aV(t,e,n,r){const i=Ca(t),s=t.type_;if(r!==void 0&&Tw(i,r,s)===e){Lg(i,r,n,s);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;ev(i,(f,d)=>{if(Fa(d)){const m=c.get(d)||[];m.push(f),c.set(d,m)}})}const l=t.draftLocations_.get(e)??iG;for(const c of l)Lg(i,c,n,s)}function aG(t,e,n){t.callbacks_.push(function(i){var c;const s=e;if(!s||!av(s,i))return;(c=i.mapSetPlugin_)==null||c.fixSetContents(s);const l=OE(s);aV(t,s.draft_??s,l,n),sV(s,i)})}function sV(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(t);s&&i.generatePatches_(t,s,e)}iV(t)}}function sG(t,e,n){const{scope_:r}=t;if(Fa(n)){const i=n[Xn];av(i,r)&&i.callbacks_.push(function(){tg(t);const l=OE(i);aV(t,n,l,e)})}else xi(n)&&t.callbacks_.push(function(){const s=Ca(t);t.type_===3?s.has(n)&&Bg(n,r.handledSet_,r):Tw(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Bg(Tw(t.copy_,e,t.type_),r.handledSet_,r)})}function Bg(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Fa(t)||e.has(t)||!xi(t)||iv(t)||(e.add(t),ev(t,(r,i)=>{if(Fa(i)){const s=i[Xn];if(av(s,n)){const l=OE(s);Lg(t,r,l,t.type_),iV(s)}}else xi(i)&&Bg(i,e,n)})),t}function oG(t,e){const n=tv(t),r={type_:n?1:0,scope_:e?e.scope_:rV(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=Ug;n&&(i=[r],s=Yh);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,[c,r]}var Ug={get(t,e){if(e===Xn)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Ca(t);if(!ER(i,e,t.type_))return lG(t,i,e);const s=i[e];if(t.finalized_||!xi(s)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&JK(e))return s;if(s===ex(t.base_,e)){tg(t);const l=t.type_===1?+e:e,c=Nw(t.scope_,s,t,l);return t.copy_[l]=c}return s},has(t,e){return e in Ca(t)},ownKeys(t){return Reflect.ownKeys(Ca(t))},set(t,e,n){const r=oV(Ca(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=ex(Ca(t),e),s=i==null?void 0:i[Xn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(ZK(n,i)&&(n!==void 0||ER(t.base_,e,t.type_)))return!0;tg(t),Rw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),sG(t,e,n)),!0},deleteProperty(t,e){return tg(t),ex(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),Rw(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ca(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[eg]:!0,[Sw]:t.type_!==1||e!=="length",[Vg]:r[Vg],[Kh]:n[e]}},defineProperty(){mi(11)},getPrototypeOf(t){return yc(t.base_)},setPrototypeOf(){mi(12)}},Yh={};for(let t in Ug){let e=Ug[t];Yh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Yh.deleteProperty=function(t,e){return Yh.set.call(this,t,e,void 0)};Yh.set=function(t,e,n){return Ug.set.call(this,t[0],e,n,t[0])};function ex(t,e){const n=t[Xn];return(n?Ca(n):t)[e]}function lG(t,e,n){var i;const r=oV(e,n);return r?Kh in r?r[Kh]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function oV(t,e){if(!(e in t))return;let n=yc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=yc(n)}}function Rw(t){t.modified_||(t.modified_=!0,t.parent_&&Rw(t.parent_))}function tg(t){t.copy_||(t.assigned_=new Map,t.copy_=Aw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var uG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Bu(n)&&!Bu(r)){const l=r;r=n;const c=this;return function(d=l,...m){return c.produce(d,p=>r.call(this,p,...m))}}Bu(r)||mi(6),i!==void 0&&!Bu(i)&&mi(7);let s;if(xi(n)){const l=IR(this),c=Nw(l,n,void 0);let f=!0;try{s=r(c),f=!1}finally{f?Ow(l):Cw(l)}return AR(l,i),OR(s,l)}else if(!n||!IE(n)){if(s=r(n),s===void 0&&(s=n),s===eV&&(s=void 0),this.autoFreeze_&&CE(s,!0),i){const l=[],c=[];Ol(Iw).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:c}),i(l,c)}return s}else mi(1,n)},this.produceWithPatches=(n,r)=>{if(Bu(n))return(c,...f)=>this.produceWithPatches(c,d=>n(d,...f));let i,s;return[this.produce(n,r,(c,f)=>{i=c,s=f}),i,s]},J_(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),J_(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),J_(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){xi(e)||mi(8),Fa(e)&&(e=bi(e));const n=IR(this),r=Nw(n,e,void 0);return r[Xn].isManual_=!0,Cw(n),r}finishDraft(e,n){const r=e&&e[Xn];(!r||!r.isManual_)&&mi(9);const{scope_:i}=r;return AR(i,n),OR(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Ol(Iw).applyPatches_;return Fa(e)?i(e,n):this.produce(e,s=>i(s,n))}};function Nw(t,e,n,r){const[i,s]=nv(e)?Ol(zg).proxyMap_(e,n):rv(e)?Ol(zg).proxySet_(e,n):oG(e,n);return((n==null?void 0:n.scope_)??rV()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?aG(n,s,r):s.callbacks_.push(function(f){var m;(m=f.mapSetPlugin_)==null||m.fixSetContents(s);const{patchPlugin_:d}=f;s.modified_&&d&&d.generatePatches_(s,[],f)}),i}function bi(t){return Fa(t)||mi(10,t),lV(t)}function lV(t){if(!xi(t)||iv(t))return t;const e=t[Xn];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Aw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Aw(t,!0);return ev(n,(i,s)=>{Lg(n,i,lV(s))},r),e&&(e.finalized_=!1),n}var cG=new uG,uV=cG.produce;function cV(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var fG=cV(),hG=cV,dG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jg:jg.apply(null,arguments)};function Xr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Tr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>J4(r)&&r.type===t,n}var fV=class mh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,mh.prototype)}static get[Symbol.species](){return mh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new mh(...e[0].concat(this)):new mh(...e.concat(this))}};function RR(t){return xi(t)?uV(t,()=>{}):t}function Ap(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function mG(t){return typeof t=="boolean"}var pG=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new fV;return n&&(mG(n)?l.push(fG):l.push(hG(n.extraArgument))),l},hV="RTK_autoBatch",Ct=()=>t=>({payload:t,meta:{[hV]:!0}}),NR=t=>e=>{setTimeout(e,t)},dV=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const c=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:NR(10):t.type==="callback"?t.queueNotification:NR(t.timeout),d=()=>{l=!1,s&&(s=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),b=r.subscribe(p);return c.add(m),()=>{b(),c.delete(m)}},dispatch(m){var p;try{return i=!((p=m==null?void 0:m.meta)!=null&&p[hV]),s=!i,s&&(l||(l=!0,f(d))),r.dispatch(m)}finally{i=!0}}})},gG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new fV(t);return r&&i.push(dV(typeof r=="object"?r:void 0)),i};function yG(t){const e=pG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(AE(n))c=Z4(n);else throw new Error(Tr(1));let f;typeof r=="function"?f=r(e):f=e();let d=jg;i&&(d=dG({trace:!1,...typeof i=="object"&&i}));const m=XK(...f),p=gG(m);let b=typeof l=="function"?l(p):p();const _=d(...b);return W4(c,s,_)}function mV(t){const e={},n=[];let r;const i={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(Tr(28));if(c in e)throw new Error(Tr(29));return e[c]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function vG(t){return typeof t=="function"}function bG(t,e){let[n,r,i]=mV(e),s;if(vG(t))s=()=>RR(t());else{const c=RR(t);s=()=>c}function l(c=s(),f){let d=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[i]),d.reduce((m,p)=>{if(p)if(Fa(m)){const _=p(m,f);return _===void 0?m:_}else{if(xi(m))return uV(m,b=>p(b,f));{const b=p(m,f);if(b===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return m},c)}return l.getInitialState=s,l}var _G="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xG=(t=21)=>{let e="",n=t;for(;n--;)e+=_G[Math.random()*64|0];return e},wG=Symbol.for("rtk-slice-createasyncthunk");function EG(t,e){return`${t}/${e}`}function SG({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[wG];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(Tr(11));const c=(typeof i.reducers=="function"?i.reducers(AG()):i.reducers)||{},f=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(F,B){const U=typeof F=="string"?F:F.type;if(!U)throw new Error(Tr(12));if(U in d.sliceCaseReducersByType)throw new Error(Tr(13));return d.sliceCaseReducersByType[U]=B,m},addMatcher(F,B){return d.sliceMatchers.push({matcher:F,reducer:B}),m},exposeAction(F,B){return d.actionCreators[F]=B,m},exposeCaseReducer(F,B){return d.sliceCaseReducersByName[F]=B,m}};f.forEach(F=>{const B=c[F],U={reducerName:F,type:EG(s,F),createNotation:typeof i.reducers=="function"};OG(B)?RG(U,B,m,e):IG(U,B,m)});function p(){const[F={},B=[],U=void 0]=typeof i.extraReducers=="function"?mV(i.extraReducers):[i.extraReducers],R={...F,...d.sliceCaseReducersByType};return bG(i.initialState,N=>{for(let D in R)N.addCase(D,R[D]);for(let D of d.sliceMatchers)N.addMatcher(D.matcher,D.reducer);for(let D of B)N.addMatcher(D.matcher,D.reducer);U&&N.addDefaultCase(U)})}const b=F=>F,_=new Map,S=new WeakMap;let E;function T(F,B){return E||(E=p()),E(F,B)}function C(){return E||(E=p()),E.getInitialState()}function k(F,B=!1){function U(N){let D=N[F];return typeof D>"u"&&B&&(D=Ap(S,U,C)),D}function R(N=b){const D=Ap(_,B,()=>new WeakMap);return Ap(D,N,()=>{const z={};for(const[j,L]of Object.entries(i.selectors??{}))z[j]=TG(L,N,()=>Ap(S,N,C),B);return z})}return{reducerPath:F,getSelectors:R,get selectors(){return R(U)},selectSlice:U}}const M={name:s,reducer:T,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...k(l),injectInto(F,{reducerPath:B,...U}={}){const R=B??l;return F.inject({reducerPath:R,reducer:T},U),{...M,...k(R,!0)}}};return M}}function TG(t,e,n,r){function i(s,...l){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var lr=SG();function AG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function IG({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!CG(r))throw new Error(Tr(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Xr(t,l):Xr(t))}function OG(t){return t._reducerDefinitionType==="asyncThunk"}function CG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function RG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Tr(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:f,settled:d,options:m}=n,p=i(t,s,m);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),c&&r.addCase(p.pending,c),f&&r.addCase(p.rejected,f),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:l||Ip,pending:c||Ip,rejected:f||Ip,settled:d||Ip})}function Ip(){}var NG="task",pV="listener",gV="completed",RE="cancelled",PG=`task-${RE}`,DG=`task-${gV}`,Pw=`${pV}-${RE}`,MG=`${pV}-${gV}`,sv=class{constructor(t){Db(this,"name","TaskAbortError");Db(this,"message");this.code=t,this.message=`${NG} ${RE} (reason: ${t})`}},NE=(t,e)=>{if(typeof t!="function")throw new TypeError(Tr(32))},qg=()=>{},yV=(t,e=qg)=>(t.catch(e),t),vV=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ml=t=>{if(t.aborted)throw new sv(t.reason)};function bV(t,e){let n=qg;return new Promise((r,i)=>{const s=()=>i(new sv(t.reason));if(t.aborted){s();return}n=vV(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=qg})}var jG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof sv?"cancelled":"rejected",error:n}}finally{e==null||e()}},Fg=t=>e=>yV(bV(t,e).then(n=>(ml(t),n))),_V=t=>{const e=Fg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Gu}=Object,PR={},ov="listenerMiddleware",kG=(t,e)=>{const n=r=>vV(t,()=>r.abort(t.reason));return(r,i)=>{NE(r);const s=new AbortController;n(s);const l=jG(async()=>{ml(t),ml(s.signal);const c=await r({pause:Fg(s.signal),delay:_V(s.signal),signal:s.signal});return ml(s.signal),c},()=>s.abort(DG));return i!=null&&i.autoJoin&&e.push(l.catch(qg)),{result:Fg(t)(l),cancel(){s.abort(PG)}}}},VG=(t,e)=>{const n=async(r,i)=>{ml(e);let s=()=>{};const c=[new Promise((f,d)=>{let m=t({predicate:r,effect:(p,b)=>{b.unsubscribe(),f([p,b.getState(),b.getOriginalState()])}});s=()=>{m(),d()}})];i!=null&&c.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await bV(e,Promise.race(c));return ml(e),f}finally{s()}};return(r,i)=>yV(n(r,i))},xV=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Xr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Tr(21));return NE(s),{predicate:i,type:e,effect:s}},wV=Gu(t=>{const{type:e,predicate:n,effect:r}=xV(t);return{id:xG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Tr(22))}}},{withTypes:()=>wV}),DR=(t,e)=>{const{type:n,effect:r,predicate:i}=xV(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},Dw=t=>{t.pending.forEach(e=>{e.abort(Pw)})},LG=(t,e)=>()=>{for(const n of e.keys())Dw(n);t.clear()},MR=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},EV=Gu(Xr(`${ov}/add`),{withTypes:()=>EV}),zG=Xr(`${ov}/removeAll`),SV=Gu(Xr(`${ov}/remove`),{withTypes:()=>SV}),BG=(...t)=>{console.error(`${ov}/error`,...t)},Ed=(t={})=>{const e=new Map,n=new Map,r=_=>{const S=n.get(_)??0;n.set(_,S+1)},i=_=>{const S=n.get(_)??1;S===1?n.delete(_):n.set(_,S-1)},{extra:s,onError:l=BG}=t;NE(l);const c=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),S=>{_.unsubscribe(),S!=null&&S.cancelActive&&Dw(_)}),f=_=>{const S=DR(e,_)??wV(_);return c(S)};Gu(f,{withTypes:()=>f});const d=_=>{const S=DR(e,_);return S&&(S.unsubscribe(),_.cancelActive&&Dw(S)),!!S};Gu(d,{withTypes:()=>d});const m=async(_,S,E,T)=>{const C=new AbortController,k=VG(f,C.signal),M=[];try{_.pending.add(C),r(_),await Promise.resolve(_.effect(S,Gu({},E,{getOriginalState:T,condition:(F,B)=>k(F,B).then(Boolean),take:k,delay:_V(C.signal),pause:Fg(C.signal),extra:s,signal:C.signal,fork:kG(C.signal,M),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((F,B,U)=>{F!==C&&(F.abort(Pw),U.delete(F))})},cancel:()=>{C.abort(Pw),_.pending.delete(C)},throwIfCancelled:()=>{ml(C.signal)}})))}catch(F){F instanceof sv||MR(l,F,{raisedBy:"effect"})}finally{await Promise.all(M),C.abort(MG),i(_),_.pending.delete(C)}},p=LG(e,n);return{middleware:_=>S=>E=>{if(!J4(E))return S(E);if(EV.match(E))return f(E.payload);if(zG.match(E)){p();return}if(SV.match(E))return d(E.payload);let T=_.getState();const C=()=>{if(T===PR)throw new Error(Tr(23));return T};let k;try{if(k=S(E),e.size>0){const M=_.getState(),F=Array.from(e.values());for(const B of F){let U=!1;try{U=B.predicate(E,M,T)}catch(R){U=!1,MR(l,R,{raisedBy:"predicate"})}U&&m(B,E,_,C)}}}finally{T=PR}return k},startListening:f,stopListening:d,clearListeners:p}};function Tr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var UG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},TV=lr({name:"chartLayout",initialState:UG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:qG,setLayout:FG,setChartSize:$G,setScale:HG}=TV.actions,KG=TV.reducer;function AV(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function vt(t){return Number.isFinite(t)}function no(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){GG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GG(t,e,n){return(e=YG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YG(t){var e=QG(t,"string");return typeof e=="symbol"?e:e+""}function QG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ut(t,e,n){return Ir(t)||Ir(e)?n:qa(e)?$h(t,e,n):typeof e=="function"?e(t):n}var XG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&je(t[s]))return Uu(Uu({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&je(t[l]))return Uu(Uu({},t),{},{[l]:t[l]+(i||0)})}return t},uo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",WG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,c=0;c<n;++c){var f=t[c],d=f==null?void 0:f[i];if(d!=null){var m=d[1],p=d[0],b=Ua(m)?p:m;b>=0?(d[0]=s,s+=b,d[1]=s):(d[0]=l,l+=b,d[1]=l)}}}},ZG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var c=t[l],f=c==null?void 0:c[i];if(f!=null){var d=Ua(f[1])?f[0]:f[1];d>=0?(f[0]=s,s+=d,f[1]=s):(f[0]=0,f[1]=0)}}}},JG={sign:WG,expand:TH,none:Al,silhouette:AH,wiggle:IH,positive:ZG},eY=(t,e,n)=>{var r,i=(r=JG[n])!==null&&r!==void 0?r:Al,s=SH().keys(e).value((c,f)=>Number(Ut(c,f,0))).order(ww).offset(i),l=s(t);return l.forEach((c,f)=>{c.forEach((d,m)=>{var p=Ut(t[m],e[f],0);Array.isArray(p)&&p.length===2&&je(p[0])&&je(p[1])&&(d[0]=p[0],d[1]=p[1])})}),l},tY=t=>{var e=t.flat(2).filter(je);return[Math.min(...e),Math.max(...e)]},nY=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],rY=(t,e,n)=>{if(t!=null)return nY(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,c=l.reduce((f,d)=>{var m=AV(d,e,n),p=tY(m);return!vt(p[0])||!vt(p[1])?f:[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},kR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LR=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();return r}if(t&&e&&e.length>=2){for(var i=Zy(e,m=>m.coordinate),s=1/0,l=1,c=i.length;l<c;l++){var f=i[l],d=i[l-1];s=Math.min(((f==null?void 0:f.coordinate)||0)-((d==null?void 0:d.coordinate)||0),s)}return s===1/0?0:s}return n?void 0:0};function zR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Uu(Uu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function IV(t,e){if(t)return String(t);if(typeof e=="string")return e}var iY=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},aY=(t,e)=>e==="centric"?t.angle:t.radius,Wa=t=>t.layout.width,Za=t=>t.layout.height,sY=t=>t.layout.scale,OV=t=>t.layout.margin,lv=te(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),uv=te(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),CV="data-recharts-item-index",RV="data-recharts-item-id",Sd=60;function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){oY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oY(t,e,n){return(e=lY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lY(t){var e=uY(t,"string");return typeof e=="symbol"?e:e+""}function uY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cY=t=>t.brush.height;function fY(t){var e=uv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Sd;return n+i}return n},0)}function hY(t){var e=uv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Sd;return n+i}return n},0)}function dY(t){var e=lv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function mY(t){var e=lv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var An=te([Wa,Za,OV,cY,fY,hY,dY,mY,X4,$K],(t,e,n,r,i,s,l,c,f,d)=>{var m={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+l,bottom:(n.bottom||0)+c},b=Op(Op({},p),m),_=b.bottom;b.bottom+=r,b=XG(b,f,d);var S=t-b.left-b.right,E=e-b.top-b.bottom;return Op(Op({brushBottom:_},b),{},{width:Math.max(S,0),height:Math.max(E,0)})}),pY=te(An,t=>({x:t.left,y:t.top,width:t.width,height:t.height}));te(Wa,Za,(t,e)=>({x:0,y:0,width:t,height:e}));var gY=I.createContext(null),co=()=>I.useContext(gY)!=null,cv=t=>t.brush,fv=te([cv,An,OV],(t,e,n)=>({height:t.height,x:je(t.x)?t.x:e.left,y:je(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:je(t.width)?t.width:e.width})),tx={},nx={},rx={},UR;function yY(){return UR||(UR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,c=null;const f=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},p=()=>{d&&m(),E()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,p()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{S(),l=void 0,c=null},T=()=>{m()},C=function(...k){if(i!=null&&i.aborted)return;l=this,c=k;const M=b==null;_(),f&&M&&m()};return C.schedule=_,C.cancel=E,C.flush=T,i==null||i.addEventListener("abort",E,{once:!0}),C}t.debounce=e})(rx)),rx}var qR;function vY(){return qR||(qR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yY();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:f}=s,d=Array(2);l&&(d[0]="leading"),c&&(d[1]="trailing");let m,p=null;const b=e.debounce(function(...E){m=r.apply(this,E),p=null},i,{edges:d}),_=function(...E){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(m=r.apply(this,E),p=Date.now(),b.cancel(),b.schedule(),m):(b.apply(this,E),m)},S=()=>(b.flush(),m);return _.cancel=b.cancel,_.flush=S,_}t.debounce=n})(nx)),nx}var FR;function bY(){return FR||(FR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vY();function n(r,i=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(tx)),tx}var ix,$R;function _Y(){return $R||($R=1,ix=bY().throttle),ix}var xY=_Y();const wY=oa(xY);var HR=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},Ji={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},NV=(t,e,n)=>{var{width:r=Ji.width,height:i=Ji.height,aspect:s,maxHeight:l}=n,c=Il(r)?t:Number(r),f=Il(i)?e:Number(i);return s&&s>0&&(c?f=c/s:f&&(c=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:c,calculatedHeight:f}},EY={width:0,height:0,overflow:"visible"},SY={width:0,overflowX:"visible"},TY={height:0,overflowY:"visible"},AY={},IY=t=>{var{width:e,height:n}=t,r=Il(e),i=Il(n);return r&&i?EY:r?SY:i?TY:AY};function OY(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i=Ji.width,s=Ji.height):i===void 0?i=r&&r>0?void 0:Ji.width:s===void 0&&(s=r&&r>0?void 0:Ji.height),{width:i,height:s}}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(null,arguments)}function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){CY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CY(t,e,n){return(e=RY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RY(t){var e=NY(t,"string");return typeof e=="symbol"?e:e+""}function NY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PV=I.createContext(Ji.initialDimension);function PY(t){return no(t.width)&&no(t.height)}function DV(t){var{children:e,width:n,height:r}=t,i=I.useMemo(()=>({width:n,height:r}),[n,r]);return PY(i)?I.createElement(PV.Provider,{value:i},e):null}var PE=()=>I.useContext(PV),DY=I.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Ji.initialDimension,width:i,height:s,minWidth:l=Ji.minWidth,minHeight:c,maxHeight:f,children:d,debounce:m=Ji.debounce,id:p,className:b,onResize:_,style:S={}}=t,E=I.useRef(null),T=I.useRef();T.current=_,I.useImperativeHandle(e,()=>E.current);var[C,k]=I.useState({containerWidth:r.width,containerHeight:r.height}),M=I.useCallback((N,D)=>{k(z=>{var j=Math.round(N),L=Math.round(D);return z.containerWidth===j&&z.containerHeight===L?z:{containerWidth:j,containerHeight:L}})},[]);I.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return xd;var N=L=>{var q,ye=L[0];if(ye!=null){var{width:Ce,height:Z}=ye.contentRect;M(Ce,Z),(q=T.current)===null||q===void 0||q.call(T,Ce,Z)}};m>0&&(N=wY(N,m,{trailing:!0,leading:!1}));var D=new ResizeObserver(N),{width:z,height:j}=E.current.getBoundingClientRect();return M(z,j),D.observe(E.current),()=>{D.disconnect()}},[M,m]);var{containerWidth:F,containerHeight:B}=C;HR(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:U,calculatedHeight:R}=NV(F,B,{width:i,height:s,aspect:n,maxHeight:f});return HR(U!=null&&U>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,R,i,s,l,c,n),I.createElement("div",{id:p?"".concat(p):void 0,className:hn("recharts-responsive-container",b),style:GR(GR({},S),{},{width:i,height:s,minWidth:l,minHeight:c,maxHeight:f}),ref:E},I.createElement("div",{style:IY({width:i,height:s})},I.createElement(DV,{width:U,height:R},d)))}),jw=I.forwardRef((t,e)=>{var n=PE();if(no(n.width)&&no(n.height))return t.children;var{width:r,height:i}=OY({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=NV(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return je(s)&&je(l)?I.createElement(DV,{width:s,height:l},t.children):I.createElement(DY,Mw({},t,{width:r,height:i,ref:e}))});function DE(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var hv=()=>{var t,e=co(),n=Ue(pY),r=Ue(fv),i=(t=Ue(cv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},MY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},jY=()=>{var t;return(t=Ue(An))!==null&&t!==void 0?t:MY},kY=()=>Ue(Wa),VY=()=>Ue(Za),Pt=t=>t.layout.layoutType,dv=()=>Ue(Pt),MV=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},LY=()=>{var t=dv();return t!==void 0},Td=t=>{var e=vn(),n=co(),{width:r,height:i}=t,s=PE(),l=r,c=i;return s&&(l=s.width>0?s.width:r,c=s.height>0?s.height:i),I.useEffect(()=>{!n&&no(l)&&no(c)&&e($G({width:l,height:c}))},[e,n,l,c]),null},jV=Symbol.for("immer-nothing"),YR=Symbol.for("immer-draftable"),Or=Symbol.for("immer-state");function pi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Qh=Object.getPrototypeOf;function vc(t){return!!t&&!!t[Or]}function Cl(t){var e;return t?kV(t)||Array.isArray(t)||!!t[YR]||!!((e=t.constructor)!=null&&e[YR])||Ad(t)||pv(t):!1}var zY=Object.prototype.constructor.toString(),QR=new WeakMap;function kV(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=QR.get(n);return r===void 0&&(r=Function.toString.call(n),QR.set(n,r)),r===zY}function $g(t,e,n=!0){mv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function mv(t){const e=t[Or];return e?e.type_:Array.isArray(t)?1:Ad(t)?2:pv(t)?3:0}function kw(t,e){return mv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function VV(t,e,n){const r=mv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function BY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ad(t){return t instanceof Map}function pv(t){return t instanceof Set}function Jo(t){return t.copy_||t.base_}function Vw(t,e){if(Ad(t))return new Map(t);if(pv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=kV(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Or];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(Qh(t),r)}else{const r=Qh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function ME(t,e=!1){return gv(t)||vc(t)||!Cl(t)||(mv(t)>1&&Object.defineProperties(t,{set:Cp,add:Cp,clear:Cp,delete:Cp}),Object.freeze(t),e&&Object.values(t).forEach(n=>ME(n,!0))),t}function UY(){pi(2)}var Cp={value:UY};function gv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var qY={};function Rl(t){const e=qY[t];return e||pi(0,t),e}var Xh;function LV(){return Xh}function FY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XR(t,e){e&&(Rl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Lw(t){zw(t),t.drafts_.forEach($Y),t.drafts_=null}function zw(t){t===Xh&&(Xh=t.parent_)}function WR(t){return Xh=FY(Xh,t)}function $Y(t){const e=t[Or];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ZR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Or].modified_&&(Lw(e),pi(4)),Cl(t)&&(t=Hg(e,t),e.parent_||Kg(e,t)),e.patches_&&Rl("Patches").generateReplacementPatches_(n[Or].base_,t,e.patches_,e.inversePatches_)):t=Hg(e,n,[]),Lw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==jV?t:void 0}function Hg(t,e,n){if(gv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Or];if(!i)return $g(e,(s,l)=>JR(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Kg(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,c=!1;i.type_===3&&(l=new Set(s),s.clear(),c=!0),$g(l,(f,d)=>JR(t,i,s,f,d,n,c),r),Kg(t,s,!1),n&&t.patches_&&Rl("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function JR(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const c=gv(i);if(!(c&&!l)){if(vc(i)){const f=s&&e&&e.type_!==3&&!kw(e.assigned_,r)?s.concat(r):void 0,d=Hg(t,i,f);if(VV(n,r,d),vc(d))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Cl(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;Hg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Ad(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Kg(t,i)}}}function Kg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ME(e,n)}function HY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:LV(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=jE;n&&(i=[r],s=Wh);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,c}var jE={get(t,e){if(e===Or)return t;const n=Jo(t);if(!kw(n,e))return KY(t,n,e);const r=n[e];return t.finalized_||!Cl(r)?r:r===ax(t.base_,e)?(sx(t),t.copy_[e]=Uw(r,t)):r},has(t,e){return e in Jo(t)},ownKeys(t){return Reflect.ownKeys(Jo(t))},set(t,e,n){const r=zV(Jo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=ax(Jo(t),e),s=i==null?void 0:i[Or];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(BY(n,i)&&(n!==void 0||kw(t.base_,e)))return!0;sx(t),Bw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return ax(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,sx(t),Bw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Jo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){pi(11)},getPrototypeOf(t){return Qh(t.base_)},setPrototypeOf(){pi(12)}},Wh={};$g(jE,(t,e)=>{Wh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Wh.deleteProperty=function(t,e){return Wh.set.call(this,t,e,void 0)};Wh.set=function(t,e,n){return jE.set.call(this,t[0],e,n,t[0])};function ax(t,e){const n=t[Or];return(n?Jo(n):t)[e]}function KY(t,e,n){var i;const r=zV(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function zV(t,e){if(!(e in t))return;let n=Qh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Qh(n)}}function Bw(t){t.modified_||(t.modified_=!0,t.parent_&&Bw(t.parent_))}function sx(t){t.copy_||(t.copy_=Vw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var GY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(f=s,...d){return l.produce(f,m=>n.call(this,m,...d))}}typeof n!="function"&&pi(6),r!==void 0&&typeof r!="function"&&pi(7);let i;if(Cl(e)){const s=WR(this),l=Uw(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?Lw(s):zw(s)}return XR(s,r),ZR(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===jV&&(i=void 0),this.autoFreeze_&&ME(i,!0),r){const s=[],l=[];Rl("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else pi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,f=>e(f,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Cl(t)||pi(8),vc(t)&&(t=YY(t));const e=WR(this),n=Uw(t,void 0);return n[Or].isManual_=!0,zw(e),n}finishDraft(t,e){const n=t&&t[Or];(!n||!n.isManual_)&&pi(9);const{scope_:r}=n;return XR(r,e),ZR(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Rl("Patches").applyPatches_;return vc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Uw(t,e){const n=Ad(t)?Rl("MapSet").proxyMap_(t,e):pv(t)?Rl("MapSet").proxySet_(t,e):HY(t,e);return(e?e.scope_:LV()).drafts_.push(n),n}function YY(t){return vc(t)||pi(10,t),BV(t)}function BV(t){if(!Cl(t)||gv(t))return t;const e=t[Or];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Vw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Vw(t,!0);return $g(n,(i,s)=>{VV(n,i,BV(s))},r),e&&(e.finalized_=!1),n}var QY=new GY;QY.produce;var XY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},UV=lr({name:"legend",initialState:XY,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Ct()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=bi(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Ct()},removeLegendPayload:{reducer(t,e){var n=bi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Ct()}}}),{setLegendSize:noe,setLegendSettings:roe,addLegendPayload:WY,replaceLegendPayload:ZY,removeLegendPayload:JY}=UV.actions,eQ=UV.reducer;function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(null,arguments)}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){tQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tQ(t,e,n){return(e=nQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nQ(t){var e=rQ(t,"string");return typeof e=="symbol"?e:e+""}function rQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iQ(t){return Array.isArray(t)&&qa(t[0])&&qa(t[1])?t.join(" ~ "):t}var Nu={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},aQ=t=>{var{separator:e=Nu.separator,contentStyle:n,itemStyle:r,labelStyle:i=Nu.labelStyle,payload:s,formatter:l,itemSorter:c,wrapperClassName:f,labelClassName:d,label:m,labelFormatter:p,accessibilityLayer:b=Nu.accessibilityLayer}=t,_=()=>{if(s&&s.length){var B={padding:0,margin:0},U=(c?Zy(s,c):s).map((R,N)=>{if(R.type==="none")return null;var D=R.formatter||l||iQ,{value:z,name:j}=R,L=z,q=j;if(D){var ye=D(z,j,R,N,s);if(Array.isArray(ye))[L,q]=ye;else if(ye!=null)L=ye;else return null}var Ce=eh(eh({},Nu.itemStyle),{},{color:R.color||Nu.itemStyle.color},r);return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:Ce},qa(q)?I.createElement("span",{className:"recharts-tooltip-item-name"},q):null,qa(q)?I.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,I.createElement("span",{className:"recharts-tooltip-item-value"},L),I.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:B},U)}return null},S=eh(eh({},Nu.contentStyle),n),E=eh({margin:0},i),T=!Ir(m),C=T?m:"",k=hn("recharts-default-tooltip",f),M=hn("recharts-tooltip-label",d);T&&p&&s!==void 0&&s!==null&&(C=p(m,s));var F=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",qw({className:k,style:S},F),I.createElement("p",{className:M,style:E},I.isValidElement(C)?C:"".concat(C)),_())},th="recharts-tooltip-wrapper",sQ={visibility:"hidden"};function oQ(t){var{coordinate:e,translateX:n,translateY:r}=t;return hn(th,{["".concat(th,"-right")]:je(n)&&e&&je(e.x)&&n>=e.x,["".concat(th,"-left")]:je(n)&&e&&je(e.x)&&n<e.x,["".concat(th,"-bottom")]:je(r)&&e&&je(e.y)&&r>=e.y,["".concat(th,"-top")]:je(r)&&e&&je(e.y)&&r<e.y})}function tN(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:s,reverseDirection:l,tooltipDimension:c,viewBox:f,viewBoxDimension:d}=t;if(s&&je(s[r]))return s[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?m:p;var b=f[r];if(b==null)return 0;if(l[r]){var _=m,S=b;return _<S?Math.max(p,b):Math.max(m,b)}if(d==null)return 0;var E=p+c,T=b+d;return E>T?Math.max(m,b):Math.max(p,b)}function lQ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function uQ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:f,viewBox:d}=t,m,p,b;return c.height>0&&c.width>0&&n?(p=tN({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),b=tN({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),m=lQ({translateX:p,translateY:b,useTranslate3d:f})):m=sQ,{cssProperties:m,cssClasses:oQ({translateX:p,translateY:b,coordinate:n})}}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){Fw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fw(t,e,n){return(e=cQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cQ(t){var e=fQ(t,"string");return typeof e=="symbol"?e:e+""}function fQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hQ extends I.PureComponent{constructor(){super(...arguments),Fw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Fw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:c,isAnimationActive:f,offset:d,position:m,reverseDirection:p,useTranslate3d:b,viewBox:_,wrapperStyle:S,lastBoundingBox:E,innerRef:T,hasPortalFromProps:C}=this.props,k=typeof d=="number"?d:d.x,M=typeof d=="number"?d:d.y,{cssClasses:F,cssProperties:B}=uQ({allowEscapeViewBox:n,coordinate:l,offsetLeft:k,offsetTop:M,position:m,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:_}),U=C?{}:Rp(Rp({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},B),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),R=Rp(Rp({},U),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},S);return I.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:F,style:R,ref:T},s)}}var qV=()=>{var t;return(t=Ue(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(null,arguments)}function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){dQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dQ(t,e,n){return(e=mQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mQ(t){var e=pQ(t,"string");return typeof e=="symbol"?e:e+""}function pQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aN={curveBasisClosed:dH,curveBasisOpen:mH,curveBasis:hH,curveBumpX:Z$,curveBumpY:J$,curveLinearClosed:pH,curveLinear:Xy,curveMonotoneX:gH,curveMonotoneY:yH,curveNatural:vH,curveStep:bH,curveStepAfter:xH,curveStepBefore:_H},Gg=t=>vt(t.x)&&vt(t.y),sN=t=>t.base!=null&&Gg(t.base)&&Gg(t),nh=t=>t.x,rh=t=>t.y,gQ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(_d(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=aN["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return aN[n]||Xy},oN={connectNulls:!1,type:"linear"},yQ=t=>{var{type:e=oN.type,points:n=[],baseLine:r,layout:i,connectNulls:s=oN.connectNulls}=t,l=gQ(e,i),c=s?n.filter(Gg):n;if(Array.isArray(r)){var f,d=n.map((S,E)=>iN(iN({},S),{},{base:r[E]}));i==="vertical"?f=wp().y(rh).x1(nh).x0(S=>S.base.x):f=wp().x(nh).y1(rh).y0(S=>S.base.y);var m=f.defined(sN).curve(l),p=s?d.filter(sN):d;return m(p)}var b;i==="vertical"&&je(r)?b=wp().y(rh).x1(nh).x0(r):je(r)?b=wp().x(nh).y1(rh).y0(r):b=E4().x(nh).y(rh);var _=b.defined(Gg).curve(l);return _(c)},kE=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=dv();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},c=n&&n.length?yQ(l):r;return I.createElement("path",$w({},gc(t),HH(t),{className:hn("recharts-curve",e),d:c===null?void 0:c,ref:i}))},vQ=["x","y","top","left","width","height","className"];function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(null,arguments)}function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){_Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Q(t,e,n){return(e=xQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xQ(t){var e=wQ(t,"string");return typeof e=="symbol"?e:e+""}function wQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EQ(t,e){if(t==null)return{};var n,r,i=SQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var TQ=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),AQ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:c}=t,f=EQ(t,vQ),d=bQ({x:e,y:n,top:r,left:i,width:s,height:l},f);return!je(e)||!je(n)||!je(s)||!je(l)||!je(r)||!je(i)?null:I.createElement("path",Hw({},Qr(d),{className:hn("recharts-cross",c),d:TQ(e,n,s,l,r,i)}))};function IQ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function uN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(n),!0).forEach(function(r){OQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OQ(t,e,n){return(e=CQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CQ(t){var e=RQ(t,"string");return typeof e=="symbol"?e:e+""}function RQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NQ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),FV=(t,e,n)=>t.map(r=>"".concat(NQ(r)," ").concat(e,"ms ").concat(n)).join(","),PQ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Zh=(t,e)=>Object.keys(e).reduce((n,r)=>cN(cN({},n),{},{[r]:t(r,e[r])}),{});function fN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fN(Object(n),!0).forEach(function(r){DQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DQ(t,e,n){return(e=MQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MQ(t){var e=jQ(t,"string");return typeof e=="symbol"?e:e+""}function jQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yg=(t,e,n)=>t+(e-t)*n,Kw=t=>{var{from:e,to:n}=t;return e!==n},$V=(t,e,n)=>{var r=Zh((i,s)=>{if(Kw(s)){var[l,c]=t(s.from,s.to,s.velocity);return gn(gn({},s),{},{from:l,velocity:c})}return s},e);return n<1?Zh((i,s)=>Kw(s)&&r[i]!=null?gn(gn({},s),{},{velocity:Yg(s.velocity,r[i].velocity,n),from:Yg(s.from,r[i].from,n)}):s,e):$V(t,r,n-1)};function kQ(t,e,n,r,i,s){var l,c=r.reduce((b,_)=>gn(gn({},b),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),f=()=>Zh((b,_)=>_.from,c),d=()=>!Object.values(c).filter(Kw).length,m=null,p=b=>{l||(l=b);var _=b-l,S=_/n.dt;c=$V(n,c,S),i(gn(gn(gn({},t),e),f())),l=b,d()||(m=s.setTimeout(p))};return()=>(m=s.setTimeout(p),()=>{var b;(b=m)===null||b===void 0||b()})}function VQ(t,e,n,r,i,s,l){var c=null,f=i.reduce((p,b)=>{var _=t[b],S=e[b];return _==null||S==null?p:gn(gn({},p),{},{[b]:[_,S]})},{}),d,m=p=>{d||(d=p);var b=(p-d)/r,_=Zh((E,T)=>Yg(...T,n(b)),f);if(s(gn(gn(gn({},t),e),_)),b<1)c=l.setTimeout(m);else{var S=Zh((E,T)=>Yg(...T,n(1)),f);s(gn(gn(gn({},t),e),S))}};return()=>(c=l.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const LQ=(t,e,n,r,i,s)=>{var l=PQ(t,e);return n==null?()=>(i(gn(gn({},t),e)),()=>{}):n.isStepper===!0?kQ(t,e,n,l,i,s):VQ(t,e,n,r,l,i,s)};var Qg=1e-4,HV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],KV=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),hN=(t,e)=>n=>{var r=HV(t,e);return KV(r,n)},zQ=(t,e)=>n=>{var r=HV(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return KV(i,n)},BQ=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},UQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=BQ(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},qQ=(t,e,n,r)=>{var i=hN(t,n),s=hN(e,r),l=zQ(t,n),c=d=>d>1?1:d<0?0:d,f=d=>{for(var m=d>1?1:d,p=m,b=0;b<8;++b){var _=i(p)-m,S=l(p);if(Math.abs(_-m)<Qg||S<Qg)return s(p);p=c(p-_/S)}return s(p)};return f.isStepper=!1,f},dN=function(){return qQ(...UQ(...arguments))},FQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,c,f)=>{var d=-(l-c)*n,m=f*r,p=f+(d-m)*i/1e3,b=f*i/1e3+l;return Math.abs(b-c)<Qg&&Math.abs(p)<Qg?[c,0]:[b,p]};return s.isStepper=!0,s.dt=i,s},$Q=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dN(t);case"spring":return FQ();default:if(t.split("(")[0]==="cubic-bezier")return dN(t)}return typeof t=="function"?t:null};function HQ(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[f,...d]=c;if(typeof f=="number"){i=t.setTimeout(s.bind(null,d),f);return}s(f),i=t.setTimeout(s.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class KQ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function GQ(){return HQ(new KQ)}var YQ=I.createContext(GQ);function QQ(t,e){var n=I.useContext(YQ);return I.useMemo(()=>e??n(t),[t,e,n])}var XQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),VE={isSsr:XQ()},WQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mN={t:0},ox={t:1};function LE(t){var e=ua(t,WQ),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:f,children:d}=e,m=n==="auto"?!VE.isSsr:n,p=QQ(e.animationId,e.animationManager),[b,_]=I.useState(m?mN:ox),S=I.useRef(null);return I.useEffect(()=>{m||_(ox)},[m]),I.useEffect(()=>{if(!m||!r)return xd;var E=LQ(mN,ox,$Q(s),i,_,p.getTimeoutController()),T=()=>{S.current=E()};return p.start([f,l,T,i,c]),()=>{p.stop(),S.current&&S.current(),c()}},[m,r,i,s,l,f,c,p]),d(b.t)}function zE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=I.useRef(Hh(e)),r=I.useRef(t);return r.current!==t&&(n.current=Hh(e),r.current=t),n.current}var ZQ=["radius"],JQ=["radius"],pN,gN,yN,vN,bN,_N,xN,wN,EN,SN;function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){eX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eX(t,e,n){return(e=tX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tX(t){var e=nX(t,"string");return typeof e=="symbol"?e:e+""}function nX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(null,arguments)}function IN(t,e){if(t==null)return{};var n,r,i=rX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ON=(t,e,n,r,i)=>{var s=qs(n),l=qs(r),c=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,d=s>=0?1:-1,m=l>=0&&s>=0||l<0&&s<0?1:0,p;if(c>0&&Array.isArray(i)){for(var b=[0,0,0,0],_=0,S=4;_<S;_++){var E,T=(E=i[_])!==null&&E!==void 0?E:0;b[_]=T>c?c:T}p=Lt(pN||(pN=Hi(["M",",",""])),t,e+f*b[0]),b[0]>0&&(p+=Lt(gN||(gN=Hi(["A ",",",",0,0,",",",",",""])),b[0],b[0],m,t+d*b[0],e)),p+=Lt(yN||(yN=Hi(["L ",",",""])),t+n-d*b[1],e),b[1]>0&&(p+=Lt(vN||(vN=Hi(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],m,t+n,e+f*b[1])),p+=Lt(bN||(bN=Hi(["L ",",",""])),t+n,e+r-f*b[2]),b[2]>0&&(p+=Lt(_N||(_N=Hi(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],m,t+n-d*b[2],e+r)),p+=Lt(xN||(xN=Hi(["L ",",",""])),t+d*b[3],e+r),b[3]>0&&(p+=Lt(wN||(wN=Hi(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],m,t,e+r-f*b[3])),p+="Z"}else if(c>0&&i===+i&&i>0){var C=Math.min(c,i);p=Lt(EN||(EN=Hi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*C,C,C,m,t+d*C,e,t+n-d*C,e,C,C,m,t+n,e+f*C,t+n,e+r-f*C,C,C,m,t+n-d*C,e+r,t+d*C,e+r,C,C,m,t,e+r-f*C)}else p=Lt(SN||(SN=Hi(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},CN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GV=t=>{var e=ua(t,CN),n=I.useRef(null),[r,i]=I.useState(-1);I.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ue=n.current.getTotalLength();ue&&i(ue)}catch{}},[]);var{x:s,y:l,width:c,height:f,radius:d,className:m}=e,{animationEasing:p,animationDuration:b,animationBegin:_,isAnimationActive:S,isUpdateAnimationActive:E}=e,T=I.useRef(c),C=I.useRef(f),k=I.useRef(s),M=I.useRef(l),F=I.useMemo(()=>({x:s,y:l,width:c,height:f,radius:d}),[s,l,c,f,d]),B=zE(F,"rectangle-");if(s!==+s||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var U=hn("recharts-rectangle",m);if(!E){var R=Qr(e),{radius:N}=R,D=IN(R,ZQ);return I.createElement("path",Xg({},D,{x:qs(s),y:qs(l),width:qs(c),height:qs(f),radius:typeof d=="number"?d:void 0,className:U,d:ON(s,l,c,f,d)}))}var z=T.current,j=C.current,L=k.current,q=M.current,ye="0px ".concat(r===-1?1:r,"px"),Ce="".concat(r,"px 0px"),Z=FV(["strokeDasharray"],b,typeof p=="string"?p:CN.animationEasing);return I.createElement(LE,{animationId:B,key:B,canBegin:r>0,duration:b,easing:p,isActive:E,begin:_},ue=>{var be=di(z,c,ue),Ie=di(j,f,ue),ie=di(L,s,ue),$=di(q,l,ue);n.current&&(T.current=be,C.current=Ie,k.current=ie,M.current=$);var ee;S?ue>0?ee={transition:Z,strokeDasharray:Ce}:ee={strokeDasharray:ye}:ee={strokeDasharray:Ce};var fe=Qr(e),{radius:de}=fe,_e=IN(fe,JQ);return I.createElement("path",Xg({},_e,{radius:typeof d=="number"?d:void 0,className:U,d:ON(ie,$,be,Ie,d),ref:n,style:AN(AN({},ee),e.style)}))})};function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){iX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iX(t,e,n){return(e=aX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aX(t){var e=sX(t,"string");return typeof e=="symbol"?e:e+""}function sX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wg=Math.PI/180,oX=t=>t*180/Math.PI,cn=(t,e,n,r)=>({x:t+Math.cos(-Wg*r)*n,y:e+Math.sin(-Wg*r)*n}),YV=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},lX=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},uX=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=lX({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,f=Math.acos(c);return r>s&&(f=2*Math.PI-f),{radius:l,angle:oX(f),angleInRadian:f}},cX=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},fX=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},hX=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=uX({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:f,endAngle:d}=cX(e),m=s,p;if(f<=d){for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}else{for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}return p?NN(NN({},e),{},{radius:i,angle:fX(m,e)}):null};function QV(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=cn(e,n,r,i),c=cn(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var PN,DN,MN,jN,kN,VN,LN;function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(null,arguments)}function sl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var dX=(t,e)=>{var n=sr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Np=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:f}=t,d=c*(l?1:-1)+r,m=Math.asin(c/d)/Wg,p=f?i:i+s*m,b=cn(e,n,d,p),_=cn(e,n,r,p),S=f?i-s*m:i,E=cn(e,n,d*Math.cos(m*Wg),S);return{center:b,circleTangency:_,lineTangency:E,theta:m}},XV=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,c=dX(s,l),f=s+c,d=cn(e,n,i,s),m=cn(e,n,i,f),p=Lt(PN||(PN=sl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(c)>180),+(s>f),m.x,m.y);if(r>0){var b=cn(e,n,r,s),_=cn(e,n,r,f);p+=Lt(DN||(DN=sl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(c)>180),+(s<=f),b.x,b.y)}else p+=Lt(MN||(MN=sl(["L ",","," Z"])),e,n);return p},mX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}=t,m=sr(d-f),{circleTangency:p,lineTangency:b,theta:_}=Np({cx:e,cy:n,radius:i,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),{circleTangency:S,lineTangency:E,theta:T}=Np({cx:e,cy:n,radius:i,angle:d,sign:-m,cornerRadius:s,cornerIsExternal:c}),C=c?Math.abs(f-d):Math.abs(f-d)-_-T;if(C<0)return l?Lt(jN||(jN=sl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):XV({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var k=Lt(kN||(kN=sl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(m<0),p.x,p.y,i,i,+(C>180),+(m<0),S.x,S.y,s,s,+(m<0),E.x,E.y);if(r>0){var{circleTangency:M,lineTangency:F,theta:B}=Np({cx:e,cy:n,radius:r,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:U,lineTangency:R,theta:N}=Np({cx:e,cy:n,radius:r,angle:d,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),D=c?Math.abs(f-d):Math.abs(f-d)-B-N;if(D<0&&s===0)return"".concat(k,"L").concat(e,",").concat(n,"Z");k+=Lt(VN||(VN=sl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),R.x,R.y,s,s,+(m<0),U.x,U.y,r,r,+(D>180),+(m>0),M.x,M.y,s,s,+(m<0),F.x,F.y)}else k+=Lt(LN||(LN=sl(["L",",","Z"])),e,n);return k},pX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WV=t=>{var e=ua(t,pX),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:m,className:p}=e;if(s<i||d===m)return null;var b=hn("recharts-sector",p),_=s-i,S=Sr(l,_,0,!0),E;return S>0&&Math.abs(d-m)<360?E=mX({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,_/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:m}):E=XV({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:m}),I.createElement("path",Gw({},Qr(e),{className:b,d:E}))};function gX(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(L4(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:c}=e,f=cn(r,i,s,c),d=cn(r,i,l,c);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return QV(e)}}var lx={},ux={},cx={},zN;function yX(){return zN||(zN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(cx)),cx}var BN;function vX(){return BN||(BN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yX();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(ux)),ux}var UN;function bX(){return UN||(UN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q4(),n=vX();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(c);for(let d=0;d<c;d++)f[d]=i,i+=l;return f}t.range=r})(lx)),lx}var fx,qN;function _X(){return qN||(qN=1,fx=bX().range),fx}var xX=_X();const ZV=oa(xX);function Ys(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BE(t){let e,n,r;t.length!==2?(e=Ys,n=(c,f)=>Ys(t(c),f),r=(c,f)=>t(c)-f):(e=t===Ys||t===wX?t:EX,n=t,r=t);function i(c,f,d=0,m=c.length){if(d<m){if(e(f,f)!==0)return m;do{const p=d+m>>>1;n(c[p],f)<0?d=p+1:m=p}while(d<m)}return d}function s(c,f,d=0,m=c.length){if(d<m){if(e(f,f)!==0)return m;do{const p=d+m>>>1;n(c[p],f)<=0?d=p+1:m=p}while(d<m)}return d}function l(c,f,d=0,m=c.length){const p=i(c,f,d,m-1);return p>d&&r(c[p-1],f)>-r(c[p],f)?p-1:p}return{left:i,center:l,right:s}}function EX(){return 0}function JV(t){return t===null?NaN:+t}function*SX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const TX=BE(Ys),Id=TX.right;BE(JV).center;class FN extends Map{constructor(e,n=OX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get($N(this,e))}has(e){return super.has($N(this,e))}set(e,n){return super.set(AX(this,e),n)}delete(e){return super.delete(IX(this,e))}}function $N({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function AX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function IX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function OX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function CX(t=Ys){if(t===Ys)return e3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function e3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const RX=Math.sqrt(50),NX=Math.sqrt(10),PX=Math.sqrt(2);function Zg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=RX?10:s>=NX?5:s>=PX?2:1;let c,f,d;return i<0?(d=Math.pow(10,-i)/l,c=Math.round(t*d),f=Math.round(e*d),c/d<t&&++c,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*l,c=Math.round(t/d),f=Math.round(e/d),c*d<t&&++c,f*d>e&&--f),f<c&&.5<=n&&n<2?Zg(t,e,n*2):[c,f,d]}function Yw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?Zg(e,t,n):Zg(t,e,n);if(!(s>=i))return[];const c=s-i+1,f=new Array(c);if(r)if(l<0)for(let d=0;d<c;++d)f[d]=(s-d)/-l;else for(let d=0;d<c;++d)f[d]=(s-d)*l;else if(l<0)for(let d=0;d<c;++d)f[d]=(i+d)/-l;else for(let d=0;d<c;++d)f[d]=(i+d)*l;return f}function Qw(t,e,n){return e=+e,t=+t,n=+n,Zg(t,e,n)[2]}function Xw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Qw(e,t,n):Qw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function HN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function KN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function t3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?e3:CX(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,m=Math.log(f),p=.5*Math.exp(2*m/3),b=.5*Math.sqrt(m*p*(f-p)/f)*(d-f/2<0?-1:1),_=Math.max(n,Math.floor(e-d*p/f+b)),S=Math.min(r,Math.floor(e+(f-d)*p/f+b));t3(t,e,_,S,i)}const s=t[e];let l=n,c=r;for(ih(t,n,e),i(t[r],s)>0&&ih(t,n,r);l<c;){for(ih(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?ih(t,n,c):(++c,ih(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function ih(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function DX(t,e,n){if(t=Float64Array.from(SX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return KN(t);if(e>=1)return HN(t);var r,i=(r-1)*e,s=Math.floor(i),l=HN(t3(t,s).subarray(0,s+1)),c=KN(t.subarray(s+1));return l+(c-l)*(i-s)}}function MX(t,e,n=JV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function jX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Jr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ja(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ww=Symbol("implicit");function UE(){var t=new FN,e=[],n=[],r=Ww;function i(s){let l=t.get(s);if(l===void 0){if(r!==Ww)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new FN;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return UE(e,n).unknown(r)},Jr.apply(i,arguments),i}function qE(){var t=UE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,f=0,d=0,m=.5;delete t.unknown;function p(){var b=e().length,_=i<r,S=_?i:r,E=_?r:i;s=(E-S)/Math.max(1,b-f+d*2),c&&(s=Math.floor(s)),S+=(E-S-s*(b-f))*m,l=s*(1-f),c&&(S=Math.round(S),l=Math.round(l));var T=jX(b).map(function(C){return S+s*C});return n(_?T.reverse():T)}return t.domain=function(b){return arguments.length?(e(b),p()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,c=!0,p()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(c=!!b,p()):c},t.padding=function(b){return arguments.length?(f=Math.min(1,d=+b),p()):f},t.paddingInner=function(b){return arguments.length?(f=Math.min(1,b),p()):f},t.paddingOuter=function(b){return arguments.length?(d=+b,p()):d},t.align=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),p()):m},t.copy=function(){return qE(e(),[r,i]).round(c).paddingInner(f).paddingOuter(d).align(m)},Jr.apply(p(),arguments)}function n3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return n3(e())},t}function kX(){return n3(qE.apply(null,arguments).paddingInner(1))}function FE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function r3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Od(){}var Jh=.7,Jg=1/Jh,Yu="\\s*([+-]?\\d+)\\s*",ed="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VX=/^#([0-9a-f]{3,8})$/,LX=new RegExp(`^rgb\\(${Yu},${Yu},${Yu}\\)$`),zX=new RegExp(`^rgb\\(${ra},${ra},${ra}\\)$`),BX=new RegExp(`^rgba\\(${Yu},${Yu},${Yu},${ed}\\)$`),UX=new RegExp(`^rgba\\(${ra},${ra},${ra},${ed}\\)$`),qX=new RegExp(`^hsl\\(${ed},${ra},${ra}\\)$`),FX=new RegExp(`^hsla\\(${ed},${ra},${ra},${ed}\\)$`),GN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FE(Od,td,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:YN,formatHex:YN,formatHex8:$X,formatHsl:HX,formatRgb:QN,toString:QN});function YN(){return this.rgb().formatHex()}function $X(){return this.rgb().formatHex8()}function HX(){return i3(this).formatHsl()}function QN(){return this.rgb().formatRgb()}function td(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=VX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?XN(e):n===3?new or(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Pp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Pp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=LX.exec(t))?new or(e[1],e[2],e[3],1):(e=zX.exec(t))?new or(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=BX.exec(t))?Pp(e[1],e[2],e[3],e[4]):(e=UX.exec(t))?Pp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qX.exec(t))?JN(e[1],e[2]/100,e[3]/100,1):(e=FX.exec(t))?JN(e[1],e[2]/100,e[3]/100,e[4]):GN.hasOwnProperty(t)?XN(GN[t]):t==="transparent"?new or(NaN,NaN,NaN,0):null}function XN(t){return new or(t>>16&255,t>>8&255,t&255,1)}function Pp(t,e,n,r){return r<=0&&(t=e=n=NaN),new or(t,e,n,r)}function KX(t){return t instanceof Od||(t=td(t)),t?(t=t.rgb(),new or(t.r,t.g,t.b,t.opacity)):new or}function Zw(t,e,n,r){return arguments.length===1?KX(t):new or(t,e,n,r??1)}function or(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}FE(or,Zw,r3(Od,{brighter(t){return t=t==null?Jg:Math.pow(Jg,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jh:Math.pow(Jh,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new or(pl(this.r),pl(this.g),pl(this.b),ey(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WN,formatHex:WN,formatHex8:GX,formatRgb:ZN,toString:ZN}));function WN(){return`#${ol(this.r)}${ol(this.g)}${ol(this.b)}`}function GX(){return`#${ol(this.r)}${ol(this.g)}${ol(this.b)}${ol((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZN(){const t=ey(this.opacity);return`${t===1?"rgb(":"rgba("}${pl(this.r)}, ${pl(this.g)}, ${pl(this.b)}${t===1?")":`, ${t})`}`}function ey(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ol(t){return t=pl(t),(t<16?"0":"")+t.toString(16)}function JN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new gi(t,e,n,r)}function i3(t){if(t instanceof gi)return new gi(t.h,t.s,t.l,t.opacity);if(t instanceof Od||(t=td(t)),!t)return new gi;if(t instanceof gi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,f=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=f<.5?s+i:2-s-i,l*=60):c=f>0&&f<1?0:l,new gi(l,c,f,t.opacity)}function YX(t,e,n,r){return arguments.length===1?i3(t):new gi(t,e,n,r??1)}function gi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}FE(gi,YX,r3(Od,{brighter(t){return t=t==null?Jg:Math.pow(Jg,t),new gi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jh:Math.pow(Jh,t),new gi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new or(hx(t>=240?t-240:t+120,i,r),hx(t,i,r),hx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new gi(eP(this.h),Dp(this.s),Dp(this.l),ey(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ey(this.opacity);return`${t===1?"hsl(":"hsla("}${eP(this.h)}, ${Dp(this.s)*100}%, ${Dp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function eP(t){return t=(t||0)%360,t<0?t+360:t}function Dp(t){return Math.max(0,Math.min(1,t||0))}function hx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $E=t=>()=>t;function QX(t,e){return function(n){return t+n*e}}function XX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function WX(t){return(t=+t)==1?a3:function(e,n){return n-e?XX(e,n,t):$E(isNaN(e)?n:e)}}function a3(t,e){var n=e-t;return n?QX(t,n):$E(isNaN(t)?e:t)}const tP=(function t(e){var n=WX(e);function r(i,s){var l=n((i=Zw(i)).r,(s=Zw(s)).r),c=n(i.g,s.g),f=n(i.b,s.b),d=a3(i.opacity,s.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=f(m),i.opacity=d(m),i+""}}return r.gamma=t,r})(1);function ZX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function JX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function eW(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Mc(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function tW(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ty(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function nW(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Mc(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Jw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dx=new RegExp(Jw.source,"g");function rW(t){return function(){return t}}function iW(t){return function(e){return t(e)+""}}function aW(t,e){var n=Jw.lastIndex=dx.lastIndex=0,r,i,s,l=-1,c=[],f=[];for(t=t+"",e=e+"";(r=Jw.exec(t))&&(i=dx.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:ty(r,i)})),n=dx.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?f[0]?iW(f[0].x):rW(e):(e=f.length,function(d){for(var m=0,p;m<e;++m)c[(p=f[m]).i]=p.x(d);return c.join("")})}function Mc(t,e){var n=typeof e,r;return e==null||n==="boolean"?$E(e):(n==="number"?ty:n==="string"?(r=td(e))?(e=r,tP):aW:e instanceof td?tP:e instanceof Date?tW:JX(e)?ZX:Array.isArray(e)?eW:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?nW:ty)(t,e)}function HE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function sW(t,e){e===void 0&&(e=t,t=Mc);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function oW(t){return function(){return t}}function ny(t){return+t}var nP=[0,1];function Yn(t){return t}function e1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:oW(isNaN(e)?NaN:.5)}function lW(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function uW(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=e1(i,r),s=n(l,s)):(r=e1(r,i),s=n(s,l)),function(c){return s(r(c))}}function cW(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=e1(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var f=Id(t,c,1,r)-1;return s[f](i[f](c))}}function Cd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function yv(){var t=nP,e=nP,n=Mc,r,i,s,l=Yn,c,f,d;function m(){var b=Math.min(t.length,e.length);return l!==Yn&&(l=lW(t[0],t[b-1])),c=b>2?cW:uW,f=d=null,p}function p(b){return b==null||isNaN(b=+b)?s:(f||(f=c(t.map(r),e,n)))(r(l(b)))}return p.invert=function(b){return l(i((d||(d=c(e,t.map(r),ty)))(b)))},p.domain=function(b){return arguments.length?(t=Array.from(b,ny),m()):t.slice()},p.range=function(b){return arguments.length?(e=Array.from(b),m()):e.slice()},p.rangeRound=function(b){return e=Array.from(b),n=HE,m()},p.clamp=function(b){return arguments.length?(l=b?!0:Yn,m()):l!==Yn},p.interpolate=function(b){return arguments.length?(n=b,m()):n},p.unknown=function(b){return arguments.length?(s=b,p):s},function(b,_){return r=b,i=_,m()}}function KE(){return yv()(Yn,Yn)}function fW(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ry(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function bc(t){return t=ry(Math.abs(t)),t?t[1]:NaN}function hW(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),s.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function dW(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var mW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nd(t){if(!(e=mW.exec(t)))throw new Error("invalid format: "+t);var e;return new GE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nd.prototype=GE.prototype;function GE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}GE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pW(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var iy;function gW(t,e){var n=ry(t,e);if(!n)return iy=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(iy=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ry(t,Math.max(0,e+s-1))[0]}function rP(t,e){var n=ry(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const iP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:fW,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rP(t*100,e),r:rP,s:gW,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aP(t){return t}var sP=Array.prototype.map,oP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yW(t){var e=t.grouping===void 0||t.thousands===void 0?aP:hW(sP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?aP:dW(sP.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(p,b){p=nd(p);var _=p.fill,S=p.align,E=p.sign,T=p.symbol,C=p.zero,k=p.width,M=p.comma,F=p.precision,B=p.trim,U=p.type;U==="n"?(M=!0,U="g"):iP[U]||(F===void 0&&(F=12),B=!0,U="g"),(C||_==="0"&&S==="=")&&(C=!0,_="0",S="=");var R=(b&&b.prefix!==void 0?b.prefix:"")+(T==="$"?n:T==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():""),N=(T==="$"?r:/[%p]/.test(U)?l:"")+(b&&b.suffix!==void 0?b.suffix:""),D=iP[U],z=/[defgprs%]/.test(U);F=F===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function j(L){var q=R,ye=N,Ce,Z,ue;if(U==="c")ye=D(L)+ye,L="";else{L=+L;var be=L<0||1/L<0;if(L=isNaN(L)?f:D(Math.abs(L),F),B&&(L=pW(L)),be&&+L==0&&E!=="+"&&(be=!1),q=(be?E==="("?E:c:E==="-"||E==="("?"":E)+q,ye=(U==="s"&&!isNaN(L)&&iy!==void 0?oP[8+iy/3]:"")+ye+(be&&E==="("?")":""),z){for(Ce=-1,Z=L.length;++Ce<Z;)if(ue=L.charCodeAt(Ce),48>ue||ue>57){ye=(ue===46?i+L.slice(Ce+1):L.slice(Ce))+ye,L=L.slice(0,Ce);break}}}M&&!C&&(L=e(L,1/0));var Ie=q.length+L.length+ye.length,ie=Ie<k?new Array(k-Ie+1).join(_):"";switch(M&&C&&(L=e(ie+L,ie.length?k-ye.length:1/0),ie=""),S){case"<":L=q+L+ye+ie;break;case"=":L=q+ie+L+ye;break;case"^":L=ie.slice(0,Ie=ie.length>>1)+q+L+ye+ie.slice(Ie);break;default:L=ie+q+L+ye;break}return s(L)}return j.toString=function(){return p+""},j}function m(p,b){var _=Math.max(-8,Math.min(8,Math.floor(bc(b)/3)))*3,S=Math.pow(10,-_),E=d((p=nd(p),p.type="f",p),{suffix:oP[8+_/3]});return function(T){return E(S*T)}}return{format:d,formatPrefix:m}}var Mp,YE,s3;vW({thousands:",",grouping:[3],currency:["$",""]});function vW(t){return Mp=yW(t),YE=Mp.format,s3=Mp.formatPrefix,Mp}function bW(t){return Math.max(0,-bc(Math.abs(t)))}function _W(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bc(e)/3)))*3-bc(Math.abs(t)))}function xW(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bc(e)-bc(t))+1}function o3(t,e,n,r){var i=Xw(t,e,n),s;switch(r=nd(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=_W(i,l))&&(r.precision=s),s3(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=xW(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=bW(i))&&(r.precision=s-(r.type==="%")*2);break}}return YE(r)}function fo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Yw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return o3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],f,d,m=10;for(c<l&&(d=l,l=c,c=d,d=i,i=s,s=d);m-- >0;){if(d=Qw(l,c,n),d===f)return r[i]=l,r[s]=c,e(r);if(d>0)l=Math.floor(l/d)*d,c=Math.ceil(c/d)*d;else if(d<0)l=Math.ceil(l*d)/d,c=Math.floor(c*d)/d;else break;f=d}return t},t}function l3(){var t=KE();return t.copy=function(){return Cd(t,l3())},Jr.apply(t,arguments),fo(t)}function u3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ny),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return u3(t).unknown(e)},t=arguments.length?Array.from(t,ny):[0,1],fo(n)}function c3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function lP(t){return Math.log(t)}function uP(t){return Math.exp(t)}function wW(t){return-Math.log(-t)}function EW(t){return-Math.exp(-t)}function SW(t){return isFinite(t)?+("1e"+t):t<0?0:t}function TW(t){return t===10?SW:t===Math.E?Math.exp:e=>Math.pow(t,e)}function AW(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function cP(t){return(e,n)=>-t(-e,n)}function QE(t){const e=t(lP,uP),n=e.domain;let r=10,i,s;function l(){return i=AW(r),s=TW(r),n()[0]<0?(i=cP(i),s=cP(s),t(wW,EW)):t(lP,uP),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let d=f[0],m=f[f.length-1];const p=m<d;p&&([d,m]=[m,d]);let b=i(d),_=i(m),S,E;const T=c==null?10:+c;let C=[];if(!(r%1)&&_-b<T){if(b=Math.floor(b),_=Math.ceil(_),d>0){for(;b<=_;++b)for(S=1;S<r;++S)if(E=b<0?S/s(-b):S*s(b),!(E<d)){if(E>m)break;C.push(E)}}else for(;b<=_;++b)for(S=r-1;S>=1;--S)if(E=b>0?S/s(-b):S*s(b),!(E<d)){if(E>m)break;C.push(E)}C.length*2<T&&(C=Yw(d,m,T))}else C=Yw(b,_,Math.min(_-b,T)).map(s);return p?C.reverse():C},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=nd(f)).precision==null&&(f.trim=!0),f=YE(f)),c===1/0)return f;const d=Math.max(1,r*c/e.ticks().length);return m=>{let p=m/s(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=d?f(m):""}},e.nice=()=>n(c3(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function f3(){const t=QE(yv()).domain([1,10]);return t.copy=()=>Cd(t,f3()).base(t.base()),Jr.apply(t,arguments),t}function fP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function hP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function XE(t){var e=1,n=t(fP(e),hP(e));return n.constant=function(r){return arguments.length?t(fP(e=+r),hP(e)):e},fo(n)}function h3(){var t=XE(yv());return t.copy=function(){return Cd(t,h3()).constant(t.constant())},Jr.apply(t,arguments)}function dP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function IW(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function OW(t){return t<0?-t*t:t*t}function WE(t){var e=t(Yn,Yn),n=1;function r(){return n===1?t(Yn,Yn):n===.5?t(IW,OW):t(dP(n),dP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},fo(e)}function ZE(){var t=WE(yv());return t.copy=function(){return Cd(t,ZE()).exponent(t.exponent())},Jr.apply(t,arguments),t}function CW(){return ZE.apply(null,arguments).exponent(.5)}function mP(t){return Math.sign(t)*t*t}function RW(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function d3(){var t=KE(),e=[0,1],n=!1,r;function i(s){var l=RW(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(mP(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,ny)).map(mP)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return d3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Jr.apply(i,arguments),fo(i)}function m3(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=MX(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Id(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Ys),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return m3().domain(t).range(e).unknown(r)},Jr.apply(s,arguments)}function p3(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[Id(r,f,0,n)]:s}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return p3().domain([t,e]).range(i).unknown(s)},Jr.apply(fo(l),arguments)}function g3(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Id(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return g3().domain(t).range(e).unknown(n)},Jr.apply(i,arguments)}const mx=new Date,px=new Date;function bn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const f=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return f;let d;do f.push(d=new Date(+s)),e(s,c),t(s);while(d<s&&s<l);return f},i.filter=s=>bn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(mx.setTime(+s),px.setTime(+l),t(mx),t(px),Math.floor(n(mx,px))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const ay=bn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ay.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?bn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ay);ay.range;const Na=1e3,Gr=Na*60,Pa=Gr*60,$a=Pa*24,JE=$a*7,pP=$a*30,gx=$a*365,ll=bn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Na)},(t,e)=>(e-t)/Na,t=>t.getUTCSeconds());ll.range;const eS=bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Na)},(t,e)=>{t.setTime(+t+e*Gr)},(t,e)=>(e-t)/Gr,t=>t.getMinutes());eS.range;const tS=bn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Gr)},(t,e)=>(e-t)/Gr,t=>t.getUTCMinutes());tS.range;const nS=bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Na-t.getMinutes()*Gr)},(t,e)=>{t.setTime(+t+e*Pa)},(t,e)=>(e-t)/Pa,t=>t.getHours());nS.range;const rS=bn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Pa)},(t,e)=>(e-t)/Pa,t=>t.getUTCHours());rS.range;const Rd=bn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gr)/$a,t=>t.getDate()-1);Rd.range;const vv=bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$a,t=>t.getUTCDate()-1);vv.range;const y3=bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$a,t=>Math.floor(t/$a));y3.range;function kl(t){return bn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Gr)/JE)}const bv=kl(0),sy=kl(1),NW=kl(2),PW=kl(3),_c=kl(4),DW=kl(5),MW=kl(6);bv.range;sy.range;NW.range;PW.range;_c.range;DW.range;MW.range;function Vl(t){return bn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/JE)}const _v=Vl(0),oy=Vl(1),jW=Vl(2),kW=Vl(3),xc=Vl(4),VW=Vl(5),LW=Vl(6);_v.range;oy.range;jW.range;kW.range;xc.range;VW.range;LW.range;const iS=bn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());iS.range;const aS=bn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());aS.range;const Ha=bn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ha.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ha.range;const Ka=bn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ka.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ka.range;function v3(t,e,n,r,i,s){const l=[[ll,1,Na],[ll,5,5*Na],[ll,15,15*Na],[ll,30,30*Na],[s,1,Gr],[s,5,5*Gr],[s,15,15*Gr],[s,30,30*Gr],[i,1,Pa],[i,3,3*Pa],[i,6,6*Pa],[i,12,12*Pa],[r,1,$a],[r,2,2*$a],[n,1,JE],[e,1,pP],[e,3,3*pP],[t,1,gx]];function c(d,m,p){const b=m<d;b&&([d,m]=[m,d]);const _=p&&typeof p.range=="function"?p:f(d,m,p),S=_?_.range(d,+m+1):[];return b?S.reverse():S}function f(d,m,p){const b=Math.abs(m-d)/p,_=BE(([,,T])=>T).right(l,b);if(_===l.length)return t.every(Xw(d/gx,m/gx,p));if(_===0)return ay.every(Math.max(Xw(d,m,p),1));const[S,E]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return S.every(E)}return[c,f]}const[zW,BW]=v3(Ka,aS,_v,y3,rS,tS),[UW,qW]=v3(Ha,iS,bv,Rd,nS,eS);function yx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function vx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ah(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function FW(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,d=sh(i),m=oh(i),p=sh(s),b=oh(s),_=sh(l),S=oh(l),E=sh(c),T=oh(c),C=sh(f),k=oh(f),M={a:ue,A:be,b:Ie,B:ie,c:null,d:xP,e:xP,f:hZ,g:wZ,G:SZ,H:uZ,I:cZ,j:fZ,L:b3,m:dZ,M:mZ,p:$,q:ee,Q:SP,s:TP,S:pZ,u:gZ,U:yZ,V:vZ,w:bZ,W:_Z,x:null,X:null,y:xZ,Y:EZ,Z:TZ,"%":EP},F={a:fe,A:de,b:_e,B:Pe,c:null,d:wP,e:wP,f:CZ,g:zZ,G:UZ,H:AZ,I:IZ,j:OZ,L:x3,m:RZ,M:NZ,p:Se,q:Et,Q:SP,s:TP,S:PZ,u:DZ,U:MZ,V:jZ,w:kZ,W:VZ,x:null,X:null,y:LZ,Y:BZ,Z:qZ,"%":EP},B={a:z,A:j,b:L,B:q,c:ye,d:bP,e:bP,f:aZ,g:vP,G:yP,H:_P,I:_P,j:tZ,L:iZ,m:eZ,M:nZ,p:D,q:JW,Q:oZ,s:lZ,S:rZ,u:YW,U:QW,V:XW,w:GW,W:WW,x:Ce,X:Z,y:vP,Y:yP,Z:ZW,"%":sZ};M.x=U(n,M),M.X=U(r,M),M.c=U(e,M),F.x=U(n,F),F.X=U(r,F),F.c=U(e,F);function U(oe,ke){return function(qe){var me=[],Ft=-1,$e=0,dn=oe.length,$t,ur,ts;for(qe instanceof Date||(qe=new Date(+qe));++Ft<dn;)oe.charCodeAt(Ft)===37&&(me.push(oe.slice($e,Ft)),(ur=gP[$t=oe.charAt(++Ft)])!=null?$t=oe.charAt(++Ft):ur=$t==="e"?" ":"0",(ts=ke[$t])&&($t=ts(qe,ur)),me.push($t),$e=Ft+1);return me.push(oe.slice($e,Ft)),me.join("")}}function R(oe,ke){return function(qe){var me=ah(1900,void 0,1),Ft=N(me,oe,qe+="",0),$e,dn;if(Ft!=qe.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(ke&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?($e=vx(ah(me.y,0,1)),dn=$e.getUTCDay(),$e=dn>4||dn===0?oy.ceil($e):oy($e),$e=vv.offset($e,(me.V-1)*7),me.y=$e.getUTCFullYear(),me.m=$e.getUTCMonth(),me.d=$e.getUTCDate()+(me.w+6)%7):($e=yx(ah(me.y,0,1)),dn=$e.getDay(),$e=dn>4||dn===0?sy.ceil($e):sy($e),$e=Rd.offset($e,(me.V-1)*7),me.y=$e.getFullYear(),me.m=$e.getMonth(),me.d=$e.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),dn="Z"in me?vx(ah(me.y,0,1)).getUTCDay():yx(ah(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(dn+5)%7:me.w+me.U*7-(dn+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,vx(me)):yx(me)}}function N(oe,ke,qe,me){for(var Ft=0,$e=ke.length,dn=qe.length,$t,ur;Ft<$e;){if(me>=dn)return-1;if($t=ke.charCodeAt(Ft++),$t===37){if($t=ke.charAt(Ft++),ur=B[$t in gP?ke.charAt(Ft++):$t],!ur||(me=ur(oe,qe,me))<0)return-1}else if($t!=qe.charCodeAt(me++))return-1}return me}function D(oe,ke,qe){var me=d.exec(ke.slice(qe));return me?(oe.p=m.get(me[0].toLowerCase()),qe+me[0].length):-1}function z(oe,ke,qe){var me=_.exec(ke.slice(qe));return me?(oe.w=S.get(me[0].toLowerCase()),qe+me[0].length):-1}function j(oe,ke,qe){var me=p.exec(ke.slice(qe));return me?(oe.w=b.get(me[0].toLowerCase()),qe+me[0].length):-1}function L(oe,ke,qe){var me=C.exec(ke.slice(qe));return me?(oe.m=k.get(me[0].toLowerCase()),qe+me[0].length):-1}function q(oe,ke,qe){var me=E.exec(ke.slice(qe));return me?(oe.m=T.get(me[0].toLowerCase()),qe+me[0].length):-1}function ye(oe,ke,qe){return N(oe,e,ke,qe)}function Ce(oe,ke,qe){return N(oe,n,ke,qe)}function Z(oe,ke,qe){return N(oe,r,ke,qe)}function ue(oe){return l[oe.getDay()]}function be(oe){return s[oe.getDay()]}function Ie(oe){return f[oe.getMonth()]}function ie(oe){return c[oe.getMonth()]}function $(oe){return i[+(oe.getHours()>=12)]}function ee(oe){return 1+~~(oe.getMonth()/3)}function fe(oe){return l[oe.getUTCDay()]}function de(oe){return s[oe.getUTCDay()]}function _e(oe){return f[oe.getUTCMonth()]}function Pe(oe){return c[oe.getUTCMonth()]}function Se(oe){return i[+(oe.getUTCHours()>=12)]}function Et(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ke=U(oe+="",M);return ke.toString=function(){return oe},ke},parse:function(oe){var ke=R(oe+="",!1);return ke.toString=function(){return oe},ke},utcFormat:function(oe){var ke=U(oe+="",F);return ke.toString=function(){return oe},ke},utcParse:function(oe){var ke=R(oe+="",!0);return ke.toString=function(){return oe},ke}}}var gP={"-":"",_:" ",0:"0"},In=/^\s*\d+/,$W=/^%/,HW=/[\\^$*+?|[\]().{}]/g;function nt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function KW(t){return t.replace(HW,"\\$&")}function sh(t){return new RegExp("^(?:"+t.map(KW).join("|")+")","i")}function oh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function GW(t,e,n){var r=In.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function YW(t,e,n){var r=In.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function QW(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function XW(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function WW(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function yP(t,e,n){var r=In.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function vP(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ZW(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function JW(t,e,n){var r=In.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function eZ(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bP(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tZ(t,e,n){var r=In.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function _P(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function nZ(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rZ(t,e,n){var r=In.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function iZ(t,e,n){var r=In.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function aZ(t,e,n){var r=In.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sZ(t,e,n){var r=$W.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function oZ(t,e,n){var r=In.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function lZ(t,e,n){var r=In.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function xP(t,e){return nt(t.getDate(),e,2)}function uZ(t,e){return nt(t.getHours(),e,2)}function cZ(t,e){return nt(t.getHours()%12||12,e,2)}function fZ(t,e){return nt(1+Rd.count(Ha(t),t),e,3)}function b3(t,e){return nt(t.getMilliseconds(),e,3)}function hZ(t,e){return b3(t,e)+"000"}function dZ(t,e){return nt(t.getMonth()+1,e,2)}function mZ(t,e){return nt(t.getMinutes(),e,2)}function pZ(t,e){return nt(t.getSeconds(),e,2)}function gZ(t){var e=t.getDay();return e===0?7:e}function yZ(t,e){return nt(bv.count(Ha(t)-1,t),e,2)}function _3(t){var e=t.getDay();return e>=4||e===0?_c(t):_c.ceil(t)}function vZ(t,e){return t=_3(t),nt(_c.count(Ha(t),t)+(Ha(t).getDay()===4),e,2)}function bZ(t){return t.getDay()}function _Z(t,e){return nt(sy.count(Ha(t)-1,t),e,2)}function xZ(t,e){return nt(t.getFullYear()%100,e,2)}function wZ(t,e){return t=_3(t),nt(t.getFullYear()%100,e,2)}function EZ(t,e){return nt(t.getFullYear()%1e4,e,4)}function SZ(t,e){var n=t.getDay();return t=n>=4||n===0?_c(t):_c.ceil(t),nt(t.getFullYear()%1e4,e,4)}function TZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nt(e/60|0,"0",2)+nt(e%60,"0",2)}function wP(t,e){return nt(t.getUTCDate(),e,2)}function AZ(t,e){return nt(t.getUTCHours(),e,2)}function IZ(t,e){return nt(t.getUTCHours()%12||12,e,2)}function OZ(t,e){return nt(1+vv.count(Ka(t),t),e,3)}function x3(t,e){return nt(t.getUTCMilliseconds(),e,3)}function CZ(t,e){return x3(t,e)+"000"}function RZ(t,e){return nt(t.getUTCMonth()+1,e,2)}function NZ(t,e){return nt(t.getUTCMinutes(),e,2)}function PZ(t,e){return nt(t.getUTCSeconds(),e,2)}function DZ(t){var e=t.getUTCDay();return e===0?7:e}function MZ(t,e){return nt(_v.count(Ka(t)-1,t),e,2)}function w3(t){var e=t.getUTCDay();return e>=4||e===0?xc(t):xc.ceil(t)}function jZ(t,e){return t=w3(t),nt(xc.count(Ka(t),t)+(Ka(t).getUTCDay()===4),e,2)}function kZ(t){return t.getUTCDay()}function VZ(t,e){return nt(oy.count(Ka(t)-1,t),e,2)}function LZ(t,e){return nt(t.getUTCFullYear()%100,e,2)}function zZ(t,e){return t=w3(t),nt(t.getUTCFullYear()%100,e,2)}function BZ(t,e){return nt(t.getUTCFullYear()%1e4,e,4)}function UZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?xc(t):xc.ceil(t),nt(t.getUTCFullYear()%1e4,e,4)}function qZ(){return"+0000"}function EP(){return"%"}function SP(t){return+t}function TP(t){return Math.floor(+t/1e3)}var Pu,E3,S3;FZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FZ(t){return Pu=FW(t),E3=Pu.format,Pu.parse,S3=Pu.utcFormat,Pu.utcParse,Pu}function $Z(t){return new Date(t)}function HZ(t){return t instanceof Date?+t:+new Date(+t)}function sS(t,e,n,r,i,s,l,c,f,d){var m=KE(),p=m.invert,b=m.domain,_=d(".%L"),S=d(":%S"),E=d("%I:%M"),T=d("%I %p"),C=d("%a %d"),k=d("%b %d"),M=d("%B"),F=d("%Y");function B(U){return(f(U)<U?_:c(U)<U?S:l(U)<U?E:s(U)<U?T:r(U)<U?i(U)<U?C:k:n(U)<U?M:F)(U)}return m.invert=function(U){return new Date(p(U))},m.domain=function(U){return arguments.length?b(Array.from(U,HZ)):b().map($Z)},m.ticks=function(U){var R=b();return t(R[0],R[R.length-1],U??10)},m.tickFormat=function(U,R){return R==null?B:d(R)},m.nice=function(U){var R=b();return(!U||typeof U.range!="function")&&(U=e(R[0],R[R.length-1],U??10)),U?b(c3(R,U)):m},m.copy=function(){return Cd(m,sS(t,e,n,r,i,s,l,c,f,d))},m}function KZ(){return Jr.apply(sS(UW,qW,Ha,iS,bv,Rd,nS,eS,ll,E3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GZ(){return Jr.apply(sS(zW,BW,Ka,aS,_v,vv,rS,tS,ll,S3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xv(){var t=0,e=1,n,r,i,s,l=Yn,c=!1,f;function d(p){return p==null||isNaN(p=+p)?f:l(i===0?.5:(p=(s(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(c=!!p,d):c},d.interpolator=function(p){return arguments.length?(l=p,d):l};function m(p){return function(b){var _,S;return arguments.length?([_,S]=b,l=p(_,S),d):[l(0),l(1)]}}return d.range=m(Mc),d.rangeRound=m(HE),d.unknown=function(p){return arguments.length?(f=p,d):f},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function T3(){var t=fo(xv()(Yn));return t.copy=function(){return ho(t,T3())},Ja.apply(t,arguments)}function A3(){var t=QE(xv()).domain([1,10]);return t.copy=function(){return ho(t,A3()).base(t.base())},Ja.apply(t,arguments)}function I3(){var t=XE(xv());return t.copy=function(){return ho(t,I3()).constant(t.constant())},Ja.apply(t,arguments)}function oS(){var t=WE(xv());return t.copy=function(){return ho(t,oS()).exponent(t.exponent())},Ja.apply(t,arguments)}function YZ(){return oS.apply(null,arguments).exponent(.5)}function O3(){var t=[],e=Yn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Id(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ys),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>DX(t,s/r))},n.copy=function(){return O3(e).domain(t)},Ja.apply(n,arguments)}function wv(){var t=0,e=.5,n=1,r=1,i,s,l,c,f,d=Yn,m,p=!1,b;function _(E){return isNaN(E=+E)?b:(E=.5+((E=+m(E))-s)*(r*E<r*s?c:f),d(p?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([t,e,n]=E,i=m(t=+t),s=m(e=+e),l=m(n=+n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(E){return arguments.length?(p=!!E,_):p},_.interpolator=function(E){return arguments.length?(d=E,_):d};function S(E){return function(T){var C,k,M;return arguments.length?([C,k,M]=T,d=sW(E,[C,k,M]),_):[d(0),d(.5),d(1)]}}return _.range=S(Mc),_.rangeRound=S(HE),_.unknown=function(E){return arguments.length?(b=E,_):b},function(E){return m=E,i=E(t),s=E(e),l=E(n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function C3(){var t=fo(wv()(Yn));return t.copy=function(){return ho(t,C3())},Ja.apply(t,arguments)}function R3(){var t=QE(wv()).domain([.1,1,10]);return t.copy=function(){return ho(t,R3()).base(t.base())},Ja.apply(t,arguments)}function N3(){var t=XE(wv());return t.copy=function(){return ho(t,N3()).constant(t.constant())},Ja.apply(t,arguments)}function lS(){var t=WE(wv());return t.copy=function(){return ho(t,lS()).exponent(t.exponent())},Ja.apply(t,arguments)}function QZ(){return lS.apply(null,arguments).exponent(.5)}const ph=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qE,scaleDiverging:C3,scaleDivergingLog:R3,scaleDivergingPow:lS,scaleDivergingSqrt:QZ,scaleDivergingSymlog:N3,scaleIdentity:u3,scaleImplicit:Ww,scaleLinear:l3,scaleLog:f3,scaleOrdinal:UE,scalePoint:kX,scalePow:ZE,scaleQuantile:m3,scaleQuantize:p3,scaleRadial:d3,scaleSequential:T3,scaleSequentialLog:A3,scaleSequentialPow:oS,scaleSequentialQuantile:O3,scaleSequentialSqrt:YZ,scaleSequentialSymlog:I3,scaleSqrt:CW,scaleSymlog:h3,scaleThreshold:g3,scaleTime:KZ,scaleUtc:GZ,tickFormat:o3},Symbol.toStringTag,{value:"Module"}));var mo=t=>t.chartData,uS=te([mo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),P3=(t,e,n,r)=>r?uS(t):mo(t);function Ga(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(vt(e)&&vt(n))return!0}return!1}function AP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function D3(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(vt(n))i=n;else if(typeof n=="function")return;if(vt(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(Ga(l))return l}}function XZ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ga(r))return AP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(je(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&kR.test(i)){var f=kR.exec(i);if(f==null||f[1]==null||e==null)l=void 0;else{var d=+f[1];l=e[0]-d}}else l=e==null?void 0:e[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(je(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&VR.test(s)){var m=VR.exec(s);if(m==null||m[1]==null||e==null)c=void 0;else{var p=+m[1];c=e[1]+p}}else c=e==null?void 0:e[1];var b=[l,c];if(Ga(b))return e==null?b:AP(b,e,n)}}}var jc=1e9,WZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fS,Nt=!0,Wr="[DecimalError] ",gl=Wr+"Invalid argument: ",cS=Wr+"Exponent out of range: ",kc=Math.floor,el=Math.pow,ZZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_r,Tn=1e7,At=7,M3=9007199254740991,ly=kc(M3/At),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*At;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};we.dividedBy=we.div=function(t){return Ma(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,n=e.constructor;return _t(Ma(e,new n(t),0,1),n.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return fn(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(_r))throw Error(Wr+"NaN");if(n.s<1)throw Error(Wr+(n.s?"NaN":"-Infinity"));return n.eq(_r)?new r(0):(Nt=!1,e=Ma(rd(n,s),rd(t,s),s),Nt=!0,_t(e,i))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?V3(e,t):j3(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Wr+"NaN");return n.s?(Nt=!1,e=Ma(n,t,0,1).times(t),Nt=!0,n.minus(e)):_t(new r(n),i)};we.naturalExponential=we.exp=function(){return k3(this)};we.naturalLogarithm=we.ln=function(){return rd(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?j3(e,t):V3(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(gl+t);if(e=fn(i)+1,r=i.d.length-1,n=r*At+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};we.squareRoot=we.sqrt=function(){var t,e,n,r,i,s,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(Wr+"NaN")}for(t=fn(c),Nt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=ea(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=kc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(Ma(c,s,l+2)).times(.5),ea(s.d).slice(0,l)===(e=ea(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(_t(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return Nt=!0,_t(r,n)};we.times=we.mul=function(t){var e,n,r,i,s,l,c,f,d,m=this,p=m.constructor,b=m.d,_=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,f=b.length,d=_.length,f<d&&(s=b,b=_,_=s,l=f,f=d,d=l),s=[],l=f+d,r=l;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)c=s[i]+_[r]*b[i-r-1]+e,s[i--]=c%Tn|0,e=c/Tn|0;s[i]=(s[i]+e)%Tn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Nt?_t(t,p.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(sa(t,0,jc),e===void 0?e=r.rounding:sa(e,0,8),_t(n,t+fn(n)+1,e))};we.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Nl(r,!0):(sa(t,0,jc),e===void 0?e=i.rounding:sa(e,0,8),r=_t(new i(r),t+1,e),n=Nl(r,!0,t+1)),n};we.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Nl(i):(sa(t,0,jc),e===void 0?e=s.rounding:sa(e,0,8),r=_t(new s(i),t+fn(i)+1,e),n=Nl(r.abs(),!1,t+fn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return _t(new e(t),fn(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,n,r,i,s,l,c=this,f=c.constructor,d=12,m=+(t=new f(t));if(!t.s)return new f(_r);if(c=new f(c),!c.s){if(t.s<1)throw Error(Wr+"Infinity");return c}if(c.eq(_r))return c;if(r=f.precision,t.eq(_r))return _t(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=m<0?-m:m)<=M3){for(i=new f(_r),e=Math.ceil(r/At+4),Nt=!1;n%2&&(i=i.times(c),OP(i.d,e)),n=kc(n/2),n!==0;)c=c.times(c),OP(c.d,e);return Nt=!0,t.s<0?new f(_r).div(i):_t(i,r)}}else if(s<0)throw Error(Wr+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Nt=!1,i=t.times(rd(c,r+d)),Nt=!0,i=k3(i),i.s=s,i};we.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=fn(i),r=Nl(i,n<=s.toExpNeg||n>=s.toExpPos)):(sa(t,1,jc),e===void 0?e=s.rounding:sa(e,0,8),i=_t(new s(i),t,e),n=fn(i),r=Nl(i,t<=n||n<=s.toExpNeg,t)),r};we.toSignificantDigits=we.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(sa(t,1,jc),e===void 0?e=r.rounding:sa(e,0,8)),_t(new r(n),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=fn(t),n=t.constructor;return Nl(t,e<=n.toExpNeg||e>=n.toExpPos)};function j3(t,e){var n,r,i,s,l,c,f,d,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Nt?_t(e,p):e;if(f=t.d,d=e.d,l=t.e,i=e.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,c=d.length):(r=d,i=l,c=f.length),l=Math.ceil(p/At),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=f.length,s=d.length,c-s<0&&(s=c,r=d,d=f,f=r),n=0;s;)n=(f[--s]=f[s]+d[s]+n)/Tn|0,f[s]%=Tn;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,Nt?_t(e,p):e}function sa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(gl+t)}function ea(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=At-r.length,n&&(s+=Ls(n)),s+=r;l=t[e],r=l+"",n=At-r.length,n&&(s+=Ls(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ma=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%Tn|0,l=s/Tn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,f;if(s!=l)f=s>l?1:-1;else for(c=f=0;c<s;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Tn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,f,d,m,p,b,_,S,E,T,C,k,M,F,B,U,R,N,D=r.constructor,z=r.s==i.s?1:-1,j=r.d,L=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(Wr+"Division by zero");for(f=r.e-i.e,R=L.length,B=j.length,_=new D(z),S=_.d=[],d=0;L[d]==(j[d]||0);)++d;if(L[d]>(j[d]||0)&&--f,s==null?k=s=D.precision:l?k=s+(fn(r)-fn(i))+1:k=s,k<0)return new D(0);if(k=k/At+2|0,d=0,R==1)for(m=0,L=L[0],k++;(d<B||m)&&k--;d++)M=m*Tn+(j[d]||0),S[d]=M/L|0,m=M%L|0;else{for(m=Tn/(L[0]+1)|0,m>1&&(L=t(L,m),j=t(j,m),R=L.length,B=j.length),F=R,E=j.slice(0,R),T=E.length;T<R;)E[T++]=0;N=L.slice(),N.unshift(0),U=L[0],L[1]>=Tn/2&&++U;do m=0,c=e(L,E,R,T),c<0?(C=E[0],R!=T&&(C=C*Tn+(E[1]||0)),m=C/U|0,m>1?(m>=Tn&&(m=Tn-1),p=t(L,m),b=p.length,T=E.length,c=e(p,E,b,T),c==1&&(m--,n(p,R<b?N:L,b))):(m==0&&(c=m=1),p=L.slice()),b=p.length,b<T&&p.unshift(0),n(E,p,T),c==-1&&(T=E.length,c=e(L,E,R,T),c<1&&(m++,n(E,R<T?N:L,T))),T=E.length):c===0&&(m++,E=[0]),S[d++]=m,c&&E[0]?E[T++]=j[F]||0:(E=[j[F]],T=1);while((F++<B||E[0]!==void 0)&&k--)}return S[0]||S.shift(),_.e=f,_t(_,l?s+fn(_)+1:s)}})();function k3(t,e){var n,r,i,s,l,c,f=0,d=0,m=t.constructor,p=m.precision;if(fn(t)>16)throw Error(cS+fn(t));if(!t.s)return new m(_r);for(Nt=!1,c=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(el(2,d))/Math.LN10*2+5|0,c+=r,n=i=s=new m(_r),m.precision=c;;){if(i=_t(i.times(t),c),n=n.times(++f),l=s.plus(Ma(i,n,c)),ea(l.d).slice(0,c)===ea(s.d).slice(0,c)){for(;d--;)s=_t(s.times(s),c);return m.precision=p,e==null?(Nt=!0,_t(s,p)):s}s=l}}function fn(t){for(var e=t.e*At,n=t.d[0];n>=10;n/=10)e++;return e}function bx(t,e,n){if(e>t.LN10.sd())throw Nt=!0,n&&(t.precision=n),Error(Wr+"LN10 precision limit exceeded");return _t(new t(t.LN10),e)}function Ls(t){for(var e="";t--;)e+="0";return e}function rd(t,e){var n,r,i,s,l,c,f,d,m,p=1,b=10,_=t,S=_.d,E=_.constructor,T=E.precision;if(_.s<1)throw Error(Wr+(_.s?"NaN":"-Infinity"));if(_.eq(_r))return new E(0);if(e==null?(Nt=!1,d=T):d=e,_.eq(10))return e==null&&(Nt=!0),bx(E,d);if(d+=b,E.precision=d,n=ea(S),r=n.charAt(0),s=fn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=ea(_.d),r=n.charAt(0),p++;s=fn(_),r>1?(_=new E("0."+n),s++):_=new E(r+"."+n.slice(1))}else return f=bx(E,d+2,T).times(s+""),_=rd(new E(r+"."+n.slice(1)),d-b).plus(f),E.precision=T,e==null?(Nt=!0,_t(_,T)):_;for(c=l=_=Ma(_.minus(_r),_.plus(_r),d),m=_t(_.times(_),d),i=3;;){if(l=_t(l.times(m),d),f=c.plus(Ma(l,new E(i),d)),ea(f.d).slice(0,d)===ea(c.d).slice(0,d))return c=c.times(2),s!==0&&(c=c.plus(bx(E,d+2,T).times(s+""))),c=Ma(c,new E(p),d),E.precision=T,e==null?(Nt=!0,_t(c,T)):c;c=f,i+=2}}function IP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=kc(n/At),t.d=[],r=(n+1)%At,n<0&&(r+=At),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=At;r<i;)t.d.push(+e.slice(r,r+=At));e=e.slice(r),r=At-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Nt&&(t.e>ly||t.e<-ly))throw Error(cS+n)}else t.s=0,t.e=0,t.d=[0];return t}function _t(t,e,n){var r,i,s,l,c,f,d,m,p=t.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=At,i=e,d=p[m=0];else{if(m=Math.ceil((r+1)/At),s=p.length,m>=s)return t;for(d=s=p[m],l=1;s>=10;s/=10)l++;r%=At,i=r-At+l}if(n!==void 0&&(s=el(10,l-i-1),c=d/s%10|0,f=e<0||p[m+1]!==void 0||d%s,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?d/el(10,l-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(s=fn(t),p.length=1,e=e-s-1,p[0]=el(10,(At-e%At)%At),t.e=kc(-e/At)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,s=1,m--):(p.length=m+1,s=el(10,At-r),p[m]=i>0?(d/el(10,l-i)%el(10,i)|0)*s:0),f)for(;;)if(m==0){(p[0]+=s)==Tn&&(p[0]=1,++t.e);break}else{if(p[m]+=s,p[m]!=Tn)break;p[m--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(Nt&&(t.e>ly||t.e<-ly))throw Error(cS+fn(t));return t}function V3(t,e){var n,r,i,s,l,c,f,d,m,p,b=t.constructor,_=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Nt?_t(e,_):e;if(f=t.d,p=e.d,r=e.e,d=t.e,f=f.slice(),l=d-r,l){for(m=l<0,m?(n=f,l=-l,c=p.length):(n=p,r=d,c=f.length),i=Math.max(Math.ceil(_/At),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(f[i]!=p[i]){m=f[i]<p[i];break}l=0}for(m&&(n=f,f=p,p=n,e.s=-e.s),c=f.length,i=p.length-c;i>0;--i)f[c++]=0;for(i=p.length;i>l;){if(f[--i]<p[i]){for(s=i;s&&f[--s]===0;)f[s]=Tn-1;--f[s],f[i]+=Tn}f[i]-=p[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Nt?_t(e,_):e):new b(0)}function Nl(t,e,n){var r,i=fn(t),s=ea(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ls(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ls(-i-1)+s,n&&(r=n-l)>0&&(s+=Ls(r))):i>=l?(s+=Ls(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Ls(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Ls(r))),t.s<0?"-"+s:s}function OP(t,e){if(t.length>e)return t.length=e,!0}function L3(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(gl+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return IP(l,s.toString())}else if(typeof s!="string")throw Error(gl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,ZZ.test(s))IP(l,s);else throw Error(gl+s)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=L3,i.config=i.set=JZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function JZ(t){if(!t||typeof t!="object")throw Error(Wr+"Object expected");var e,n,r,i=["precision",1,jc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(kc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(gl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gl+n+": "+r);return this}var fS=L3(WZ);_r=new fS(1);const ct=fS;function z3(t){var e;return t===0?e=1:e=Math.floor(new ct(t).abs().log(10).toNumber())+1,e}function B3(t,e,n){for(var r=new ct(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var U3=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},q3=(t,e,n)=>{if(t.lte(0))return new ct(0);var r=z3(t.toNumber()),i=new ct(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new ct(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=c.mul(i);return e?new ct(f.toNumber()):new ct(Math.ceil(f.toNumber()))},eJ=(t,e,n)=>{var r=new ct(1),i=new ct(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new ct(10).pow(z3(t)-1),i=new ct(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new ct(Math.floor(t)))}else t===0?i=new ct(Math.floor((e-1)/2)):n||(i=new ct(Math.floor(t)));for(var l=Math.floor((e-1)/2),c=[],f=0;f<e;f++)c.push(i.add(new ct(f-l).mul(r)).toNumber());return c},F3=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new ct(0),tickMin:new ct(0),tickMax:new ct(0)};var l=q3(new ct(n).sub(e).div(r-1),i,s),c;e<=0&&n>=0?c=new ct(0):(c=new ct(e).add(n).div(2),c=c.sub(new ct(c).mod(l)));var f=Math.ceil(c.sub(e).div(l).toNumber()),d=Math.ceil(new ct(n).sub(c).div(l).toNumber()),m=f+d+1;return m>r?F3(e,n,r,i,s+1):(m<r&&(d=n>0?d+(r-m):d,f=n>0?f:f+(r-m)),{step:l,tickMin:c.sub(new ct(f).mul(l)),tickMax:c.add(new ct(d).mul(l))})},tJ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[c,f]=U3([n,r]);if(c===-1/0||f===1/0){var d=f===1/0?[c,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return n>r?d.reverse():d}if(c===f)return eJ(c,i,s);var{step:m,tickMin:p,tickMax:b}=F3(c,f,l,s,0),_=B3(p,b.add(new ct(.1).mul(m)),m);return n>r?_.reverse():_},nJ=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=U3([r,i]);if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var f=Math.max(n,2),d=q3(new ct(c).sub(l).div(f-1),s,0),m=[...B3(new ct(l),new ct(c),d),c];return s===!1&&(m=m.map(p=>Math.round(p))),r>i?m.reverse():m},rJ=t=>t.rootProps.barCategoryGap,Nd=t=>t.rootProps.stackOffset,$3=t=>t.rootProps.reverseStackOrder,hS=t=>t.options.chartName,dS=t=>t.rootProps.syncId,H3=t=>t.rootProps.syncMethod,mS=t=>t.options.eventEmitter,yi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Yo={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ki={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Ev=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function K3(t,e,n){if(n!=="auto")return n;if(t!=null)return uo(t,e)?"category":"number"}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){iJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iJ(t,e,n){return(e=aJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aJ(t){var e=sJ(t,"string");return typeof e=="symbol"?e:e+""}function sJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RP={allowDataOverflow:Yo.allowDataOverflow,allowDecimals:Yo.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Yo.angleAxisId,includeHidden:!1,name:void 0,reversed:Yo.reversed,scale:Yo.scale,tick:Yo.tick,tickCount:void 0,ticks:void 0,type:Yo.type,unit:void 0},NP={allowDataOverflow:Ki.allowDataOverflow,allowDecimals:Ki.allowDecimals,allowDuplicatedCategory:Ki.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ki.radiusAxisId,includeHidden:Ki.includeHidden,name:void 0,reversed:Ki.reversed,scale:Ki.scale,tick:Ki.tick,tickCount:Ki.tickCount,ticks:void 0,type:Ki.type,unit:void 0},oJ=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},pS=te([oJ,MV],(t,e)=>{var n;if(t!=null)return t;var r=(n=K3(e,"angleAxis",RP.type))!==null&&n!==void 0?n:"category";return uy(uy({},RP),{},{type:r})}),lJ=(t,e)=>t.polarAxis.radiusAxis[e],gS=te([lJ,MV],(t,e)=>{var n;if(t!=null)return t;var r=(n=K3(e,"radiusAxis",NP.type))!==null&&n!==void 0?n:"category";return uy(uy({},NP),{},{type:r})}),Sv=t=>t.polarOptions,yS=te([Wa,Za,An],YV),G3=te([Sv,yS],(t,e)=>{if(t!=null)return Sr(t.innerRadius,e,0)}),Y3=te([Sv,yS],(t,e)=>{if(t!=null)return Sr(t.outerRadius,e,e*.8)}),uJ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Q3=te([Sv],uJ);te([pS,Q3],Ev);var X3=te([yS,G3,Y3],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});te([gS,X3],Ev);var W3=te([Pt,Sv,G3,Y3,Wa,Za],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:f,endAngle:d}=e;return{cx:Sr(l,i,i/2),cy:Sr(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),jt=(t,e)=>e,Pd=(t,e,n)=>n;function Z3(t){return t==null?void 0:t.id}function J3(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(c=>{var f,d=(f=c.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var m=Z3(c);d.forEach((p,b)=>{var _=s==null||i?b:String(Ut(p,s,null)),S=Ut(p,c.dataKey,0),E;l.has(_)?E=l.get(_):E={},Object.assign(E,{[m]:S}),l.set(_,E)})}}),Array.from(l.values())}function vS(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Tv=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Av(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function cJ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var On=t=>{var e=Pt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Vc=t=>t.tooltip.settings.axisId;function fJ(t){if(t in ph)return ph[t]();var e="scale".concat(_d(t));if(e in ph)return ph[e]()}function PP(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var l=i[0],c=i[1];return l<=c?s>=l&&s<=c:s>=c&&s<=l},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,l)=>{var c=t(s);if(c!=null){if(t.bandwidth&&l!==null&&l!==void 0&&l.position){var f=t.bandwidth();switch(l.position){case"middle":c+=f/2;break;case"end":c+=f;break}}return c}}}}function DP(t,e,n){if(typeof t=="function")return PP(t.copy().domain(e).range(n));if(t!=null){var r=fJ(t);if(r!=null)return r.domain(e).range(n),PP(r)}}var e6=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Ga(e)){for(var n,r,i=0;i<e.length;i++){var s=e[i];vt(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){hJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hJ(t,e,n){return(e=dJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dJ(t){var e=mJ(t,"string");return typeof e=="symbol"?e:e+""}function mJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t1=[0,"auto"],pJ={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gJ=(t,e)=>t.cartesianAxis.xAxis[e],po=(t,e)=>{var n=gJ(t,e);return n??pJ},yJ={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:t1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Sd},vJ=(t,e)=>t.cartesianAxis.yAxis[e],go=(t,e)=>{var n=vJ(t,e);return n??yJ},bJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},bS=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??bJ},qt=(t,e,n)=>{switch(e){case"xAxis":return po(t,n);case"yAxis":return go(t,n);case"zAxis":return bS(t,n);case"angleAxis":return pS(t,n);case"radiusAxis":return gS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},_J=(t,e,n)=>{switch(e){case"xAxis":return po(t,n);case"yAxis":return go(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Lc=(t,e,n)=>{switch(e){case"xAxis":return po(t,n);case"yAxis":return go(t,n);case"angleAxis":return pS(t,n);case"radiusAxis":return gS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},t6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function _S(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var xJ=t=>t.graphicalItems.cartesianItems,wJ=te([jt,Pd],_S),xS=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Dd=te([xJ,qt,wJ],xS,{memoizeOptions:{resultEqualityCheck:Av}}),n6=te([Dd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(vS)),r6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),EJ=te([Dd],r6),wS=t=>t.map(e=>e.data).filter(Boolean).flat(1),SJ=te([Dd],wS,{memoizeOptions:{resultEqualityCheck:Av}}),ES=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},SS=te([SJ,P3],ES),TS=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Ut(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Ut(i,r)}))):t.map(r=>({value:r})),Iv=te([SS,qt,Dd],TS);function i6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ng(t){if(qa(t)||t instanceof Date){var e=Number(t);if(vt(e))return e}}function jP(t){if(Array.isArray(t)){var e=[ng(t[0]),ng(t[1])];return Ga(e)?e:void 0}var n=ng(t);if(n!=null)return[n,n]}function Ya(t){return t.map(ng).filter(Zi)}function TJ(t,e,n){return!n||typeof e!="number"||Ua(e)?[]:n.length?Ya(n.flatMap(r=>{var i=Ut(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!vt(s)||!vt(l)))return[e-s,e+l]})):[]}var _n=t=>{var e=On(t),n=Vc(t);return Lc(t,e,n)},Md=te([_n],t=>t==null?void 0:t.dataKey),AJ=te([n6,P3,_n],J3),a6=(t,e,n,r)=>{var i={},s=e.reduce((l,c)=>{if(c.stackId==null)return l;var f=l[c.stackId];return f==null&&(f=[]),f.push(c),l[c.stackId]=f,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[c,f]=l,d=r?[...f].reverse():f,m=d.map(Z3);return[c,{stackedData:eY(t,m,n),graphicalItems:d}]}))},IJ=te([AJ,n6,Nd,$3],a6),s6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=rY(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},OJ=te([qt],t=>t.allowDataOverflow),AS=t=>{var e;if(t==null||!("domain"in t))return t1;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ya(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:t1},IS=te([qt],AS),OS=te([IS,OJ],D3),CJ=te([IJ,mo,jt,OS],s6,{memoizeOptions:{resultEqualityCheck:Tv}}),Ov=t=>t.errorBars,RJ=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>i6(n,r)),fy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},CS=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(c=>{n.forEach(f=>{var d,m,p=(d=r[f.id])===null||d===void 0?void 0:d.filter(C=>i6(i,C)),b=Ut(c,(m=e.dataKey)!==null&&m!==void 0?m:f.dataKey),_=TJ(c,b,p);if(_.length>=2){var S=Math.min(..._),E=Math.max(..._);(s==null||S<s)&&(s=S),(l==null||E>l)&&(l=E)}var T=jP(b);T!=null&&(s=s==null?T[0]:Math.min(s,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(c=>{var f=jP(Ut(c,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),vt(s)&&vt(l))return[s,l]},NJ=te([SS,qt,EJ,Ov,jt],CS,{memoizeOptions:{resultEqualityCheck:Tv}});function PJ(t){var{value:e}=t;if(qa(e)||e instanceof Date)return e}var DJ=(t,e,n)=>{var r=t.map(PJ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&j4(r))?ZV(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},o6=t=>t.referenceElements.dots,zc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),MJ=te([o6,jt,Pd],zc),l6=t=>t.referenceElements.areas,jJ=te([l6,jt,Pd],zc),u6=t=>t.referenceElements.lines,kJ=te([u6,jt,Pd],zc),c6=(t,e)=>{if(t!=null){var n=Ya(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},VJ=te(MJ,jt,c6),f6=(t,e)=>{if(t!=null){var n=Ya(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},LJ=te([jJ,jt],f6);function zJ(t){var e;if(t.x!=null)return Ya([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ya(n)}function BJ(t){var e;if(t.y!=null)return Ya([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ya(n)}var h6=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?zJ(r):BJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},UJ=te([kJ,jt],h6),qJ=te(VJ,UJ,LJ,(t,e,n)=>fy(t,n,e)),RS=(t,e,n,r,i,s,l,c)=>{if(n!=null)return n;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",d=f?fy(r,s,i):fy(s,i);return XZ(e,d,t.allowDataOverflow)},FJ=te([qt,IS,OS,CJ,NJ,qJ,Pt,jt],RS,{memoizeOptions:{resultEqualityCheck:Tv}}),$J=[0,1],NS=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:f}=t,d=uo(e,s);if(d&&c==null){var m;return ZV(0,(m=n==null?void 0:n.length)!==null&&m!==void 0?m:0)}return f==="category"?DJ(r,t,d):i==="expand"?$J:l}},PS=te([qt,Pt,SS,Iv,Nd,jt,FJ],NS);function HJ(t){return t in ph}var d6=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(_d(r));return HJ(s)?s:"point"}}},yo=te([qt,t6,hS],d6);function DS(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?DP(t.scale,n,r):DP(e,n,r)}var MS=(t,e,n)=>{var r=AS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ga(t))return tJ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ga(t))return nJ(t,e.tickCount,e.allowDecimals)}},jS=te([PS,Lc,yo],MS),kS=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ga(e)&&Array.isArray(n)&&n.length>0){var i,s,l=e[0],c=(i=n[0])!==null&&i!==void 0?i:0,f=e[1],d=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,c),Math.max(f,d)]}return e},KJ=te([qt,PS,jS,jt],kS),GJ=te(Iv,qt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ya(t.map(p=>p.value))).sort((p,b)=>p-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var c=0;c<r.length-1;c++){var f=r[c],d=r[c+1];if(!(f==null||d==null)){var m=d-f;n=Math.min(n,m)}}return n/l}}),m6=te(GJ,Pt,rJ,An,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!vt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=Sr(n,t*s),c=t*s/2;return c-l-(c-l)/s*l}return 0}),YJ=(t,e,n)=>{var r=po(t,e);return r==null||typeof r.padding!="string"?0:m6(t,"xAxis",e,n,r.padding)},QJ=(t,e,n)=>{var r=go(t,e);return r==null||typeof r.padding!="string"?0:m6(t,"yAxis",e,n,r.padding)},XJ=te(po,YJ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),WJ=te(go,QJ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),ZJ=te([An,XJ,fv,cv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),JJ=te([An,Pt,WJ,fv,cv,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),jd=(t,e,n,r)=>{var i;switch(e){case"xAxis":return ZJ(t,n,r);case"yAxis":return JJ(t,n,r);case"zAxis":return(i=bS(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Q3(t);case"radiusAxis":return X3(t,n);default:return}},p6=te([qt,jd],Ev),eee=te([yo,KJ],e6),Cv=te([qt,yo,eee,p6],DS);te([Dd,Ov,jt],RJ);function g6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Rv=(t,e)=>e,Nv=(t,e,n)=>n,tee=te(lv,Rv,Nv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(g6)),nee=te(uv,Rv,Nv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(g6)),y6=(t,e)=>({width:t.width,height:e.height}),ree=(t,e)=>{var n=typeof e.width=="number"?e.width:Sd;return{width:n,height:t.height}};te(An,po,y6);var iee=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},aee=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},see=te(Za,An,tee,Rv,Nv,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var f=y6(e,c);l==null&&(l=iee(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;s[c.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),s}),oee=te(Wa,An,nee,Rv,Nv,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var f=ree(e,c);l==null&&(l=aee(e,r,t));var d=r==="left"&&!i||r==="right"&&i;s[c.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),s}),lee=(t,e)=>{var n=po(t,e);if(n!=null)return see(t,n.orientation,n.mirror)};te([An,po,lee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}});var uee=(t,e)=>{var n=go(t,e);if(n!=null)return oee(t,n.orientation,n.mirror)};te([An,go,uee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}});te(An,go,(t,e)=>{var n=typeof e.width=="number"?e.width:Sd;return{width:n,height:t.height}});var v6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,c=uo(t,r),f=e.map(d=>d.value);if(l&&c&&s==="category"&&i&&j4(f))return f}},VS=te([Pt,Iv,qt,jt],v6),b6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=uo(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},LS=te([Pt,Iv,Lc,jt],b6);te([Pt,_J,yo,Cv,VS,LS,jd,jS,jt],(t,e,n,r,i,s,l,c,f)=>{if(e!=null){var d=uo(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:c,range:l,realScaleType:n,scale:r}}});var cee=(t,e,n,r,i,s,l,c,f)=>{if(!(e==null||r==null)){var d=uo(t,f),{type:m,ticks:p,tickCount:b}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=m==="category"&&r.bandwidth?r.bandwidth()/_:0;S=f==="angleAxis"&&s!=null&&s.length>=2?sr(s[0]-s[1])*2*S:S;var E=p||i;return E?E.map((T,C)=>{var k=l?l.indexOf(T):T,M=r.map(k);return vt(M)?{index:C,coordinate:M+S,value:T,offset:S}:null}).filter(Zi):d&&c?c.map((T,C)=>{var k=r.map(T);return vt(k)?{coordinate:k+S,value:T,index:C,offset:S}:null}).filter(Zi):r.ticks?r.ticks(b).map((T,C)=>{var k=r.map(T);return vt(k)?{coordinate:k+S,value:T,index:C,offset:S}:null}).filter(Zi):r.domain().map((T,C)=>{var k=r.map(T);return vt(k)?{coordinate:k+S,value:l?l[T]:T,index:C,offset:S}:null}).filter(Zi)}};te([Pt,Lc,yo,Cv,jS,jd,VS,LS,jt],cee);var fee=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=uo(t,l),{tickCount:f}=e,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?sr(r[0]-r[1])*2*d:d,c&&s?s.map((m,p)=>{var b=n.map(m);return vt(b)?{coordinate:b+d,value:m,index:p,offset:d}:null}).filter(Zi):n.ticks?n.ticks(f).map((m,p)=>{var b=n.map(m);return vt(b)?{coordinate:b+d,value:m,index:p,offset:d}:null}).filter(Zi):n.domain().map((m,p)=>{var b=n.map(m);return vt(b)?{coordinate:b+d,value:i?i[m]:m,index:p,offset:d}:null}).filter(Zi)}};te([Pt,Lc,Cv,jd,VS,LS,jt],fee);te(qt,Cv,(t,e)=>{if(!(t==null||e==null))return cy(cy({},t),{},{scale:e})});var hee=te([qt,yo,PS,p6],DS);te((t,e,n)=>bS(t,n),hee,(t,e)=>{if(!(t==null||e==null))return cy(cy({},t),{},{scale:e})});var dee=te([Pt,lv,uv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_6=t=>t.options.defaultTooltipEventType,x6=t=>t.options.validateTooltipEventTypes;function w6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function zS(t,e){var n=_6(t),r=x6(t);return w6(e,n,r)}function mee(t){return Ue(e=>zS(e,t))}var E6=(t,e)=>{var n,r=Number(e);if(!(Ua(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},pee=t=>t.tooltip.settings,Bs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},gee={itemInteraction:{click:Bs,hover:Bs},axisInteraction:{click:Bs,hover:Bs},keyboardInteraction:Bs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},S6=lr({name:"tooltip",initialState:gee,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Ct()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=bi(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Ct()},removeTooltipEntrySettings:{reducer(t,e){var n=bi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Ct()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:yee,replaceTooltipEntrySettings:vee,removeTooltipEntrySettings:bee,setTooltipSettingsState:_ee,setActiveMouseOverItemIndex:T6,mouseLeaveItem:xee,mouseLeaveChart:A6,setActiveClickItemIndex:wee,setMouseOverAxisIndex:I6,setMouseClickAxisIndex:Eee,setSyncInteraction:n1,setKeyboardInteraction:r1}=S6.actions,See=S6.reducer;function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){Tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tee(t,e,n){return(e=Aee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aee(t){var e=Iee(t,"string");return typeof e=="symbol"?e:e+""}function Iee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oee(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Cee(t){return t.index!=null}var O6=(t,e,n,r)=>{if(e==null)return Bs;var i=Oee(t,e,n);if(i==null)return Bs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Cee(i)){if(s)return jp(jp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return jp(jp({},Bs),{},{coordinate:i.coordinate})};function Ree(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Nee(t,e){var n=Ree(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function Pee(t,e,n){if(n==null||e==null)return!0;var r=Ut(t,e);return r==null||!Ga(n)?!0:Nee(r,n)}var BS=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var s=Number(i);if(!vt(s))return i;var l=0,c=1/0;e.length>0&&(c=e.length-1);var f=Math.max(l,Math.min(s,c)),d=e[f];return d==null||Pee(d,n,r)?String(f):null},C6=(t,e,n,r,i,s,l)=>{if(s!=null){var c=l[0],f=c==null?void 0:c.getPosition(s);if(f!=null)return f;var d=i==null?void 0:i[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},R6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},N6=t=>t.options.tooltipPayloadSearcher,Bc=t=>t.tooltip;function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){Dee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dee(t,e,n){return(e=Mee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mee(t){var e=jee(t,"string");return typeof e=="symbol"?e:e+""}function jee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kee(t,e){return t??e}var P6=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:f,dataStartIndex:d,dataEndIndex:m}=n,p=[];return t.reduce((b,_)=>{var S,{dataDefinedOnItem:E,settings:T}=_,C=kee(E,c),k=Array.isArray(C)?AV(C,d,m):C,M=(S=T==null?void 0:T.dataKey)!==null&&S!==void 0?S:r,F=T==null?void 0:T.nameKey,B;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&l==="axis"?B=MH(k,r,i):B=s(k,e,f,F),Array.isArray(B))B.forEach(R=>{var N=LP(LP({},T),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});b.push(zR({tooltipEntrySettings:N,dataKey:R.dataKey,payload:R.payload,value:Ut(R.payload,R.dataKey),name:R.name}))});else{var U;b.push(zR({tooltipEntrySettings:T,dataKey:M,payload:B,value:Ut(B,M),name:(U=Ut(B,F))!==null&&U!==void 0?U:T==null?void 0:T.name}))}return b},p)}},US=te([_n,t6,hS],d6),Vee=te([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Lee=te([On,Vc],_S),Uc=te([Vee,_n,Lee],xS,{memoizeOptions:{resultEqualityCheck:Av}}),zee=te([Uc],t=>t.filter(vS)),Bee=te([Uc],wS,{memoizeOptions:{resultEqualityCheck:Av}}),qc=te([Bee,mo],ES),Uee=te([zee,mo,_n],J3),qS=te([qc,_n,Uc],TS),D6=te([_n],AS),qee=te([_n],t=>t.allowDataOverflow),M6=te([D6,qee],D3),Fee=te([Uc],t=>t.filter(vS)),$ee=te([Uee,Fee,Nd,$3],a6),Hee=te([$ee,mo,On,M6],s6),Kee=te([Uc],r6),Gee=te([qc,_n,Kee,Ov,On],CS,{memoizeOptions:{resultEqualityCheck:Tv}}),Yee=te([o6,On,Vc],zc),Qee=te([Yee,On],c6),Xee=te([l6,On,Vc],zc),Wee=te([Xee,On],f6),Zee=te([u6,On,Vc],zc),Jee=te([Zee,On],h6),ete=te([Qee,Jee,Wee],fy),tte=te([_n,D6,M6,Hee,Gee,ete,Pt,On],RS),kd=te([_n,Pt,qc,qS,Nd,On,tte],NS),nte=te([kd,_n,US],MS),rte=te([_n,kd,nte,On],kS),j6=t=>{var e=On(t),n=Vc(t),r=!1;return jd(t,e,n,r)},k6=te([_n,j6],Ev),V6=te([_n,US,rte,k6],DS),ite=te([Pt,qS,_n,On],v6),ate=te([Pt,qS,_n,On],b6),ste=(t,e,n,r,i,s,l,c)=>{if(e){var{type:f}=e,d=uo(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=f==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?sr(i[0]-i[1])*2*p:p,d&&l?l.map((b,_)=>{var S=r.map(b);return vt(S)?{coordinate:S+p,value:b,index:_,offset:p}:null}).filter(Zi):r.domain().map((b,_)=>{var S=r.map(b);return vt(S)?{coordinate:S+p,value:s?s[b]:b,index:_,offset:p}:null}).filter(Zi)}}},es=te([Pt,_n,US,V6,j6,ite,ate,On],ste),FS=te([_6,x6,pee],(t,e,n)=>w6(n.shared,t,e)),L6=t=>t.tooltip.settings.trigger,$S=t=>t.tooltip.settings.defaultIndex,Vd=te([Bc,FS,L6,$S],O6),id=te([Vd,qc,Md,kd],BS),z6=te([es,id],E6),B6=te([Vd],t=>{if(t)return t.dataKey}),ote=te([Vd],t=>{if(t)return t.graphicalItemId}),U6=te([Bc,FS,L6,$S],R6),lte=te([Wa,Za,Pt,An,es,$S,U6],C6),ute=te([Vd,lte],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),cte=te([Vd],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),fte=te([U6,id,mo,Md,z6,N6,FS],P6);te([fte],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hte(t,e,n){return(e=dte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dte(t){var e=mte(t,"string");return typeof e=="symbol"?e:e+""}function mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pte=()=>Ue(_n),gte=()=>{var t=pte(),e=Ue(es),n=Ue(V6);return LR(!t||!n?void 0:BP(BP({},t),{},{scale:n}),e)};function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){yte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yte(t,e,n){return(e=vte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vte(t){var e=bte(t,"string");return typeof e=="symbol"?e:e+""}function bte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _te=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},xte=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return Du(Du(Du({},r),cn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,{angle:f}=r;return Du(Du(Du({},r),cn(r.cx,r.cy,c,f)),{},{angle:f,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function wte(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var q6=(t,e,n,r,i)=>{var s,l=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var f,d,m,p,b,_=c>0?(f=n[c-1])===null||f===void 0?void 0:f.coordinate:(d=n[l-1])===null||d===void 0?void 0:d.coordinate,S=(m=n[c])===null||m===void 0?void 0:m.coordinate,E=c>=l-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(b=n[c+1])===null||b===void 0?void 0:b.coordinate,T=void 0;if(!(_==null||S==null||E==null))if(sr(S-_)!==sr(E-S)){var C=[];if(sr(E-S)===sr(i[1]-i[0])){T=E;var k=S+i[1]-i[0];C[0]=Math.min(k,(k+_)/2),C[1]=Math.max(k,(k+_)/2)}else{T=_;var M=E+i[1]-i[0];C[0]=Math.min(S,(M+S)/2),C[1]=Math.max(S,(M+S)/2)}var F=[Math.min(S,(T+S)/2),Math.max(S,(T+S)/2)];if(t>F[0]&&t<=F[1]||t>=C[0]&&t<=C[1]){var B;return(B=n[c])===null||B===void 0?void 0:B.index}}else{var U=Math.min(_,E),R=Math.max(_,E);if(t>(U+S)/2&&t<=(R+S)/2){var N;return(N=n[c])===null||N===void 0?void 0:N.index}}}else if(e)for(var D=0;D<l;D++){var z=e[D];if(z!=null){var j=e[D+1],L=e[D-1];if(D===0&&j!=null&&t<=(z.coordinate+j.coordinate)/2||D===l-1&&L!=null&&t>(z.coordinate+L.coordinate)/2||D>0&&D<l-1&&L!=null&&j!=null&&t>(z.coordinate+L.coordinate)/2&&t<=(z.coordinate+j.coordinate)/2)return z.index}}return-1},Ete=()=>Ue(hS),HS=(t,e)=>e,F6=(t,e,n)=>n,KS=(t,e,n,r)=>r,Ste=te(es,t=>Zy(t,e=>e.coordinate)),GS=te([Bc,HS,F6,KS],O6),YS=te([GS,qc,Md,kd],BS),Tte=(t,e,n)=>{if(e!=null){var r=Bc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},$6=te([Bc,HS,F6,KS],R6),hy=te([Wa,Za,Pt,An,es,KS,$6],C6),Ate=te([GS,hy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),H6=te([es,YS],E6),Ite=te([$6,YS,mo,Md,H6,N6,HS],P6),Ote=te([GS,YS],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Cte=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&wte(t,l)){var c=iY(t,e),f=q6(c,s,i,n,r),d=_te(e,i,f,t);return{activeIndex:String(f),activeCoordinate:d}}},Rte=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var c=hX(t,n);if(c){var f=aY(c,e),d=q6(f,l,s,r,i),m=xte(e,s,d,c);return{activeIndex:String(d),activeCoordinate:m}}}},Nte=(t,e,n,r,i,s,l,c)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Cte(t,e,r,i,s,l,c):Rte(t,e,n,r,i,s,l)},Pte=te(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Dte=te(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(yi)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:cJ}});function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){Mte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mte(t,e,n){return(e=jte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=kte(t,"string");return typeof e=="symbol"?e:e+""}function kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vte={},Lte={zIndexMap:Object.values(yi).reduce((t,e)=>FP(FP({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Vte)},zte=new Set(Object.values(yi));function Bte(t){return zte.has(t)}var K6=lr({name:"zIndex",initialState:Lte,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ct()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Bte(n)&&delete t.zIndexMap[n])},prepare:Ct()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Ct()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Ct()}}}),{registerZIndexPortal:Ute,unregisterZIndexPortal:qte,registerZIndexPortalElement:Fte,unregisterZIndexPortalElement:$te}=K6.actions,Hte=K6.reducer;function Ld(t){var{zIndex:e,children:n}=t,r=LY(),i=r&&e!==void 0&&e!==0,s=co(),l=vn();I.useLayoutEffect(()=>i?(l(Ute({zIndex:e})),()=>{l(qte({zIndex:e}))}):xd,[l,e,i]);var c=Ue(f=>Pte(f,e,s));return i?c?bM.createPortal(n,c):null:n}function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i1.apply(null,arguments)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){Kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kte(t,e,n){return(e=Gte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gte(t){var e=Yte(t,"string");return typeof e=="symbol"?e:e+""}function Yte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qte(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return I.isValidElement(e)?I.cloneElement(e,r):I.createElement(n,r)}function Xte(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:c,cursor:f,tooltipEventType:d,chartName:m}=t,p=n,b=r,_=i;if(!f||!p||m!=="ScatterChart"&&d!=="axis")return null;var S,E,T;if(m==="ScatterChart")S=p,E=AQ,T=yi.cursorLine;else if(m==="BarChart")S=IQ(c,p,s,l),E=GV,T=yi.cursorRectangle;else if(c==="radial"&&L4(p)){var{cx:C,cy:k,radius:M,startAngle:F,endAngle:B}=QV(p);S={cx:C,cy:k,startAngle:F,endAngle:B,innerRadius:M,outerRadius:M},E=WV,T=yi.cursorLine}else S={points:gX(c,p,s)},E=kE,T=yi.cursorLine;var U=typeof f=="object"&&"className"in f?f.className:void 0,R=kp(kp(kp(kp({stroke:"#ccc",pointerEvents:"none"},s),S),gw(f)),{},{payload:b,payloadIndex:_,className:hn("recharts-tooltip-cursor",U)});return I.createElement(Ld,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:T},I.createElement(Qte,{cursor:f,cursorComp:E,cursorProps:R}))}function Wte(t){var e=gte(),n=jY(),r=dv(),i=Ete();return e==null||n==null||r==null||i==null?null:I.createElement(Xte,i1({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var G6=I.createContext(null),Zte=()=>I.useContext(G6),_x={exports:{}},HP;function Jte(){return HP||(HP=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,m){this.fn=f,this.context=d,this.once=m||!1}function s(f,d,m,p,b){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new i(m,p||f,b),S=n?n+d:d;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],_]:f._events[S].push(_):(f._events[S]=_,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],m,p;if(this._eventsCount===0)return d;for(p in m=this._events)e.call(m,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},c.prototype.listeners=function(d){var m=n?n+d:d,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,_=p.length,S=new Array(_);b<_;b++)S[b]=p[b].fn;return S},c.prototype.listenerCount=function(d){var m=n?n+d:d,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(d,m,p,b,_,S){var E=n?n+d:d;if(!this._events[E])return!1;var T=this._events[E],C=arguments.length,k,M;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,p),!0;case 4:return T.fn.call(T.context,m,p,b),!0;case 5:return T.fn.call(T.context,m,p,b,_),!0;case 6:return T.fn.call(T.context,m,p,b,_,S),!0}for(M=1,k=new Array(C-1);M<C;M++)k[M-1]=arguments[M];T.fn.apply(T.context,k)}else{var F=T.length,B;for(M=0;M<F;M++)switch(T[M].once&&this.removeListener(d,T[M].fn,void 0,!0),C){case 1:T[M].fn.call(T[M].context);break;case 2:T[M].fn.call(T[M].context,m);break;case 3:T[M].fn.call(T[M].context,m,p);break;case 4:T[M].fn.call(T[M].context,m,p,b);break;default:if(!k)for(B=1,k=new Array(C-1);B<C;B++)k[B-1]=arguments[B];T[M].fn.apply(T[M].context,k)}}return!0},c.prototype.on=function(d,m,p){return s(this,d,m,p,!1)},c.prototype.once=function(d,m,p){return s(this,d,m,p,!0)},c.prototype.removeListener=function(d,m,p,b){var _=n?n+d:d;if(!this._events[_])return this;if(!m)return l(this,_),this;var S=this._events[_];if(S.fn)S.fn===m&&(!b||S.once)&&(!p||S.context===p)&&l(this,_);else{for(var E=0,T=[],C=S.length;E<C;E++)(S[E].fn!==m||b&&!S[E].once||p&&S[E].context!==p)&&T.push(S[E]);T.length?this._events[_]=T.length===1?T[0]:T:l(this,_)}return this},c.prototype.removeAllListeners=function(d){var m;return d?(m=n?n+d:d,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(_x)),_x.exports}var ene=Jte();const tne=oa(ene);var ad=new tne,a1="recharts.syncEvent.tooltip",KP="recharts.syncEvent.brush",nne=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Ua(n))return t[n]}},rne={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Y6=lr({name:"options",initialState:rne,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ine=Y6.reducer,{createEventEmitter:ane}=Y6.actions;function sne(t){return t.tooltip.syncInteraction}var one={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Q6=lr({name:"chartData",initialState:one,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:GP,setDataStartEndIndexes:lne,setComputedData:ioe}=Q6.actions,une=Q6.reducer,cne=["x","y"];function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fne(t,e,n){return(e=hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hne(t){var e=dne(t,"string");return typeof e=="symbol"?e:e+""}function dne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mne(t,e){if(t==null)return{};var n,r,i=pne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gne(){var t=Ue(dS),e=Ue(mS),n=vn(),r=Ue(H3),i=Ue(es),s=dv(),l=hv(),c=Ue(f=>f.rootProps.className);I.useEffect(()=>{if(t==null)return xd;var f=(d,m,p)=>{if(e!==p&&t===d){if(r==="index"){var b;if(l&&m!==null&&m!==void 0&&(b=m.payload)!==null&&b!==void 0&&b.coordinate&&m.payload.sourceViewBox){var _=m.payload.coordinate,{x:S,y:E}=_,T=mne(_,cne),{x:C,y:k,width:M,height:F}=m.payload.sourceViewBox,B=Mu(Mu({},T),{},{x:l.x+(M?(S-C)/M:0)*l.width,y:l.y+(F?(E-k)/F:0)*l.height});n(Mu(Mu({},m),{},{payload:Mu(Mu({},m.payload),{},{coordinate:B})}))}else n(m);return}if(i!=null){var U;if(typeof r=="function"){var R={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},N=r(i,R);U=i[N]}else r==="value"&&(U=i.find(Z=>String(Z.value)===m.payload.label));var{coordinate:D}=m.payload;if(U==null||m.payload.active===!1||D==null||l==null){n(n1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:j}=D,L=Math.min(z,l.x+l.width),q=Math.min(j,l.y+l.height),ye={x:s==="horizontal"?U.coordinate:L,y:s==="horizontal"?q:U.coordinate},Ce=n1({active:m.payload.active,coordinate:ye,dataKey:m.payload.dataKey,index:String(U.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(Ce)}}};return ad.on(a1,f),()=>{ad.off(a1,f)}},[c,n,e,t,r,i,s,l])}function yne(){var t=Ue(dS),e=Ue(mS),n=vn();I.useEffect(()=>{if(t==null)return xd;var r=(i,s,l)=>{e!==l&&t===i&&n(lne(s))};return ad.on(KP,r),()=>{ad.off(KP,r)}},[n,e,t])}function vne(){var t=vn();I.useEffect(()=>{t(ane())},[t]),gne(),yne()}function bne(t,e,n,r,i,s){var l=Ue(_=>Tte(_,t,e)),c=Ue(mS),f=Ue(dS),d=Ue(H3),m=Ue(sne),p=m==null?void 0:m.active,b=hv();I.useEffect(()=>{if(!p&&f!=null&&c!=null){var _=n1({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});ad.emit(a1,f,_,c)}},[p,n,l,i,r,c,f,d,s,b])}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){_ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ne(t,e,n){return(e=xne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xne(t){var e=wne(t,"string");return typeof e=="symbol"?e:e+""}function wne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ene(t){return t.dataKey}function Sne(t,e){return I.isValidElement(t)?I.cloneElement(t,e):typeof t=="function"?I.createElement(t,e):I.createElement(aQ,e)}var WP=[],Tne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function s1(t){var e,n,r=ua(t,Tne),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:f,filterNull:d,isAnimationActive:m,offset:p,payloadUniqBy:b,position:_,reverseDirection:S,useTranslate3d:E,wrapperStyle:T,cursor:C,shared:k,trigger:M,defaultIndex:F,portal:B,axisId:U}=r,R=vn(),N=typeof F=="number"?String(F):F;I.useEffect(()=>{R(_ee({shared:k,trigger:M,axisId:U,active:i,defaultIndex:N}))},[R,k,M,U,i,N]);var D=hv(),z=qV(),j=mee(k),{activeIndex:L,isActive:q}=(e=Ue(Se=>Ote(Se,j,M,N)))!==null&&e!==void 0?e:{},ye=Ue(Se=>Ite(Se,j,M,N)),Ce=Ue(Se=>H6(Se,j,M,N)),Z=Ue(Se=>Ate(Se,j,M,N)),ue=ye,be=Zte(),Ie=(n=i??q)!==null&&n!==void 0?n:!1,[ie,$]=KK([ue,Ie]),ee=j==="axis"?Ce:void 0;bne(j,M,Z,ee,L,Ie);var fe=B??be;if(fe==null||D==null||j==null)return null;var de=ue??WP;Ie||(de=WP),d&&de.length&&(de=vK(de.filter(Se=>Se.value!=null&&(Se.hide!==!0||r.includeHidden)),b,Ene));var _e=de.length>0,Pe=I.createElement(hQ,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:m,active:Ie,coordinate:Z,hasPayload:_e,offset:p,position:_,reverseDirection:S,useTranslate3d:E,viewBox:D,wrapperStyle:T,lastBoundingBox:ie,innerRef:$,hasPortalFromProps:!!B},Sne(f,XP(XP({},r),{},{payload:de,label:ee,active:Ie,activeIndex:L,coordinate:Z,accessibilityLayer:z})));return I.createElement(I.Fragment,null,bM.createPortal(Pe,fe),Ie&&I.createElement(Wte,{cursor:C,tooltipEventType:j,coordinate:Z,payload:de,index:L}))}var wc=t=>null;wc.displayName="Cell";function Ane(t,e,n){return(e=Ine(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ine(t){var e=One(t,"string");return typeof e=="symbol"?e:e+""}function One(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Cne{constructor(e){Ane(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){Nne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nne(t,e,n){return(e=Pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=Dne(t,"string");return typeof e=="symbol"?e:e+""}function Dne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mne={cacheSize:2e3,enableCache:!0},X6=Rne({},Mne),JP=new Cne(X6.cacheSize),jne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eD="recharts_measurement_span";function kne(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(c)}var tD=(t,e)=>{try{var n=document.getElementById(eD);n||(n=document.createElement("span"),n.setAttribute("id",eD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,jne,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},nD=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||VE.isSsr)return{width:0,height:0};if(!X6.enableCache)return tD(e,n);var r=kne(e,n),i=JP.get(r);if(i)return i;var s=tD(e,n);return JP.set(r,s),s},W6;function Vne(t,e,n){return(e=Lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lne(t){var e=zne(t,"string");return typeof e=="symbol"?e:e+""}function zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Une=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fne=["cm","mm","pt","pc","in","Q","px"];function $ne(t){return Fne.includes(t)}var qu="NaN";function Hne(t,e){return t*qne[e]}class kn{static parse(e){var n,[,r,i]=(n=Une.exec(e))!==null&&n!==void 0?n:[];return r==null?kn.NaN:new kn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ua(e)&&(this.unit=""),n!==""&&!Bne.test(n)&&(this.num=NaN,this.unit=""),$ne(n)&&(this.num=Hne(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new kn(NaN,""):new kn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new kn(NaN,""):new kn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new kn(NaN,""):new kn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new kn(NaN,""):new kn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ua(this.num)}}W6=kn;Vne(kn,"NaN",new W6(NaN,""));function Z6(t){if(t==null||t.includes(qu))return qu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=rD.exec(e))!==null&&n!==void 0?n:[],l=kn.parse(r??""),c=kn.parse(s??""),f=i==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return qu;e=e.replace(rD,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,m,p,b]=(d=iD.exec(e))!==null&&d!==void 0?d:[],_=kn.parse(m??""),S=kn.parse(b??""),E=p==="+"?_.add(S):_.subtract(S);if(E.isNaN())return qu;e=e.replace(iD,E.toString())}return e}var aD=/\(([^()]*)\)/;function Kne(t){for(var e=t,n;(n=aD.exec(e))!=null;){var[,r]=n;e=e.replace(aD,Z6(r))}return e}function Gne(t){var e=t.replace(/\s+/g,"");return e=Kne(e),e=Z6(e),e}function Yne(t){try{return Gne(t)}catch{return qu}}function xx(t){var e=Yne(t.slice(5,-1));return e===qu?"":e}var Qne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Xne=["dx","dy","angle","className","breakAll"];function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o1.apply(null,arguments)}function sD(t,e){if(t==null)return{};var n,r,i=Wne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var J6=/[ \f\n\r\t\v\u2028\u2029]+/,eL=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Ir(e)||(n?i=e.toString().split(""):i=e.toString().split(J6));var s=i.map(c=>({word:c,width:nD(c,r).width})),l=n?0:nD("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Zne(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var tL=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:c}=s,f=i[i.length-1];if(f&&c!=null&&(e==null||r||f.width+c+n<Number(e)))f.words.push(l),f.width+=c+n;else{var d={words:[l],width:c};i.push(d)}return i},[]),nL=t=>t.reduce((e,n)=>e.width>n.width?e:n),Jne="",oD=(t,e,n,r,i,s,l,c)=>{var f=t.slice(0,e),d=eL({breakAll:n,style:r,children:f+Jne});if(!d)return[!1,[]];var m=tL(d.wordsWithComputedWidth,s,l,c),p=m.length>i||nL(m).width>Number(s);return[p,m]},ere=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:c,breakAll:f}=t,d=je(s),m=String(l),p=tL(e,r,n,i);if(!d||i)return p;var b=p.length>s||nL(p).width>Number(r);if(!b)return p;for(var _=0,S=m.length-1,E=0,T;_<=S&&E<=m.length-1;){var C=Math.floor((_+S)/2),k=C-1,[M,F]=oD(m,k,f,c,s,r,n,i),[B]=oD(m,C,f,c,s,r,n,i);if(!M&&!B&&(_=C+1),M&&B&&(S=C-1),!M&&B){T=F;break}E++}return T||p},lD=t=>{var e=Ir(t)?[]:t.toString().split(J6);return[{words:e,width:void 0}]},tre=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!VE.isSsr){var c,f,d=eL({breakAll:s,children:r,style:i});if(d){var{wordsWithComputedWidth:m,spaceWidth:p}=d;c=m,f=p}else return lD(r);return ere({breakAll:s,children:r,maxLines:l,style:i},c,f,e,!!n)}return lD(r)},rL="#808080",nre={angle:0,breakAll:!1,capHeight:"0.71em",fill:rL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},QS=I.forwardRef((t,e)=>{var n=ua(t,nre),{x:r,y:i,lineHeight:s,capHeight:l,fill:c,scaleToFit:f,textAnchor:d,verticalAnchor:m}=n,p=sD(n,Qne),b=I.useMemo(()=>tre({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:f,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,f,p.style,p.width]),{dx:_,dy:S,angle:E,className:T,breakAll:C}=p,k=sD(p,Xne);if(!qa(r)||!qa(i)||b.length===0)return null;var M=Number(r)+(je(_)?_:0),F=Number(i)+(je(S)?S:0);if(!vt(M)||!vt(F))return null;var B;switch(m){case"start":B=xx("calc(".concat(l,")"));break;case"middle":B=xx("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:B=xx("calc(".concat(b.length-1," * -").concat(s,")"));break}var U=[],R=b[0];if(f&&R!=null){var N=R.width,{width:D}=p;U.push("scale(".concat(je(D)&&je(N)?D/N:1,")"))}return E&&U.push("rotate(".concat(E,", ").concat(M,", ").concat(F,")")),U.length&&(k.transform=U.join(" ")),I.createElement("text",o1({},Qr(k),{ref:e,x:M,y:F,className:hn("recharts-text",T),textAnchor:d,fill:c.includes("url")?rL:c}),b.map((z,j)=>{var L=z.words.join(C?"":" ");return I.createElement("tspan",{x:M,dy:j===0?B:s,key:"".concat(L,"-").concat(j)},L)}))});QS.displayName="Text";function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rre(t,e,n){return(e=ire(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ire(t){var e=are(t,"string");return typeof e=="symbol"?e:e+""}function are(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sre=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:s,y:l,height:c,upperWidth:f,lowerWidth:d}=DE(e),m=s,p=s+(f-d)/2,b=(m+p)/2,_=(f+d)/2,S=m+f/2,E=c>=0?1:-1,T=E*r,C=E>0?"end":"start",k=E>0?"start":"end",M=f>=0?1:-1,F=M*r,B=M>0?"end":"start",U=M>0?"start":"end",R=i;if(n==="top"){var N={x:m+f/2,y:l-T,horizontalAnchor:"middle",verticalAnchor:C};return R&&(N.height=Math.max(l-R.y,0),N.width=f),N}if(n==="bottom"){var D={x:p+d/2,y:l+c+T,horizontalAnchor:"middle",verticalAnchor:k};return R&&(D.height=Math.max(R.y+R.height-(l+c),0),D.width=d),D}if(n==="left"){var z={x:b-F,y:l+c/2,horizontalAnchor:B,verticalAnchor:"middle"};return R&&(z.width=Math.max(z.x-R.x,0),z.height=c),z}if(n==="right"){var j={x:b+_+F,y:l+c/2,horizontalAnchor:U,verticalAnchor:"middle"};return R&&(j.width=Math.max(R.x+R.width-j.x,0),j.height=c),j}var L=R?{width:_,height:c}:{};return n==="insideLeft"?Gi({x:b+F,y:l+c/2,horizontalAnchor:U,verticalAnchor:"middle"},L):n==="insideRight"?Gi({x:b+_-F,y:l+c/2,horizontalAnchor:B,verticalAnchor:"middle"},L):n==="insideTop"?Gi({x:m+f/2,y:l+T,horizontalAnchor:"middle",verticalAnchor:k},L):n==="insideBottom"?Gi({x:p+d/2,y:l+c-T,horizontalAnchor:"middle",verticalAnchor:C},L):n==="insideTopLeft"?Gi({x:m+F,y:l+T,horizontalAnchor:U,verticalAnchor:k},L):n==="insideTopRight"?Gi({x:m+f-F,y:l+T,horizontalAnchor:B,verticalAnchor:k},L):n==="insideBottomLeft"?Gi({x:p+F,y:l+c-T,horizontalAnchor:U,verticalAnchor:C},L):n==="insideBottomRight"?Gi({x:p+d-F,y:l+c-T,horizontalAnchor:B,verticalAnchor:C},L):n&&typeof n=="object"&&(je(n.x)||Il(n.x))&&(je(n.y)||Il(n.y))?Gi({x:s+Sr(n.x,_),y:l+Sr(n.y,c),horizontalAnchor:"end",verticalAnchor:"end"},L):Gi({x:S,y:l+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},L)},ore=["labelRef"],lre=["content"];function cD(t,e){if(t==null)return{};var n,r,i=ure(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ure(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cre(t,e,n){return(e=fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){var e=hre(t,"string");return typeof e=="symbol"?e:e+""}function hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dy(){return dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dy.apply(null,arguments)}var dre=I.createContext(null),mre=()=>{var t=I.useContext(dre),e=hv();return t||(e?DE(e):void 0)},pre=I.createContext(null),gre=()=>{var t=I.useContext(pre),e=Ue(W3);return t||e},yre=t=>{var{value:e,formatter:n}=t,r=Ir(t.children)?e:t.children;return typeof n=="function"?n(r):r},vre=t=>t!=null&&typeof t=="function",bre=(t,e)=>{var n=sr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},_re=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:c,cy:f,innerRadius:d,outerRadius:m,startAngle:p,endAngle:b,clockWise:_}=i,S=(d+m)/2,E=bre(p,b),T=E>=0?1:-1,C,k;switch(e){case"insideStart":C=p+T*s,k=_;break;case"insideEnd":C=b-T*s,k=!_;break;case"end":C=b+T*s,k=_;break;default:throw new Error("Unsupported position ".concat(e))}k=E<=0?k:!k;var M=cn(c,f,S,C),F=cn(c,f,S,C+(k?1:-1)*359),B="M".concat(M.x,",").concat(M.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(k?0:1,`,
    `).concat(F.x,",").concat(F.y),U=Ir(t.id)?Hh("recharts-radial-line-"):t.id;return I.createElement("text",dy({},r,{dominantBaseline:"central",className:hn("recharts-radial-bar-label",l)}),I.createElement("defs",null,I.createElement("path",{id:U,d:B})),I.createElement("textPath",{xlinkHref:"#".concat(U)},n))},xre=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:c,endAngle:f}=t,d=(c+f)/2;if(n==="outside"){var{x:m,y:p}=cn(r,i,l+e,d);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:_,y:S}=cn(r,i,b,d);return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},rg=t=>t!=null&&"cx"in t&&je(t.cx),wre={angle:0,offset:5,zIndex:yi.label,position:"middle",textBreakAll:!1};function Ere(t){if(!rg(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function iL(t){var e=ua(t,wre),{viewBox:n,parentViewBox:r,position:i,value:s,children:l,content:c,className:f="",textBreakAll:d,labelRef:m}=e,p=gre(),b=mre(),_=i==="center"?b:p??b,S,E,T;n==null?S=_:rg(n)?S=n:S=DE(n);var C=Ere(S);if(!S||Ir(s)&&Ir(l)&&!I.isValidElement(c)&&typeof c!="function")return null;var k=Vp(Vp({},e),{},{viewBox:S});if(I.isValidElement(c)){var{labelRef:M}=k,F=cD(k,ore);return I.cloneElement(c,F)}if(typeof c=="function"){var{content:B}=k,U=cD(k,lre);if(E=I.createElement(c,U),I.isValidElement(E))return E}else E=yre(e);var R=Qr(e);if(rg(S)){if(i==="insideStart"||i==="insideEnd"||i==="end")return _re(e,i,E,R,S);T=xre(S,e.offset,e.position)}else{if(!C)return null;var N=sre({viewBox:C,position:i,offset:e.offset,parentViewBox:rg(r)?void 0:r});T=Vp(Vp({x:N.x,y:N.y,textAnchor:N.horizontalAnchor,verticalAnchor:N.verticalAnchor},N.width!==void 0?{width:N.width}:{}),N.height!==void 0?{height:N.height}:{})}return I.createElement(Ld,{zIndex:e.zIndex},I.createElement(QS,dy({ref:m,className:hn("recharts-label",f)},R,T,{textAnchor:Zne(R.textAnchor)?R.textAnchor:T.textAnchor,breakAll:d}),E))}iL.displayName="Label";var wx={},Ex={},hD;function Sre(){return hD||(hD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Ex)),Ex}var Sx={},dD;function Tre(){return dD||(dD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Sx)),Sx}var mD;function Are(){return mD||(mD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sre(),n=Tre(),r=EE();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(wx)),wx}var Tx,pD;function Ire(){return pD||(pD=1,Tx=Are().last),Tx}var Ore=Ire();const Cre=oa(Ore);var Rre=["valueAccessor"],Nre=["dataKey","clockWise","id","textBreakAll","zIndex"];function my(){return my=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},my.apply(null,arguments)}function gD(t,e){if(t==null)return{};var n,r,i=Pre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Dre=t=>Array.isArray(t.value)?Cre(t.value):t.value,aL=I.createContext(void 0);aL.Provider;var sL=I.createContext(void 0),Mre=sL.Provider;function jre(){return I.useContext(aL)}function kre(){return I.useContext(sL)}function ig(t){var{valueAccessor:e=Dre}=t,n=gD(t,Rre),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:c}=n,f=gD(n,Nre),d=jre(),m=kre(),p=d||m;return!p||!p.length?null:I.createElement(Ld,{zIndex:c??yi.label},I.createElement(to,{className:"recharts-label-list"},p.map((b,_)=>{var S,E=Ir(r)?e(b,_):Ut(b.payload,r),T=Ir(s)?{}:{id:"".concat(s,"-").concat(_)};return I.createElement(iL,my({key:"label-".concat(_)},Qr(b),f,T,{fill:(S=n.fill)!==null&&S!==void 0?S:b.fill,parentViewBox:b.parentViewBox,value:E,textBreakAll:l,viewBox:b.viewBox,index:_,zIndex:0}))})))}ig.displayName="LabelList";function Vre(t){var{label:e}=t;return e?e===!0?I.createElement(ig,{key:"labelList-implicit"}):I.isValidElement(e)||vre(e)?I.createElement(ig,{key:"labelList-implicit",content:e}):typeof e=="object"?I.createElement(ig,my({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var oL=t=>t.graphicalItems.polarItems,Lre=te([jt,Pd],_S),Pv=te([oL,qt,Lre],xS),zre=te([Pv],wS),Dv=te([zre,uS],ES),Bre=te([Dv,qt,Pv],TS);te([Dv,qt,Pv],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,l=Ut(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Ut(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var yD=()=>{},Ure=te([Dv,qt,Pv,Ov,jt],CS),qre=te([qt,IS,OS,yD,Ure,yD,Pt,jt],RS),lL=te([qt,Pt,Dv,Bre,Nd,jt,qre],NS),Fre=te([lL,Lc,yo],MS),$re=te([qt,lL,Fre,jt],kS);te([yo,$re],e6);var Hre={radiusAxis:{},angleAxis:{}},uL=lr({name:"polarAxis",initialState:Hre,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:aoe,removeRadiusAxis:soe,addAngleAxis:ooe,removeAngleAxis:loe}=uL.actions,Kre=uL.reducer;function Gre(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){Yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yre(t,e,n){return(e=Qre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qre(t){var e=Xre(t,"string");return typeof e=="symbol"?e:e+""}function Xre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wre=(t,e)=>e,XS=te([oL,Wre],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Zre=[],WS=(t,e,n)=>(n==null?void 0:n.length)===0?Zre:n,cL=te([uS,XS,WS],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>bD(bD({},e.presentationProps),s.props))),i!=null)return i}}),Jre=te([cL,XS,WS],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,l=Ut(r,e.nameKey,e.name),c;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=e.fill,{value:IV(l,e.dataKey),color:c,payload:r,type:e.legendType}})}),eie=te([cL,XS,WS,An],(t,e,n,r)=>{if(!(e==null||t==null))return rae({offset:r,pieSettings:e,displayedData:t,cells:n})}),Ax={exports:{}},yt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _D;function tie(){if(_D)return yt;_D=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case t:switch(E=E.type,E){case n:case i:case r:case f:case d:case b:return E;default:switch(E=E&&E.$$typeof,E){case l:case c:case p:case m:return E;case s:return E;default:return T}}case e:return T}}}return yt.ContextConsumer=s,yt.ContextProvider=l,yt.Element=t,yt.ForwardRef=c,yt.Fragment=n,yt.Lazy=p,yt.Memo=m,yt.Portal=e,yt.Profiler=i,yt.StrictMode=r,yt.Suspense=f,yt.SuspenseList=d,yt.isContextConsumer=function(E){return S(E)===s},yt.isContextProvider=function(E){return S(E)===l},yt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},yt.isForwardRef=function(E){return S(E)===c},yt.isFragment=function(E){return S(E)===n},yt.isLazy=function(E){return S(E)===p},yt.isMemo=function(E){return S(E)===m},yt.isPortal=function(E){return S(E)===e},yt.isProfiler=function(E){return S(E)===i},yt.isStrictMode=function(E){return S(E)===r},yt.isSuspense=function(E){return S(E)===f},yt.isSuspenseList=function(E){return S(E)===d},yt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===p||E.$$typeof===m||E.$$typeof===l||E.$$typeof===s||E.$$typeof===c||E.$$typeof===_||E.getModuleId!==void 0)},yt.typeOf=S,yt}var xD;function nie(){return xD||(xD=1,Ax.exports=tie()),Ax.exports}var rie=nie(),wD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",ED=null,Ix=null,fL=t=>{if(t===ED&&Array.isArray(Ix))return Ix;var e=[];return I.Children.forEach(t,n=>{Ir(n)||(rie.isFragment(n)?e=e.concat(fL(n.props.children)):e.push(n))}),Ix=e,ED=t,e};function hL(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>wD(i)):r=[wD(e)],fL(t).forEach(i=>{var s=$h(i,"type.displayName")||$h(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var Ox={},SD;function iie(){return SD||(SD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Ox)),Ox}var Cx,TD;function aie(){return TD||(TD=1,Cx=iie().isPlainObject),Cx}var sie=aie();const oie=oa(sie);var AD,ID,OD,CD,RD;function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){lie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lie(t,e,n){return(e=uie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uie(t){var e=cie(t,"string");return typeof e=="symbol"?e:e+""}function cie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(null,arguments)}function lh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var DD=(t,e,n,r,i)=>{var s=n-r,l;return l=Lt(AD||(AD=lh(["M ",",",""])),t,e),l+=Lt(ID||(ID=lh(["L ",",",""])),t+n,e),l+=Lt(OD||(OD=lh(["L ",",",""])),t+n-s/2,e+i),l+=Lt(CD||(CD=lh(["L ",",",""])),t+n-s/2-r,e+i),l+=Lt(RD||(RD=lh(["L ",","," Z"])),t,e),l},fie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hie=t=>{var e=ua(t,fie),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:c}=e,{animationEasing:f,animationDuration:d,animationBegin:m,isUpdateAnimationActive:p}=e,b=I.useRef(null),[_,S]=I.useState(-1),E=I.useRef(i),T=I.useRef(s),C=I.useRef(l),k=I.useRef(n),M=I.useRef(r),F=zE(t,"trapezoid-");if(I.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ye=b.current.getTotalLength();ye&&S(ye)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var B=hn("recharts-trapezoid",c);if(!p)return I.createElement("g",null,I.createElement("path",py({},Qr(e),{className:B,d:DD(n,r,i,s,l)})));var U=E.current,R=T.current,N=C.current,D=k.current,z=M.current,j="0px ".concat(_===-1?1:_,"px"),L="".concat(_,"px 0px"),q=FV(["strokeDasharray"],d,f);return I.createElement(LE,{animationId:F,key:F,canBegin:_>0,duration:d,easing:f,isActive:p,begin:m},ye=>{var Ce=di(U,i,ye),Z=di(R,s,ye),ue=di(N,l,ye),be=di(D,n,ye),Ie=di(z,r,ye);b.current&&(E.current=Ce,T.current=Z,C.current=ue,k.current=be,M.current=Ie);var ie=ye>0?{transition:q,strokeDasharray:L}:{strokeDasharray:j};return I.createElement("path",py({},Qr(e),{className:B,d:DD(be,Ie,Ce,Z,ue),ref:b,style:PD(PD({},ie),e.style)}))})},die=["option","shapeType","activeClassName"];function mie(t,e){if(t==null)return{};var n,r,i=pie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function MD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(n),!0).forEach(function(r){gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gie(t,e,n){return(e=yie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yie(t){var e=vie(t,"string");return typeof e=="symbol"?e:e+""}function vie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bie(t,e){return gy(gy({},e),t)}function _ie(t,e){return t==="symbols"}function jD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return I.createElement(GV,n);case"trapezoid":return I.createElement(hie,n);case"sector":return I.createElement(WV,n);case"symbols":if(_ie(e))return I.createElement(V4,n);break;case"curve":return I.createElement(kE,n);default:return null}}function xie(t){return I.isValidElement(t)?t.props:t}function wie(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=mie(t,die),s;if(I.isValidElement(e))s=I.cloneElement(e,gy(gy({},i),xie(e)));else if(typeof e=="function")s=e(i,i.index);else if(oie(e)&&typeof e!="boolean"){var l=bie(e,i);s=I.createElement(jD,{shapeType:n,elementProps:l})}else{var c=i;s=I.createElement(jD,{shapeType:n,elementProps:c})}return i.isActive?I.createElement(to,{className:r},s):s}var Eie=(t,e,n)=>{var r=vn();return(i,s)=>l=>{t==null||t(i,s,l),r(T6({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Sie=t=>{var e=vn();return(n,r)=>i=>{t==null||t(n,r,i),e(xee())}},Tie=(t,e,n)=>{var r=vn();return(i,s)=>l=>{t==null||t(i,s,l),r(wee({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Aie(t){var{tooltipEntrySettings:e}=t,n=vn(),r=co(),i=I.useRef(null);return I.useLayoutEffect(()=>{r||(i.current===null?n(yee(e)):i.current!==e&&n(vee({prev:i.current,next:e})),i.current=e)},[e,n,r]),I.useLayoutEffect(()=>()=>{i.current&&(n(bee(i.current)),i.current=null)},[n]),null}function Iie(t){var{legendPayload:e}=t,n=vn(),r=Ue(Pt),i=I.useRef(null);return I.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(WY(e)):i.current!==e&&n(ZY({prev:i.current,next:e})),i.current=e)},[n,r,e]),I.useLayoutEffect(()=>()=>{i.current&&(n(JY(i.current)),i.current=null)},[n]),null}var Rx,Oie=()=>{var[t]=I.useState(()=>Hh("uid-"));return t},Cie=(Rx=hz.useId)!==null&&Rx!==void 0?Rx:Oie;function Rie(t,e){var n=Cie();return e||(t?"".concat(t,"-").concat(n):n)}var Nie=I.createContext(void 0),Pie=t=>{var{id:e,type:n,children:r}=t,i=Rie("recharts-".concat(n),e);return I.createElement(Nie.Provider,{value:i},r(i))},Die={cartesianItems:[],polarItems:[]},dL=lr({name:"graphicalItems",initialState:Die,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Ct()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=bi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Ct()},removeCartesianGraphicalItem:{reducer(t,e){var n=bi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Ct()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Ct()},removePolarGraphicalItem:{reducer(t,e){var n=bi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Ct()}}}),{addCartesianGraphicalItem:uoe,replaceCartesianGraphicalItem:coe,removeCartesianGraphicalItem:foe,addPolarGraphicalItem:Mie,removePolarGraphicalItem:jie}=dL.actions,kie=dL.reducer;function Vie(t){var e=vn();return I.useLayoutEffect(()=>(e(Mie(t)),()=>{e(jie(t))}),[e,t]),null}var Lie=["key"],zie=["onMouseEnter","onClick","onMouseLeave"],Bie=["id"],Uie=["id"];function kD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(n),!0).forEach(function(r){qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qie(t,e,n){return(e=Fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fie(t){var e=$ie(t,"string");return typeof e=="symbol"?e:e+""}function $ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ro(){return ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ro.apply(null,arguments)}function Mv(t,e){if(t==null)return{};var n,r,i=Hie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kie(t){var e=I.useMemo(()=>hL(t.children,wc),[t.children]),n=Ue(r=>Jre(r,t.id,e));return n==null?null:I.createElement(Iie,{legendPayload:n})}var Gie=I.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:c,hide:f,tooltipType:d,id:m}=t,p={dataDefinedOnItem:r.map(b=>b.tooltipPayload),getPosition:b=>{var _;return(_=r[Number(b)])===null||_===void 0?void 0:_.tooltipPosition},settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:IV(c,e),hide:f,type:d,color:l,unit:"",graphicalItemId:m}};return I.createElement(Aie,{tooltipEntrySettings:p})}),Yie=(t,e)=>t>e?"start":t<e?"end":"middle",Qie=(t,e,n)=>Sr(typeof e=="function"?e(t):e,n,n*.8),Xie=(t,e,n)=>{var{top:r,left:i,width:s,height:l}=e,c=YV(s,l),f=i+Sr(t.cx,s,s/2),d=r+Sr(t.cy,l,l/2),m=Sr(t.innerRadius,c,0),p=Qie(n,t.outerRadius,c),b=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:d,innerRadius:m,outerRadius:p,maxRadius:b}},Wie=(t,e)=>{var n=sr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Zie=(t,e)=>{if(I.isValidElement(t))return I.cloneElement(t,e);if(typeof t=="function")return t(e);var n=hn("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=Mv(e,Lie);return I.createElement(kE,ro({},i,{type:"linear",className:n}))},Jie=(t,e,n)=>{if(I.isValidElement(t))return I.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),I.isValidElement(r)))return r;var i=hn("recharts-pie-label-text",Gre(t));return I.createElement(QS,ro({},e,{alignmentBaseline:"middle",className:i}),r)};function eae(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!e)return null;var c=gc(n),f=gw(i),d=gw(s),m=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((b,_)=>{var S=(b.startAngle+b.endAngle)/2,E=cn(b.cx,b.cy,b.outerRadius+m,S),T=zt(zt(zt(zt({},c),b),{},{stroke:"none"},f),{},{index:_,textAnchor:Yie(E.x,b.cx)},E),C=zt(zt(zt(zt({},c),b),{},{fill:"none",stroke:b.fill},d),{},{index:_,points:[cn(b.cx,b.cy,b.outerRadius,S),E],key:"line"});return I.createElement(Ld,{zIndex:yi.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(_)},I.createElement(to,null,s&&Zie(s,C),Jie(i,T,Ut(b,l))))});return I.createElement(to,{className:"recharts-pie-labels"},p)}function tae(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?I.createElement(Vre,{label:i}):I.createElement(eae,{sectors:e,props:n,showLabels:r})}function nae(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:l}=t,c=Ue(id),f=Ue(B6),d=Ue(ote),{onMouseEnter:m,onClick:p,onMouseLeave:b}=i,_=Mv(i,zie),S=Eie(m,i.dataKey,l),E=Sie(b),T=Tie(p,i.dataKey,l);return e==null||e.length===0?null:I.createElement(I.Fragment,null,e.map((C,k)=>{if((C==null?void 0:C.startAngle)===0&&(C==null?void 0:C.endAngle)===0&&e.length!==1)return null;var M=d==null||d===l,F=String(k)===c&&(f==null||i.dataKey===f)&&M,B=c?r:null,U=n&&F?n:B,R=zt(zt({},C),{},{stroke:C.stroke,tabIndex:-1,[CV]:k,[RV]:l});return I.createElement(to,ro({key:"sector-".concat(C==null?void 0:C.startAngle,"-").concat(C==null?void 0:C.endAngle,"-").concat(C.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},GH(_,C,k),{onMouseEnter:S(C,k),onMouseLeave:E(C,k),onClick:T(C,k)}),I.createElement(wie,ro({option:s??U,index:k,shapeType:"sector",isActive:F},R)))}))}function rae(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:l,startAngle:c,endAngle:f,dataKey:d,nameKey:m,tooltipType:p}=n,b=Math.abs(n.minAngle),_=Wie(c,f),S=Math.abs(_),E=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,T=r.filter(U=>Ut(U,d,0)!==0).length,C=(S>=360?T:T-1)*E,k=S-T*b-C,M=r.reduce((U,R)=>{var N=Ut(R,d,0);return U+(je(N)?N:0)},0),F;if(M>0){var B;F=r.map((U,R)=>{var N=Ut(U,d,0),D=Ut(U,m,R),z=Xie(n,s,U),j=(je(N)?N:0)/M,L,q=zt(zt({},U),i&&i[R]&&i[R].props);R?L=B.endAngle+sr(_)*E*(N!==0?1:0):L=c;var ye=L+sr(_)*((N!==0?b:0)+j*k),Ce=(L+ye)/2,Z=(z.innerRadius+z.outerRadius)/2,ue=[{name:D,value:N,payload:q,dataKey:d,type:p,graphicalItemId:n.id}],be=cn(z.cx,z.cy,Z,Ce);return B=zt(zt(zt(zt({},n.presentationProps),{},{percent:j,cornerRadius:typeof l=="string"?parseFloat(l):l,name:D,tooltipPayload:ue,midAngle:Ce,middleRadius:Z,tooltipPosition:be},q),z),{},{value:N,dataKey:d,startAngle:L,endAngle:ye,payload:q,paddingAngle:sr(_)*E}),B})}return F}function iae(t){var{showLabels:e,sectors:n,children:r}=t,i=I.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return I.createElement(Mre,{value:e?i:void 0},r)}function aae(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:f,activeShape:d,inactiveShape:m,onAnimationStart:p,onAnimationEnd:b}=e,_=zE(e,"recharts-pie-"),S=n.current,[E,T]=I.useState(!1),C=I.useCallback(()=>{typeof b=="function"&&b(),T(!1)},[b]),k=I.useCallback(()=>{typeof p=="function"&&p(),T(!0)},[p]);return I.createElement(iae,{showLabels:!E,sectors:i},I.createElement(LE,{animationId:_,begin:l,duration:c,isActive:s,easing:f,onAnimationStart:k,onAnimationEnd:C,key:_},M=>{var F,B=[],U=i&&i[0],R=(F=U==null?void 0:U.startAngle)!==null&&F!==void 0?F:0;return i==null||i.forEach((N,D)=>{var z=S&&S[D],j=D>0?$h(N,"paddingAngle",0):0;if(z){var L=di(z.endAngle-z.startAngle,N.endAngle-N.startAngle,M),q=zt(zt({},N),{},{startAngle:R+j,endAngle:R+L+j});B.push(q),R=q.endAngle}else{var{endAngle:ye,startAngle:Ce}=N,Z=di(0,ye-Ce,M),ue=zt(zt({},N),{},{startAngle:R+j,endAngle:R+Z+j});B.push(ue),R=ue.endAngle}}),n.current=B,I.createElement(to,null,I.createElement(nae,{sectors:B,activeShape:d,inactiveShape:m,allOtherPieProps:e,shape:e.shape,id:r}))}),I.createElement(tae,{showLabels:!E,sectors:i,props:e}),e.children)}var sae={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:yi.area};function oae(t){var{id:e}=t,n=Mv(t,Bie),{hide:r,className:i,rootTabIndex:s}=t,l=I.useMemo(()=>hL(t.children,wc),[t.children]),c=Ue(m=>eie(m,e,l)),f=I.useRef(null),d=hn("recharts-pie",i);return r||c==null?(f.current=null,I.createElement(to,{tabIndex:s,className:d})):I.createElement(Ld,{zIndex:t.zIndex},I.createElement(Gie,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:c,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),I.createElement(to,{tabIndex:s,className:d},I.createElement(aae,{props:zt(zt({},n),{},{sectors:c}),previousSectorsRef:f,id:e})))}function yy(t){var e=ua(t,sae),{id:n}=e,r=Mv(e,Uie),i=gc(r);return I.createElement(Pie,{id:n,type:"pie"},s=>I.createElement(I.Fragment,null,I.createElement(Vie,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),I.createElement(Kie,ro({},r,{id:s})),I.createElement(oae,ro({},r,{id:s}))))}yy.displayName="Pie";function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){lae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lae(t,e,n){return(e=uae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uae(t){var e=cae(t,"string");return typeof e=="symbol"?e:e+""}function cae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fae={xAxis:{},yAxis:{},zAxis:{}},mL=lr({name:"cartesianAxis",initialState:fae,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Ct()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Ct()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Ct()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Ct()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Ct()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Ct()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Ct()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Ct()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Ct()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==i.width&&Math.abs(r-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var c=[...l,r].slice(-3);t.yAxis[n]=LD(LD({},i),{},{width:r,widthHistory:c})}}}}),{addXAxis:hoe,replaceXAxis:doe,removeXAxis:moe,addYAxis:poe,replaceYAxis:goe,removeYAxis:yoe,addZAxis:voe,replaceZAxis:boe,removeZAxis:_oe,updateYAxisWidth:xoe}=mL.actions,hae=mL.reducer,dae=te([An],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),mae=te([dae,Wa,Za],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),pae=()=>Ue(mae),gae=t=>{var{chartData:e}=t,n=vn(),r=co();return I.useEffect(()=>r?()=>{}:(n(GP(e)),()=>{n(GP(void 0))}),[e,n,r]),null},zD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},pL=lr({name:"brush",initialState:zD,reducers:{setBrushSettings(t,e){return e.payload==null?zD:e.payload}}}),{setBrushSettings:woe}=pL.actions,yae=pL.reducer,vae={dots:[],areas:[],lines:[]},gL=lr({name:"referenceElements",initialState:vae,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=bi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=bi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=bi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Eoe,removeDot:Soe,addArea:Toe,removeArea:Aoe,addLine:Ioe,removeLine:Ooe}=gL.actions,bae=gL.reducer,_ae=I.createContext(void 0),xae=t=>{var{children:e}=t,[n]=I.useState("".concat(Hh("recharts"),"-clip")),r=pae();if(r==null)return null;var{x:i,y:s,width:l,height:c}=r;return I.createElement(_ae.Provider,{value:n},I.createElement("defs",null,I.createElement("clipPath",{id:n},I.createElement("rect",{x:i,y:s,height:c,width:l}))),e)},wae={},yL=lr({name:"errorBars",initialState:wae,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Coe,replaceErrorBar:Roe,removeErrorBar:Noe}=yL.actions,Eae=yL.reducer,Nx={exports:{}},Px={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BD;function Sae(){if(BD)return Px;BD=1;var t=Ec();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Px.useSyncExternalStoreWithSelector=function(f,d,m,p,b){var _=i(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=l(function(){function T(B){if(!C){if(C=!0,k=B,B=p(B),b!==void 0&&S.hasValue){var U=S.value;if(b(U,B))return M=U}return M=B}if(U=M,n(k,B))return U;var R=p(B);return b!==void 0&&b(U,R)?(k=B,U):(k=B,M=R)}var C=!1,k,M,F=m===void 0?null:m;return[function(){return T(d())},F===null?void 0:function(){return T(F())}]},[d,m,p,b]);var E=r(f,_[0],_[1]);return s(function(){S.hasValue=!0,S.value=E},[E]),c(E),E},Px}var UD;function Tae(){return UD||(UD=1,Nx.exports=Sae()),Nx.exports}Tae();function Aae(t){t()}function Iae(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Aae(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var qD={notify(){},get:()=>[]};function Oae(t,e){let n,r=qD,i=0,s=!1;function l(E){m();const T=r.subscribe(E);let C=!1;return()=>{C||(C=!0,T(),p())}}function c(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function d(){return s}function m(){i++,n||(n=t.subscribe(f),r=Iae())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=qD)}function b(){s||(s=!0,m())}function _(){s&&(s=!1,p())}const S={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:d,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return S}var Cae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rae=Cae(),Nae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Pae=Nae(),Dae=()=>Rae||Pae?I.useLayoutEffect:I.useEffect,Mae=Dae();function FD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function jae(t,e){if(FD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!FD(t[n[i]],e[n[i]]))return!1;return!0}var Dx=Symbol.for("react-redux-context"),Mx=typeof globalThis<"u"?globalThis:{};function kae(){if(!I.createContext)return{};const t=Mx[Dx]??(Mx[Dx]=new Map);let e=t.get(I.createContext);return e||(e=I.createContext(null),t.set(I.createContext,e)),e}var Vae=kae();function Lae(t){const{children:e,context:n,serverState:r,store:i}=t,s=I.useMemo(()=>{const f=Oae(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=I.useMemo(()=>i.getState(),[i]);Mae(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const c=n||Vae;return I.createElement(c.Provider,{value:s},e)}var zae=Lae,Bae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Uae(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function qae(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Bae.has(r)){if(t[r]==null&&e[r]==null)continue;if(!jae(t[r],e[r]))return!1}else if(!Uae(t[r],e[r]))return!1;return!0}var Fae=(t,e)=>e,ZS=te([Fae,Pt,W3,On,k6,es,Ste,An],Nte),JS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},vL=Xr("mouseClick"),bL=Ed();bL.startListening({actionCreator:vL,effect:(t,e)=>{var n=t.payload,r=ZS(e.getState(),JS(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Eee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var l1=Xr("mouseMove"),_L=Ed(),Lp=null;_L.startListening({actionCreator:l1,effect:(t,e)=>{var n=t.payload;Lp!==null&&cancelAnimationFrame(Lp);var r=JS(n);Lp=requestAnimationFrame(()=>{var i=e.getState(),s=zS(i,i.tooltip.settings.shared);if(s==="axis"){var l=ZS(i,r);(l==null?void 0:l.activeIndex)!=null?e.dispatch(I6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(A6())}Lp=null})}});function $ae(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var $D={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},xL=lr({name:"rootProps",initialState:$D,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:$D.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Hae=xL.reducer,{updateOptions:Kae}=xL.actions,Gae=null,Yae={updatePolarOptions:(t,e)=>e.payload},wL=lr({name:"polarOptions",initialState:Gae,reducers:Yae}),{updatePolarOptions:Qae}=wL.actions,Xae=wL.reducer,EL=Xr("keyDown"),SL=Xr("focus"),eT=Ed();eT.startListening({actionCreator:EL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=BS(i,qc(n),Md(n),kd(n)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var f=es(n);if(s==="Enter"){var d=hy(n,"axis","hover",String(i.index));e.dispatch(r1({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var m=dee(n),p=m==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,_=c+b*p;if(!(f==null||_>=f.length||_<0)){var S=hy(n,"axis","hover",String(_));e.dispatch(r1({active:!0,activeIndex:_.toString(),activeCoordinate:S}))}}}}}});eT.startListening({actionCreator:SL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=hy(n,"axis","hover",String(s));e.dispatch(r1({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Hr=Xr("externalEvent"),TL=Ed(),jx=new Map;TL.startListening({actionCreator:Hr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=jx.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var c=e.getState(),f={activeCoordinate:ute(c),activeDataKey:B6(c),activeIndex:id(c),activeLabel:z6(c),activeTooltipIndex:id(c),isTooltipActive:cte(c)};n(f,r)}finally{jx.delete(i)}});jx.set(i,l)}}});var Wae=te([Bc],t=>t.tooltipItemPayloads),Zae=te([Wae,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),AL=Xr("touchMove"),IL=Ed();IL.startListening({actionCreator:AL,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=zS(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=ZS(r,JS({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&e.dispatch(I6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var c,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var d=document.elementFromPoint(f.clientX,f.clientY);if(!d||!d.getAttribute)return;var m=d.getAttribute(CV),p=(c=d.getAttribute(RV))!==null&&c!==void 0?c:void 0,b=Uc(r).find(E=>E.id===p);if(m==null||b==null||p==null)return;var{dataKey:_}=b,S=Zae(r,m,p);e.dispatch(T6({activeDataKey:_,activeIndex:m,activeCoordinate:S,activeGraphicalItemId:p}))}}}});var Jae=Z4({brush:yae,cartesianAxis:hae,chartData:une,errorBars:Eae,graphicalItems:kie,layout:KG,legend:eQ,options:ine,polarAxis:Kre,polarOptions:Xae,referenceElements:bae,rootProps:Hae,tooltip:See,zIndex:Hte}),ese=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return yG({reducer:Jae,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([bL.middleware,_L.middleware,eT.middleware,TL.middleware,IL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(dV({type:"raf"}))},devTools:{serialize:{replacer:$ae},name:"recharts-".concat(n)}})};function tse(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=co(),s=I.useRef(null);if(i)return n;s.current==null&&(s.current=ese(e,r));var l=TE;return I.createElement(zae,{context:l,store:s.current},n)}function nse(t){var{layout:e,margin:n}=t,r=vn(),i=co();return I.useEffect(()=>{i||(r(FG(e)),r(qG(n)))},[r,i,e,n]),null}var rse=I.memo(nse,qae);function ise(t){var e=vn();return I.useEffect(()=>{e(Kae(t))},[e,t]),null}function HD(t){var{zIndex:e,isPanorama:n}=t,r=I.useRef(null),i=vn();return I.useLayoutEffect(()=>(r.current&&i(Fte({zIndex:e,element:r.current,isPanorama:n})),()=>{i($te({zIndex:e,isPanorama:n}))}),[i,e,n]),I.createElement("g",{tabIndex:-1,ref:r})}function KD(t){var{children:e,isPanorama:n}=t,r=Ue(Dte);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return I.createElement(I.Fragment,null,i.map(l=>I.createElement(HD,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>I.createElement(HD,{key:l,zIndex:l,isPanorama:n})))}var ase=["children"];function sse(t,e){if(t==null)return{};var n,r,i=ose(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ose(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vy(){return vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vy.apply(null,arguments)}var lse={width:"100%",height:"100%",display:"block"},use=I.forwardRef((t,e)=>{var n=kY(),r=VY(),i=qV();if(!no(n)||!no(r))return null;var{children:s,otherAttributes:l,title:c,desc:f}=t,d,m;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),I.createElement(y4,vy({},l,{title:c,desc:f,role:m,tabIndex:d,width:n,height:r,style:lse,ref:e}),s)}),cse=t=>{var{children:e}=t,n=Ue(fv);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return I.createElement(y4,{width:r,height:i,x:l,y:s},e)},GD=I.forwardRef((t,e)=>{var{children:n}=t,r=sse(t,ase),i=co();return i?I.createElement(cse,null,I.createElement(KD,{isPanorama:!0},n)):I.createElement(use,vy({ref:e},r),I.createElement(KD,{isPanorama:!1},n))});function fse(){var t=vn(),[e,n]=I.useState(null),r=Ue(sY);return I.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;vt(s)&&s!==r&&t(HG(s))}},[e,t,r]),n}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){dse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dse(t,e,n){return(e=mse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mse(t){var e=pse(t,"string");return typeof e=="symbol"?e:e+""}function pse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qs(){return Qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qs.apply(null,arguments)}var gse=()=>(vne(),null);function by(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var yse=I.forwardRef((t,e)=>{var n,r,i=I.useRef(null),[s,l]=I.useState({containerWidth:by((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:by((r=t.style)===null||r===void 0?void 0:r.height)}),c=I.useCallback((d,m)=>{l(p=>{var b=Math.round(d),_=Math.round(m);return p.containerWidth===b&&p.containerHeight===_?p:{containerWidth:b,containerHeight:_}})},[]),f=I.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=d.getBoundingClientRect();c(m,p);var b=S=>{var E=S[0];if(E!=null){var{width:T,height:C}=E.contentRect;c(T,C)}},_=new ResizeObserver(b);_.observe(d),i.current=_}},[e,c]);return I.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[c]),I.createElement(I.Fragment,null,I.createElement(Td,{width:s.containerWidth,height:s.containerHeight}),I.createElement("div",Qs({ref:f},t)))}),vse=I.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=I.useState({containerWidth:by(n),containerHeight:by(r)}),l=I.useCallback((f,d)=>{s(m=>{var p=Math.round(f),b=Math.round(d);return m.containerWidth===p&&m.containerHeight===b?m:{containerWidth:p,containerHeight:b}})},[]),c=I.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:d,height:m}=f.getBoundingClientRect();l(d,m)}},[e,l]);return I.createElement(I.Fragment,null,I.createElement(Td,{width:i.containerWidth,height:i.containerHeight}),I.createElement("div",Qs({ref:c},t)))}),bse=I.forwardRef((t,e)=>{var{width:n,height:r}=t;return I.createElement(I.Fragment,null,I.createElement(Td,{width:n,height:r}),I.createElement("div",Qs({ref:e},t)))}),_se=I.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?I.createElement(vse,Qs({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?I.createElement(bse,Qs({},t,{width:n,height:r,ref:e})):I.createElement(I.Fragment,null,I.createElement(Td,{width:n,height:r}),I.createElement("div",Qs({ref:e},t)))});function xse(t){return t?yse:_se}var wse=I.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:f,onMouseEnter:d,onMouseLeave:m,onMouseMove:p,onMouseUp:b,onTouchEnd:_,onTouchMove:S,onTouchStart:E,style:T,width:C,responsive:k,dispatchTouchEvents:M=!0}=t,F=I.useRef(null),B=vn(),[U,R]=I.useState(null),[N,D]=I.useState(null),z=fse(),j=PE(),L=(j==null?void 0:j.width)>0?j.width:C,q=(j==null?void 0:j.height)>0?j.height:i,ye=I.useCallback(oe=>{z(oe),typeof e=="function"&&e(oe),R(oe),D(oe),oe!=null&&(F.current=oe)},[z,e,R,D]),Ce=I.useCallback(oe=>{B(vL(oe)),B(Hr({handler:s,reactEvent:oe}))},[B,s]),Z=I.useCallback(oe=>{B(l1(oe)),B(Hr({handler:d,reactEvent:oe}))},[B,d]),ue=I.useCallback(oe=>{B(A6()),B(Hr({handler:m,reactEvent:oe}))},[B,m]),be=I.useCallback(oe=>{B(l1(oe)),B(Hr({handler:p,reactEvent:oe}))},[B,p]),Ie=I.useCallback(()=>{B(SL())},[B]),ie=I.useCallback(oe=>{B(EL(oe.key))},[B]),$=I.useCallback(oe=>{B(Hr({handler:l,reactEvent:oe}))},[B,l]),ee=I.useCallback(oe=>{B(Hr({handler:c,reactEvent:oe}))},[B,c]),fe=I.useCallback(oe=>{B(Hr({handler:f,reactEvent:oe}))},[B,f]),de=I.useCallback(oe=>{B(Hr({handler:b,reactEvent:oe}))},[B,b]),_e=I.useCallback(oe=>{B(Hr({handler:E,reactEvent:oe}))},[B,E]),Pe=I.useCallback(oe=>{M&&B(AL(oe)),B(Hr({handler:S,reactEvent:oe}))},[B,M,S]),Se=I.useCallback(oe=>{B(Hr({handler:_,reactEvent:oe}))},[B,_]),Et=xse(k);return I.createElement(G6.Provider,{value:U},I.createElement(Y$.Provider,{value:N},I.createElement(Et,{width:L??(T==null?void 0:T.width),height:q??(T==null?void 0:T.height),className:hn("recharts-wrapper",r),style:hse({position:"relative",cursor:"default",width:L,height:q},T),onClick:Ce,onContextMenu:$,onDoubleClick:ee,onFocus:Ie,onKeyDown:ie,onMouseDown:fe,onMouseEnter:Z,onMouseLeave:ue,onMouseMove:be,onMouseUp:de,onTouchEnd:Se,onTouchMove:Pe,onTouchStart:_e,ref:ye},I.createElement(gse,null),n)))}),Ese=["width","height","responsive","children","className","style","compact","title","desc"];function Sse(t,e){if(t==null)return{};var n,r,i=Tse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ase=I.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:c,compact:f,title:d,desc:m}=t,p=Sse(t,Ese),b=gc(p);return f?I.createElement(I.Fragment,null,I.createElement(Td,{width:n,height:r}),I.createElement(GD,{otherAttributes:b,title:d,desc:m},s)):I.createElement(wse,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},I.createElement(GD,{otherAttributes:b,title:d,desc:m,ref:e},I.createElement(xae,null,s)))});function Ise(t){var e=vn();return I.useEffect(()=>{e(Qae(t))},[e,t]),null}var Ose=["layout"];function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u1.apply(null,arguments)}function Cse(t,e){if(t==null)return{};var n,r,i=Rse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nse={top:5,right:5,bottom:5,left:5},OL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Nse,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Pse=I.forwardRef(function(e,n){var r,i=ua(e.categoricalChartProps,OL),{layout:s}=i,l=Cse(i,Ose),{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:m}=e,p={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,eventEmitter:void 0};return I.createElement(tse,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},I.createElement(gae,{chartData:i.data}),I.createElement(rse,{layout:s,margin:i.margin}),I.createElement(ise,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),I.createElement(Ise,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),I.createElement(Ase,u1({},l,{ref:n})))});function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){Dse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dse(t,e,n){return(e=Mse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mse(t){var e=jse(t,"string");return typeof e=="symbol"?e:e+""}function jse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kse=["item"],Vse=XD(XD({},OL),{},{layout:"centric",startAngle:0,endAngle:360}),c1=I.forwardRef((t,e)=>{var n=ua(t,Vse);return I.createElement(Pse,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:kse,tooltipPayloadSearcher:nne,categoricalChartProps:n,ref:e})});const WD=({selectedDate:t,transactions:e,categories:n,paymentMethods:r,isMobile:i,onClose:s,selectedTransaction:l,onUpdateTransaction:c})=>{const[f,d]=I.useState("expense"),[m,p]=I.useState("category"),[b,_]=I.useState(!1),[S,E]=I.useState((l==null?void 0:l.memo)||"");f1.useEffect(()=>{E((l==null?void 0:l.memo)||""),_(!1),l&&(d(l.type),p("category"))},[l==null?void 0:l.id]);const T=async()=>{if(!(!l||!c))try{await c(l.id,{memo:S}),_(!1)}catch(B){console.error("Error updating memo:",B)}},C=B=>typeof B=="string"?B.split("T")[0]:B&&typeof B=="object"&&"toDate"in B?B.toDate().toISOString().split("T")[0]:new Date(B).toISOString().split("T")[0],k=I.useMemo(()=>{const B=e.filter(N=>C(N.date)===t&&N.type===f),U={};let R=[];return m==="category"?(B.forEach(N=>{var z;const D=((z=n[N.category])==null?void 0:z.name)||"";U[D]=(U[D]||0)+N.amount}),R=Object.entries(U).map(([N,D])=>{var z;return{name:N,value:D,color:((z=Object.values(n).find(j=>j.name===N))==null?void 0:z.color)||"#cbd5e1"}}).sort((N,D)=>D.value-N.value)):(B.forEach(N=>{var D;if(N.paymentMethodId){const z=((D=r[N.paymentMethodId])==null?void 0:D.name)||"";U[z]=(U[z]||0)+N.amount}}),R=Object.entries(U).map(([N,D])=>{var z;return{name:N,value:D,color:((z=Object.values(r).find(j=>j.name===N))==null?void 0:z.color)||"#cbd5e1"}}).sort((N,D)=>D.value-N.value)),R},[t,e,f,n,r,m]),M=B=>{const U=new Date(B+"T00:00:00"),R=U.getFullYear(),N=U.getMonth()+1,D=U.getDate(),z=["","","","","","",""][U.getDay()];return`${R} ${N} ${D} (${z})`},F=k.reduce((B,U)=>B+U.value,0);return i?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 bg-black/50 z-[90]",onClick:s}),w.jsxs("div",{className:"fixed inset-x-0 bottom-0 z-[100] bg-white rounded-t-3xl max-h-[85vh] overflow-y-auto animate-in slide-in-from-bottom duration-300 shadow-2xl",children:[w.jsx("div",{className:"flex justify-center pt-3 pb-2",children:w.jsx("div",{className:"w-12 h-1 bg-slate-300 rounded-full"})}),w.jsxs("div",{className:"px-6 pb-12",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h2",{className:"text-lg font-bold text-slate-800",children:M(t)}),w.jsx("button",{onClick:s,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",children:w.jsx(Ey,{size:20})})]}),w.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl mb-4",children:[w.jsx("button",{onClick:()=>d("expense"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${f==="expense"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:" "}),w.jsx("button",{onClick:()=>d("income"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${f==="income"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:" "})]}),w.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl mb-8",children:[w.jsx("button",{onClick:()=>p("category"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${m==="category"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:f==="expense"?"":""}),w.jsx("button",{onClick:()=>p("paymentMethod"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${m==="paymentMethod"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:f==="expense"?"":""})]}),k.length>0?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"h-64 w-full",children:w.jsx(jw,{width:"100%",height:"100%",children:w.jsxs(c1,{children:[w.jsx(yy,{data:k,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:k.map((B,U)=>w.jsx(wc,{fill:B.color},`cell-${U}`))}),w.jsx(s1,{})]})})}),w.jsx("div",{className:"space-y-4 mt-8",children:k.map((B,U)=>w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:B.color}}),w.jsx("span",{className:"text-sm font-bold text-slate-700",children:B.name})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("span",{className:"text-sm font-black text-slate-800",children:["",B.value.toLocaleString()]}),w.jsxs("span",{className:"text-xs text-slate-400 font-medium bg-slate-50 px-2 py-1 rounded",children:[(B.value/F*100).toFixed(1),"%"]})]})]},U))}),l&&w.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsx("h3",{className:"text-sm font-bold text-slate-700",children:" "}),!b&&c&&w.jsx("button",{onClick:()=>_(!0),className:"p-1.5 text-slate-400 hover:text-slate-600 transition-colors",children:w.jsx(Xu,{size:16})})]}),b?w.jsxs("div",{className:"space-y-2",children:[w.jsx("textarea",{value:S,onChange:B=>E(B.target.value),className:"w-full p-3 bg-white border border-slate-200 rounded-xl text-sm text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none resize-none",rows:4,placeholder:" ..."}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:T,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-indigo-600 text-white text-sm font-bold rounded-lg hover:bg-indigo-700 transition-colors",children:[w.jsx(Ah,{size:16})," "]}),w.jsx("button",{onClick:()=>{_(!1),E(l.memo||"")},className:"flex-1 px-3 py-2 bg-slate-100 text-slate-700 text-sm font-bold rounded-lg hover:bg-slate-200 transition-colors",children:""})]})]}):w.jsx("div",{className:"bg-slate-50 p-4 rounded-xl text-sm text-slate-700 whitespace-pre-wrap",children:l.memo||" "})]})]}):w.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-slate-300",children:[w.jsx(sg,{size:48,className:"mb-4 opacity-20"}),w.jsxs("p",{className:"font-bold",children:["  ",f==="expense"?"":""," "]})]})]})]})]}):w.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 h-full overflow-y-auto",children:[w.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-6",children:M(t)}),w.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl mb-4",children:[w.jsx("button",{onClick:()=>d("expense"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${f==="expense"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:" "}),w.jsx("button",{onClick:()=>d("income"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${f==="income"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:" "})]}),w.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl mb-8",children:[w.jsx("button",{onClick:()=>p("category"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${m==="category"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:f==="expense"?"":""}),w.jsx("button",{onClick:()=>p("paymentMethod"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${m==="paymentMethod"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:f==="expense"?"":""})]}),k.length>0?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"h-64 w-full",children:w.jsx(jw,{width:"100%",height:"100%",children:w.jsxs(c1,{children:[w.jsx(yy,{data:k,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:k.map((B,U)=>w.jsx(wc,{fill:B.color},`cell-${U}`))}),w.jsx(s1,{})]})})}),w.jsx("div",{className:"space-y-4 mt-8",children:k.map((B,U)=>w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:B.color}}),w.jsx("span",{className:"text-sm font-bold text-slate-700",children:B.name})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("span",{className:"text-sm font-black text-slate-800",children:["",B.value.toLocaleString()]}),w.jsxs("span",{className:"text-xs text-slate-400 font-medium bg-slate-50 px-2 py-1 rounded",children:[(B.value/F*100).toFixed(1),"%"]})]})]},U))}),l&&w.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200",children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsx("h3",{className:"text-sm font-bold text-slate-700",children:" "}),!b&&c&&w.jsx("button",{onClick:()=>_(!0),className:"p-1.5 text-slate-400 hover:text-slate-600 transition-colors",children:w.jsx(Xu,{size:16})})]}),b?w.jsxs("div",{className:"space-y-2",children:[w.jsx("textarea",{value:S,onChange:B=>E(B.target.value),className:"w-full p-3 bg-white border border-slate-200 rounded-xl text-sm text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none resize-none",rows:4,placeholder:" ..."}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:T,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-indigo-600 text-white text-sm font-bold rounded-lg hover:bg-indigo-700 transition-colors",children:[w.jsx(Ah,{size:16})," "]}),w.jsx("button",{onClick:()=>{_(!1),E(l.memo||"")},className:"flex-1 px-3 py-2 bg-slate-100 text-slate-700 text-sm font-bold rounded-lg hover:bg-slate-200 transition-colors",children:""})]})]}):w.jsx("div",{className:"bg-slate-50 p-4 rounded-xl text-sm text-slate-700 whitespace-pre-wrap",children:l.memo||" "})]})]}):w.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-slate-300",children:[w.jsx(sg,{size:48,className:"mb-4 opacity-20"}),w.jsxs("p",{className:"font-bold",children:["  ",f==="expense"?"":""," "]})]})]})},Lse=()=>{const[t,e]=I.useState(new Date),[n,r]=I.useState([]),[i,s]=I.useState({}),[l,c]=I.useState({}),[f,d]=I.useState(!1),[m,p]=I.useState(),[b,_]=I.useState("all"),[S,E]=I.useState(null),[T,C]=I.useState(null),[k,M]=I.useState(!1),[F,B]=I.useState(window.innerWidth),U=async()=>{try{const ie=new Date(t.getFullYear(),t.getMonth(),1).toISOString(),$=new Date(t.getFullYear(),t.getMonth()+1,0).toISOString();let ee=await h4(ie,$);b!=="all"&&(ee=ee.filter(Se=>Se.type===b)),r(ee.sort((Se,Et)=>new Date(Et.date).getTime()-new Date(Se.date).getTime()));const fe=await mE(),de={};fe.forEach(Se=>de[Se.id]=Se),s(de);const _e=await pE(),Pe={};_e.forEach(Se=>Pe[Se.id]=Se),c(Pe)}catch(ie){console.error("Error fetching transactions:",ie)}};I.useEffect(()=>{U()},[t,b]),I.useEffect(()=>{const ie=()=>B(window.innerWidth);return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]);const R=F>=768,N=ie=>{e(new Date(t.getFullYear(),t.getMonth()+ie,1))},D=n.filter(ie=>ie.type==="income").reduce((ie,$)=>ie+$.amount,0),z=n.filter(ie=>ie.type==="expense").reduce((ie,$)=>ie+$.amount,0),j=D-z,L=n.reduce((ie,$)=>{let ee=$.date;typeof $.date=="string"?ee=$.date:$.date&&typeof $.date=="object"&&"toDate"in $.date&&(ee=$.date.toDate().toISOString());const fe=ee.split("T")[0];return ie[fe]||(ie[fe]=[]),ie[fe].push($),ie},{});I.useEffect(()=>{if(R&&!S&&Object.keys(L).length>0){const ie=Object.keys(L).sort(($,ee)=>ee.localeCompare($))[0];E(ie)}},[R,L,S]);const q=ie=>typeof ie=="string"?new Date(ie):ie&&typeof ie=="object"&&"toDate"in ie?ie.toDate():new Date(ie),ye=ie=>typeof ie=="string"?ie.split("T")[0]:ie&&typeof ie=="object"&&"toDate"in ie?ie.toDate().toISOString().split("T")[0]:new Date(ie).toISOString().split("T")[0],Ce=ie=>{const $=ie.filter(fe=>fe.type==="income").reduce((fe,de)=>fe+de.amount,0),ee=ie.filter(fe=>fe.type==="expense").reduce((fe,de)=>fe+de.amount,0);return{income:$,expense:ee}},Z=ie=>{E(ie),R||M(!0)},ue=ie=>{const $=ye(ie.date);C(ie),Z($)},be=async ie=>{if(confirm(" ?"))try{await w$(ie),U()}catch($){console.error("Error deleting transaction:",$),alert(" .  .")}},Ie=async(ie,$)=>{try{await f4(ie,$),r(n.map(ee=>ee.id===ie?{...ee,...$}:ee)),(T==null?void 0:T.id)===ie&&C({...T,...$})}catch(ee){console.error("Error updating transaction:",ee),alert(" .  .")}};return w.jsxs("div",{className:`${R?"max-w-7xl mx-auto px-4 pt-6 pb-12":"max-w-xl mx-auto px-4 pt-6 pb-12"}`,children:[w.jsxs("header",{className:"flex justify-between items-center mb-8",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),w.jsx("p",{className:"text-sm text-indigo-600 font-medium",children:"    !!! "})]}),w.jsxs("div",{className:"flex items-center gap-4 bg-white p-1 rounded-full shadow-sm border border-slate-100",children:[w.jsx("button",{onClick:()=>N(-1),className:"p-2 hover:bg-slate-50 rounded-full text-slate-400",children:w.jsx(wM,{size:20})}),w.jsxs("span",{className:"font-bold text-slate-700 min-w-[100px] text-center",children:[t.getFullYear()," ",t.getMonth()+1,""]}),w.jsx("button",{onClick:()=>N(1),className:"p-2 hover:bg-slate-50 rounded-full text-slate-400",children:w.jsx(wy,{size:20})})]})]}),w.jsxs("section",{className:"grid grid-cols-3 gap-4 mb-8",children:[w.jsxs("div",{className:"bg-emerald-500 p-4 rounded-2xl shadow-lg shadow-emerald-200 text-white",children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsx("span",{className:"text-xs font-bold opacity-80 uppercase tracking-widest",children:""}),w.jsx(lB,{size:16,className:"opacity-80"})]}),w.jsxs("div",{className:"text-xl font-black",children:["",D.toLocaleString()]})]}),w.jsxs("div",{className:"bg-rose-500 p-4 rounded-2xl shadow-lg shadow-rose-200 text-white",children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsx("span",{className:"text-xs font-bold opacity-80 uppercase tracking-widest",children:""}),w.jsx(aB,{size:16,className:"opacity-80"})]}),w.jsxs("div",{className:"text-xl font-black",children:["",z.toLocaleString()]})]}),w.jsxs("div",{className:"bg-indigo-600 p-4 rounded-2xl shadow-lg shadow-indigo-200 text-white relative overflow-hidden",children:[w.jsx("div",{className:"flex justify-between items-start mb-2",children:w.jsx("span",{className:"text-xs font-bold opacity-80 uppercase tracking-widest",children:" "})}),w.jsxs("div",{className:"text-xl font-black",children:["",j.toLocaleString()]}),w.jsx("div",{className:"absolute -right-6 -bottom-6 w-24 h-24 bg-white/10 rounded-full blur-3xl"})]})]}),w.jsxs("div",{className:`${R?"grid grid-cols-2 gap-6":"block"}`,children:[w.jsxs("div",{children:[w.jsxs("section",{className:"flex gap-2 mb-6 overflow-x-auto no-scrollbar py-1",children:[w.jsx("button",{onClick:()=>_("all"),className:`px-5 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${b==="all"?"bg-indigo-600 text-white":"bg-white text-slate-500 border border-slate-200"}`,children:""}),w.jsx("button",{onClick:()=>_("income"),className:`px-5 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${b==="income"?"bg-emerald-500 text-white":"bg-white text-slate-500 border border-slate-200"}`,children:""}),w.jsx("button",{onClick:()=>_("expense"),className:`px-5 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${b==="expense"?"bg-rose-500 text-white":"bg-white text-slate-500 border border-slate-200"}`,children:""})]}),w.jsx("section",{className:"space-y-6",children:n.length===0?w.jsxs("div",{className:"py-20 flex flex-col items-center text-slate-300",children:[w.jsx(zB,{size:48,className:"mb-4 opacity-20"}),w.jsx("p",{className:"font-bold",children:"   "})]}):Object.entries(L).sort(([ie],[$])=>$.localeCompare(ie)).map(([ie,$])=>{const ee=Ce($),fe=new Date(ie+"T00:00:00").toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"short"});return w.jsxs("div",{children:[w.jsx("div",{onClick:()=>Z(ie),className:`px-2 mb-3 cursor-pointer transition-colors ${S===ie&&R?"bg-indigo-50 rounded-lg p-2 -mx-2":""}`,children:w.jsx("h3",{className:"text-sm font-bold text-slate-700",children:fe})}),w.jsx("div",{className:"space-y-2 mb-3",children:$.map(de=>{var Se;const _e=i[de.category],Pe=de.paymentMethodId?l[de.paymentMethodId]:null;return w.jsxs("div",{onClick:()=>ue(de),className:`group bg-white p-4 rounded-2xl shadow-sm border flex items-center justify-between transition-all hover:shadow-md cursor-pointer ${S===ye(de.date)&&R?"border-indigo-500 ring-2 ring-indigo-100":"border-slate-100 hover:border-indigo-100"}`,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white shadow-sm",style:{backgroundColor:(_e==null?void 0:_e.color)||"#cbd5e1"},children:w.jsx("span",{className:"font-black text-xs",children:((Se=_e==null?void 0:_e.name)==null?void 0:Se[0])||"T"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-slate-800",children:de.description}),w.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[w.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:_e==null?void 0:_e.name}),w.jsx("span",{className:"w-1 h-1 bg-slate-200 rounded-full"}),Pe&&w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-md text-white font-bold uppercase tracking-tight",style:{backgroundColor:Pe.color},children:Pe.name}),w.jsx("span",{className:"w-1 h-1 bg-slate-200 rounded-full"})]}),w.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:q(de.date).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]})]})]}),w.jsxs("div",{className:"flex flex-col items-end gap-1",children:[w.jsxs("span",{className:`font-black text-lg ${de.type==="income"?"text-emerald-500":"text-slate-800"}`,children:[de.type==="income"?"+":"-"," ",de.amount.toLocaleString()]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:()=>{p(de),d(!0)},className:"p-1.5 bg-indigo-100 text-indigo-600 hover:bg-indigo-200 transition-colors rounded-lg font-bold",children:w.jsx(Xu,{size:14})}),w.jsx("button",{onClick:()=>be(de.id),className:"p-1.5 bg-rose-100 text-rose-600 hover:bg-rose-200 transition-colors rounded-lg font-bold",children:w.jsx(yl,{size:14})})]})]})]},de.id)})}),w.jsx("div",{className:"px-2 py-3 bg-gradient-to-r from-emerald-50 to-rose-50 rounded-xl border border-slate-100",children:w.jsxs("div",{className:"flex justify-between items-center text-sm",children:[w.jsxs("div",{className:"flex gap-6",children:[w.jsxs("div",{children:[w.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider block",children:""}),w.jsxs("span",{className:"text-lg font-black text-emerald-600",children:["+",ee.income.toLocaleString()]})]}),w.jsxs("div",{children:[w.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider block",children:""}),w.jsxs("span",{className:"text-lg font-black text-rose-600",children:["-",ee.expense.toLocaleString()]})]})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider block",children:" "}),w.jsxs("span",{className:`text-lg font-black ${ee.income-ee.expense>=0?"text-indigo-600":"text-slate-800"}`,children:["",(ee.income-ee.expense).toLocaleString()]})]})]})})]},ie)})})]}),R&&S&&w.jsx("div",{className:"sticky top-6 h-[calc(100vh-8rem)]",children:w.jsx(WD,{selectedDate:S,transactions:n,categories:i,paymentMethods:l,isMobile:!1,selectedTransaction:T,onUpdateTransaction:Ie})})]}),w.jsx("button",{onClick:()=>{p(void 0),d(!0)},className:"fixed bottom-24 md:bottom-6 right-6 w-14 h-14 bg-indigo-600 rounded-2xl shadow-xl shadow-indigo-200 text-white flex items-center justify-center hover:bg-indigo-700 active:scale-90 transition-all z-40",children:w.jsx(Fs,{size:28,strokeWidth:3})}),!R&&k&&S&&w.jsx(WD,{selectedDate:S,transactions:n,categories:i,paymentMethods:l,isMobile:!0,onClose:()=>M(!1),selectedTransaction:T,onUpdateTransaction:Ie}),f&&w.jsx(L$,{onClose:()=>d(!1),onSave:U,initialData:m})]})},zse=()=>{const[t,e]=I.useState(new Date),[n,r]=I.useState("expense"),[i,s]=I.useState("monthly"),[l,c]=I.useState("category"),[f,d]=I.useState(new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]),[m,p]=I.useState(new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toISOString().split("T")[0]),[b,_]=I.useState([]),S=async()=>{try{let C,k;i==="monthly"?(C=new Date(t.getFullYear(),t.getMonth(),1).toISOString(),k=new Date(t.getFullYear(),t.getMonth()+1,0).toISOString()):(C=new Date(f+"T00:00:00").toISOString(),k=new Date(m+"T23:59:59").toISOString());const F=(await h4(C,k)).filter(U=>U.type===n);let B=[];if(l==="category"){const U=await mE(),R={};U.forEach(D=>R[D.id]=D);const N={};F.forEach(D=>{var j;const z=((j=R[D.category])==null?void 0:j.name)||"";N[z]=(N[z]||0)+D.amount}),B=Object.entries(N).map(([D,z])=>{var j;return{name:D,value:z,color:((j=U.find(L=>L.name===D))==null?void 0:j.color)||"#cbd5e1"}}).sort((D,z)=>z.value-D.value)}else{const U=await pE(),R={};U.forEach(D=>R[D.id]=D);const N={};F.forEach(D=>{var z;if(D.paymentMethodId){const j=((z=R[D.paymentMethodId])==null?void 0:z.name)||"";N[j]=(N[j]||0)+D.amount}}),B=Object.entries(N).map(([D,z])=>{var j;return{name:D,value:z,color:((j=Object.values(R).find(L=>L.name===D))==null?void 0:j.color)||"#cbd5e1"}}).sort((D,z)=>z.value-D.value)}_(B)}catch(C){console.error("Error fetching analysis:",C)}};I.useEffect(()=>{S()},[t,n,i,f,m,l]);const E=C=>{e(new Date(t.getFullYear(),t.getMonth()+C,1))},T=()=>n==="expense"?l==="category"?" ":" ":l==="category"?" ":" ";return w.jsxs("div",{className:"max-w-xl mx-auto px-4 pt-6 pb-12",children:[w.jsx("header",{className:"flex justify-between items-center mb-8",children:w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:T()}),w.jsx("p",{className:"text-sm text-slate-400 font-medium",children:n==="expense"?"  ":"  "})]})}),w.jsxs("div",{className:"flex gap-2 mb-6",children:[w.jsx("button",{onClick:()=>s("monthly"),className:`flex-1 px-4 py-2 rounded-lg font-bold text-sm transition-all ${i==="monthly"?"bg-indigo-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:""}),w.jsx("button",{onClick:()=>s("custom"),className:`flex-1 px-4 py-2 rounded-lg font-bold text-sm transition-all ${i==="custom"?"bg-indigo-600 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:""})]}),i==="monthly"&&w.jsxs("div",{className:"flex items-center justify-center gap-4 bg-white p-3 rounded-2xl shadow-sm border border-slate-100 mb-6",children:[w.jsx("button",{onClick:()=>E(-1),className:"p-2 hover:bg-slate-50 rounded-lg text-slate-400",children:w.jsx(wM,{size:20})}),w.jsxs("span",{className:"font-bold text-slate-700 min-w-[100px] text-center",children:[t.getFullYear()," ",t.getMonth()+1,""]}),w.jsx("button",{onClick:()=>E(1),className:"p-2 hover:bg-slate-50 rounded-lg text-slate-400",children:w.jsx(wy,{size:20})})]}),i==="custom"&&w.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 mb-6",children:w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-2",children:""}),w.jsx("input",{type:"date",value:f,onChange:C=>d(C.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-slate-700 font-medium focus:ring-2 focus:ring-indigo-500 outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-2",children:""}),w.jsx("input",{type:"date",value:m,onChange:C=>p(C.target.value),className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-slate-700 font-medium focus:ring-2 focus:ring-indigo-500 outline-none"})]})]})}),w.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 mb-6",children:[w.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl mb-4",children:[w.jsx("button",{onClick:()=>r("expense"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${n==="expense"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:" "}),w.jsx("button",{onClick:()=>r("income"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${n==="income"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:" "})]}),w.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl mb-8",children:[w.jsx("button",{onClick:()=>c("category"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${l==="category"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:n==="expense"?"":""}),w.jsx("button",{onClick:()=>c("paymentMethod"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${l==="paymentMethod"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:n==="expense"?"":""})]}),b.length>0?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"h-64 w-full",children:w.jsx(jw,{width:"100%",height:"100%",children:w.jsxs(c1,{children:[w.jsx(yy,{data:b,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:b.map((C,k)=>w.jsx(wc,{fill:C.color},`cell-${k}`))}),w.jsx(s1,{})]})})}),w.jsx("div",{className:"space-y-4 mt-8",children:b.map((C,k)=>w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:C.color}}),w.jsx("span",{className:"text-sm font-bold text-slate-700",children:C.name})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("span",{className:"text-sm font-black text-slate-800",children:["",C.value.toLocaleString()]}),w.jsxs("span",{className:"text-xs text-slate-400 font-medium bg-slate-50 px-2 py-1 rounded",children:[(C.value/b.reduce((M,F)=>M+F.value,0)*100).toFixed(1),"%"]})]})]},k))})]}):w.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-slate-300",children:[w.jsx(sg,{size:48,className:"mb-4 opacity-20"}),w.jsx("p",{className:"font-bold",children:l==="paymentMethod"&&n==="expense"?"   ":l==="paymentMethod"&&n==="income"?"   ":`${n==="expense"?"":""} `})]})]})]})},Bse=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(!1),[i,s]=I.useState({name:"",description:"",color:"#4f46e5"}),l=async()=>{try{const d=await d4();e(d)}catch(d){console.error("Error fetching projects:",d)}};I.useEffect(()=>{l()},[]);const c=async d=>{if(d.preventDefault(),!!i.name)try{await N$({name:i.name,description:i.description,color:i.color,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),s({name:"",description:"",color:"#4f46e5"}),r(!1),l()}catch(m){console.error("Error creating project:",m),alert("  .  .")}},f={active:w.jsx(AB,{size:14,className:"text-indigo-500"}),completed:w.jsx(EM,{size:14,className:"text-emerald-500"}),archived:w.jsx(rB,{size:14,className:"text-slate-400"})};return w.jsxs("div",{className:"max-w-xl mx-auto px-4 pt-6 pb-12",children:[w.jsxs("header",{className:"flex justify-between items-center mb-8",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),w.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"   "})]}),w.jsx("button",{onClick:()=>r(!0),className:"p-3 bg-white border border-slate-200 text-indigo-600 rounded-2xl shadow-sm hover:bg-slate-50 transition-all",children:w.jsx(Fs,{size:24})})]}),w.jsx("div",{className:"space-y-4",children:t.length===0?w.jsxs("div",{className:"py-20 text-center text-slate-300",children:[w.jsx(xM,{size:48,className:"mx-auto mb-4 opacity-20"}),w.jsx("p",{className:"font-bold",children:"   "}),w.jsx("p",{className:"text-xs mt-1",children:",       ."})]}):t.map(d=>w.jsxs(Qu,{to:`/projects/${d.id}`,className:"bg-white p-5 rounded-3xl border border-slate-100 shadow-sm flex items-center justify-between hover:shadow-md transition-all group",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center text-white text-xl font-bold",style:{backgroundColor:d.color},children:d.name[0]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-slate-800",children:d.name}),w.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f[d.status],w.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:d.status})]})]})]}),w.jsx(wy,{size:20,className:"text-slate-300 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all"})]},d.id))}),n&&w.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[100]",children:w.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-in fade-in zoom-in duration-200",children:[w.jsx("h2",{className:"text-xl font-bold mb-6 text-slate-800",children:"  "}),w.jsxs("form",{onSubmit:c,className:"space-y-4",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:""}),w.jsx("input",{autoFocus:!0,type:"text",value:i.name,onChange:d=>s({...i,name:d.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:":  ,  "})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:""}),w.jsx("input",{type:"text",value:i.description,onChange:d=>s({...i,description:d.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:" ?"})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:" "}),w.jsx("input",{type:"color",value:i.color,onChange:d=>s({...i,color:d.target.value}),className:"w-full h-12 p-1 bg-white border border-slate-200 rounded-xl cursor-pointer"})]}),w.jsxs("div",{className:"flex gap-2 pt-4",children:[w.jsx("button",{type:"button",onClick:()=>r(!1),className:"flex-1 py-3 text-slate-500 font-bold bg-slate-100 rounded-xl",children:""}),w.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold bg-indigo-600 rounded-xl shadow-lg shadow-indigo-100",children:""})]})]})]})})]})},Use=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(null),[i,s]=I.useState(""),[l,c]=I.useState({});I.useEffect(()=>{const C=localStorage.getItem("checklistCards");C&&e(JSON.parse(C))},[]),I.useEffect(()=>{localStorage.setItem("checklistCards",JSON.stringify(t))},[t]);const f=()=>{if(t.length>=20){alert(" 20    .");return}const C={id:Date.now().toString(),title:" ",items:[],createdAt:new Date().toISOString()};e([...t,C])},d=C=>{confirm("  ?")&&e(t.filter(k=>k.id!==C))},m=(C,k)=>{e(t.map(M=>M.id===C?{...M,title:k}:M))},p=(C,k)=>{k.trim()&&(e(t.map(M=>M.id===C?{...M,items:[...M.items,{id:Date.now().toString(),text:k,completed:!1}]}:M)),c({...l,[C]:""}))},b=(C,k)=>{e(t.map(M=>M.id===C?{...M,items:M.items.map(F=>F.id===k?{...F,completed:!F.completed}:F)}:M))},_=(C,k)=>{e(t.map(M=>M.id===C?{...M,items:M.items.filter(F=>F.id!==k)}:M))},S=C=>{e(t.map(k=>k.id===C?{...k,items:k.items.filter(M=>!M.completed)}:k))},E=C=>{var k;return((k=t.find(M=>M.id===C))==null?void 0:k.items.filter(M=>M.completed).length)||0},T=C=>{var k;return((k=t.find(M=>M.id===C))==null?void 0:k.items.length)||0};return w.jsxs("div",{className:"max-w-full mx-auto px-6 pt-6 pb-12",children:[w.jsxs("header",{className:"mb-8",children:[w.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),w.jsxs("p",{className:"text-sm text-slate-400 font-medium mt-1",children:[t.length,"/20 "]})]}),t.length<20&&w.jsxs("button",{onClick:f,className:"mb-6 px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors font-bold flex items-center gap-2",children:[w.jsx(Fs,{size:20}),"  "]}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.map(C=>w.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow flex flex-col h-96",children:[w.jsx("div",{className:"p-4 border-b border-slate-100 flex-shrink-0",children:n===C.id?w.jsxs("div",{className:"flex gap-2",children:[w.jsx("input",{autoFocus:!0,type:"text",value:i,onChange:k=>s(k.target.value),className:"flex-1 px-2 py-1 text-sm border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500"}),w.jsx("button",{onClick:()=>{m(C.id,i),r(null)},className:"px-3 py-1 bg-indigo-600 text-white text-xs rounded font-bold hover:bg-indigo-700",children:""})]}):w.jsxs("div",{className:"flex items-start justify-between gap-2",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-bold text-slate-800 text-sm line-clamp-2",children:C.title}),w.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[E(C.id),"/",T(C.id)]})]}),w.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[w.jsx("button",{onClick:()=>{r(C.id),s(C.title)},className:"p-1.5 text-slate-400 hover:text-indigo-600 transition-colors",children:w.jsx(Xu,{size:14})}),w.jsx("button",{onClick:()=>d(C.id),className:"p-1.5 text-slate-400 hover:text-rose-600 transition-colors",children:w.jsx(yl,{size:14})})]})]})}),w.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:C.items.length===0?w.jsx("p",{className:"text-xs text-slate-300 text-center py-4",children:" "}):C.items.map(k=>w.jsxs("div",{className:"flex items-start gap-2 group",children:[w.jsx("button",{onClick:()=>b(C.id,k.id),className:"flex-shrink-0 mt-1 text-slate-400 hover:text-indigo-600 transition-colors",children:k.completed?w.jsx(EM,{size:16,className:"text-indigo-600"}):w.jsx(SB,{size:16})}),w.jsx("span",{className:`flex-1 text-xs transition-all line-clamp-2 ${k.completed?"line-through text-slate-400":"text-slate-700"}`,children:k.text}),w.jsx("button",{onClick:()=>_(C.id,k.id),className:"flex-shrink-0 p-1 text-slate-400 hover:text-rose-600 opacity-0 group-hover:opacity-100 transition-all",children:w.jsx(yl,{size:12})})]},k.id))}),w.jsxs("div",{className:"p-3 border-t border-slate-100 flex-shrink-0 space-y-2",children:[w.jsxs("div",{className:"flex gap-2",children:[w.jsx("input",{type:"text",value:l[C.id]||"",onChange:k=>c({...l,[C.id]:k.target.value}),onKeyPress:k=>{k.key==="Enter"&&p(C.id,l[C.id]||"")},placeholder:" ...",className:"flex-1 px-2 py-1.5 text-xs border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),w.jsx("button",{onClick:()=>p(C.id,l[C.id]||""),className:"flex-shrink-0 px-2 py-1.5 bg-indigo-600 text-white text-xs rounded-lg hover:bg-indigo-700 transition-colors font-bold flex items-center justify-center",children:w.jsx(Fs,{size:14})})]}),T(C.id)>0&&E(C.id)>0&&w.jsx("button",{onClick:()=>S(C.id),className:"w-full px-2 py-1.5 bg-slate-100 text-slate-600 text-xs rounded-lg hover:bg-slate-200 transition-colors font-bold",children:""})]})]},C.id)),t.length<20&&w.jsxs("button",{onClick:f,className:"bg-slate-50 rounded-2xl border-2 border-dashed border-slate-300 hover:border-slate-400 hover:bg-slate-100 transition-colors flex items-center justify-center h-96 text-slate-400 hover:text-slate-600 font-bold text-sm",children:[w.jsx(Fs,{size:24,className:"mr-2"})," "]})]})]})},qse=()=>{const t=Dl(),[e,n]=I.useState([]),[r,i]=I.useState(!1),[s,l]=I.useState({name:"",alias:""}),c=async()=>{try{const d=await k$();n(d)}catch(d){console.error("Error fetching accounts:",d)}};I.useEffect(()=>{c()},[]);const f=async()=>{if(s.name)try{await M$({bankName:s.name,accountAlias:s.alias,createdAt:new Date().toISOString(),isActive:!0}),l({name:"",alias:""}),i(!1),c()}catch(d){console.error("Error adding bank account:",d),alert("  .")}};return w.jsxs("div",{className:"max-w-xl mx-auto px-4 pt-6 pb-12",children:[w.jsxs("header",{className:"flex items-center gap-4 mb-8",children:[w.jsx("button",{onClick:()=>t("/settings"),className:"p-2 -ml-2 text-slate-400",children:w.jsx(Tc,{size:24})}),w.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:" "})]}),w.jsxs("div",{className:"space-y-4",children:[e.map(d=>w.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-slate-100 shadow-sm flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center text-slate-400",children:w.jsx(SM,{size:24})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-slate-800",children:d.bankName}),w.jsx("p",{className:"text-xs text-slate-400 font-medium",children:d.accountAlias||" "})]})]}),w.jsx("button",{onClick:async()=>{if(confirm(" ?"))try{await j$(d.id),c()}catch(m){console.error("Error deleting account:",m),alert("  .")}},className:"p-2 text-slate-300 hover:text-rose-500 transition-colors",children:w.jsx(yl,{size:18})})]},d.id)),r?w.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border-2 border-dashed border-slate-200",children:[w.jsx("input",{className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl mb-3 outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"",value:s.name,onChange:d=>l({...s,name:d.target.value})}),w.jsx("input",{className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl mb-4 outline-none focus:ring-2 focus:ring-indigo-500",placeholder:" ",value:s.alias,onChange:d=>l({...s,alias:d.target.value})}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>i(!1),className:"flex-1 py-3 bg-slate-200 text-slate-600 rounded-xl font-bold",children:""}),w.jsx("button",{onClick:f,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold",children:""})]})]}):w.jsxs("button",{onClick:()=>i(!0),className:"w-full py-5 border-2 border-dashed border-slate-200 rounded-3xl text-slate-400 font-bold flex items-center justify-center gap-2 hover:bg-slate-50 transition-colors",children:[w.jsx(Fs,{size:20}),"   "]})]})]})},Fse=()=>{const t=Dl();return w.jsxs("div",{className:"max-w-xl mx-auto px-4 pt-6 pb-12",children:[w.jsxs("header",{className:"flex items-center gap-4 mb-8",children:[w.jsx("button",{onClick:()=>t("/settings"),className:"p-2 -ml-2 text-slate-400",children:w.jsx(Tc,{size:24})}),w.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:" "})]}),w.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-slate-300",children:[w.jsx(cB,{size:64,className:"mb-4 opacity-20"}),w.jsx("p",{className:"font-bold",children:"    "}),w.jsx("p",{className:"text-xs mt-2 max-w-[200px] text-center",children:",         ."})]})]})},$se=()=>{const t=Dl();return w.jsxs("div",{className:"max-w-xl mx-auto px-4 pt-6 pb-12",children:[w.jsxs("header",{className:"flex items-center gap-4 mb-8",children:[w.jsx("button",{onClick:()=>t("/settings"),className:"p-2 -ml-2 text-slate-400",children:w.jsx(Tc,{size:24})}),w.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:" "})]}),w.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-slate-300",children:[w.jsx(pB,{size:64,className:"mb-4 opacity-20"}),w.jsx("p",{className:"font-bold",children:"    "}),w.jsx("p",{className:"text-xs mt-2 max-w-[200px] text-center",children:"      ."})]})]})},Hse=()=>{const t=[{title:" ",items:[{label:" ",icon:SM,path:"/balances"},{label:"  ",icon:hB,path:"/recurring"},{label:"  ",icon:FB,path:"/scheduled"}]},{title:" ",items:[{label:" &  ",icon:NB,path:"/settings/categories"},{label:" &   ",icon:ZB,path:"/settings/payments"},{label:" /",icon:CB,path:"/settings"}]},{title:" ",items:[{label:" & ",icon:wB,path:"/settings"},{label:"",icon:jB,path:"/settings",color:"text-rose-500"}]}];return w.jsxs("div",{className:"max-w-xl mx-auto px-4 pt-6 pb-12",children:[w.jsxs("header",{className:"mb-8",children:[w.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),w.jsx("p",{className:"text-sm text-slate-400 font-medium",children:" FlexBook "})]}),w.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm mb-8 flex items-center gap-4",children:[w.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600",children:w.jsx(XB,{size:32})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"FlexBook "}),w.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"flexbook@example.com"})]})]}),w.jsx("div",{className:"space-y-8",children:t.map((e,n)=>w.jsxs("div",{className:"space-y-3",children:[w.jsx("h3",{className:"px-4 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:e.title}),w.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:e.items.map((r,i)=>w.jsxs(Qu,{to:r.path,className:`flex items-center justify-between p-5 hover:bg-slate-50 transition-colors ${i!==e.items.length-1?"border-b border-slate-50":""}`,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx(r.icon,{size:20,className:r.color||"text-slate-400"}),w.jsx("span",{className:`font-bold text-sm ${r.color||"text-slate-700"}`,children:r.label})]}),w.jsx(wy,{size:16,className:"text-slate-300"})]},i))})]},n))}),w.jsx("div",{className:"mt-12 text-center",children:w.jsx("p",{className:"text-[10px] font-bold text-slate-300 uppercase tracking-widest",children:"Version 1.0.0 (Build 202505)"})})]})},Kse=()=>{const{id:t}=n9(),e=Dl(),[n,r]=I.useState(null),[i,s]=I.useState([]);if(I.useEffect(()=>{(async()=>{if(t)try{const b=await D$(t);if(!b)return e("/projects");r(b);const _=await E$(t),S=E=>typeof E=="string"?new Date(E):E&&typeof E=="object"&&"toDate"in E?E.toDate():new Date(E);s(_.sort((E,T)=>S(T.date).getTime()-S(E.date).getTime()))}catch(b){console.error("Error fetching project details:",b)}})()},[t,e]),!n)return null;const l=p=>typeof p=="string"?new Date(p):p&&typeof p=="object"&&"toDate"in p?p.toDate():new Date(p),c=i.filter(p=>p.type==="income").reduce((p,b)=>p+b.amount,0),f=i.filter(p=>p.type==="expense").reduce((p,b)=>p+b.amount,0),d=c-f,m=async()=>{if(confirm("     .  ?"))try{await S$(n.id,null),await P$(n.id),e("/projects")}catch(p){console.error("Error deleting project:",p),alert("  .")}};return w.jsxs("div",{className:"max-w-xl mx-auto px-4 pt-6 pb-12",children:[w.jsxs("header",{className:"flex items-center justify-between mb-8",children:[w.jsx("button",{onClick:()=>e("/projects"),className:"p-2 -ml-2 text-slate-400 hover:text-slate-800",children:w.jsx(Tc,{size:24})}),w.jsx("div",{className:"flex gap-2",children:w.jsx("button",{onClick:m,className:"p-2 text-slate-400 hover:text-rose-600 transition-colors",children:w.jsx(yl,{size:20})})})]}),w.jsxs("div",{className:"bg-white rounded-3xl p-6 border border-slate-100 shadow-sm mb-8",children:[w.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center text-white text-3xl font-black mb-4",style:{backgroundColor:n.color},children:n.name[0]}),w.jsx("h1",{className:"text-2xl font-black text-slate-800 mb-2",children:n.name}),w.jsx("p",{className:"text-slate-500 text-sm mb-6",children:n.description||" ."}),w.jsxs("div",{className:"grid grid-cols-3 gap-4 border-t border-slate-100 pt-6",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:" "}),w.jsxs("span",{className:"text-sm font-black text-emerald-500",children:["",c.toLocaleString()]})]}),w.jsxs("div",{className:"text-center",children:[w.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:" "}),w.jsxs("span",{className:"text-sm font-black text-rose-500",children:["",f.toLocaleString()]})]}),w.jsxs("div",{className:"text-center",children:[w.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:""}),w.jsxs("span",{className:`text-sm font-black ${d>=0?"text-indigo-600":"text-rose-500"}`,children:["",d.toLocaleString()]})]})]})]}),w.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4 px-1",children:"  "}),w.jsx("div",{className:"space-y-3",children:i.length===0?w.jsx("div",{className:"py-12 text-center text-slate-300",children:w.jsx("p",{className:"text-sm font-bold",children:"  "})}):i.map(p=>{const b=l(p.date),_=b.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}),S=b.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1});return w.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-50 shadow-sm",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:p.description}),w.jsxs("span",{className:`font-black text-sm ${p.type==="income"?"text-emerald-500":"text-slate-800"}`,children:[p.type==="income"?"+":"-"," ",p.amount.toLocaleString()]})]}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{className:"text-xs text-slate-500 font-medium",children:_}),w.jsx("span",{className:"text-[11px] text-slate-400",children:S})]})]},p.id)})})]})},Gse=()=>{const t=Dl(),[e,n]=I.useState([]),[r,i]=I.useState(!1),[s,l]=I.useState(null),[c,f]=I.useState(""),[d,m]=I.useState("expense"),[p,b]=I.useState("#4f46e5"),_=async()=>{try{const M=await mE();n(M)}catch(M){console.error("Error fetching categories:",M)}};I.useEffect(()=>{_()},[]);const S=()=>{f(""),m("expense"),b("#4f46e5"),l(null)},E=()=>{S(),i(!0)},T=M=>{l(M),f(M.name),m(M.type),b(M.color),i(!0)},C=async M=>{const F=e.find(U=>U.id===M),B=(F==null?void 0:F.type)==="income"?"":"";if(confirm(` ${B} ?         .`))try{await I$(M),_()}catch(U){console.error("Error deleting category:",U),alert(" .  .")}},k=async M=>{if(M.preventDefault(),!!c.trim())try{const F={name:c,type:d,color:p,icon:"Tag",order:(s==null?void 0:s.order)??e.length};s?await A$(s.id,F):await T$(F),i(!1),_(),S()}catch(F){console.error("Error saving category:",F),alert(" .  .")}};return w.jsxs("div",{className:"max-w-xl mx-auto px-4 pt-6 pb-12",children:[w.jsxs("header",{className:"flex items-center gap-4 mb-8",children:[w.jsx("button",{onClick:()=>t("/settings"),className:"p-2 -ml-2 text-slate-400 hover:text-slate-800 transition-colors",children:w.jsx(Tc,{size:24})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:" "}),w.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"   "})]})]}),w.jsx("div",{className:"space-y-6",children:["expense","income"].map(M=>{const F=e.filter(B=>B.type===M);return w.jsxs("div",{className:"space-y-3",children:[w.jsx("h3",{className:"px-2 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:M==="expense"?" ":" "}),F.length===0?w.jsx("div",{className:"bg-slate-50 border-2 border-dashed border-slate-200 rounded-3xl py-8 text-center text-slate-300",children:w.jsx("p",{className:"text-xs font-bold",children:"  "})}):w.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:F.map((B,U)=>w.jsxs("div",{className:`flex items-center justify-between p-4 ${U!==F.length-1?"border-b border-slate-50":""}`,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white text-xs font-black shadow-sm",style:{backgroundColor:B.color},children:B.name[0]}),w.jsx("span",{className:"font-bold text-slate-700",children:B.name})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("button",{onClick:()=>T(B),className:"p-2 text-slate-300 hover:text-indigo-600 transition-colors",children:w.jsx(Xu,{size:16})}),w.jsx("button",{onClick:()=>C(B.id),className:"p-2 text-slate-300 hover:text-rose-600 transition-colors",children:w.jsx(yl,{size:16})})]})]},B.id))})]},M)})}),w.jsx("button",{onClick:E,className:"fixed bottom-24 md:bottom-6 right-6 w-14 h-14 bg-indigo-600 rounded-2xl shadow-xl shadow-indigo-200 text-white flex items-center justify-center hover:bg-indigo-700 active:scale-90 transition-all z-40",children:w.jsx(Fs,{size:28,strokeWidth:3})}),r&&w.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[100]",children:w.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-in fade-in zoom-in duration-200",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-800",children:s?`${d==="income"?"":""} `:` ${d==="income"?"":""} `}),w.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-slate-600",children:w.jsx(Ey,{size:20})})]}),w.jsxs("form",{onSubmit:k,className:"space-y-5",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:""}),w.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl",children:[w.jsx("button",{type:"button",onClick:()=>m("expense"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${d==="expense"?"bg-white text-rose-500 shadow-sm":"text-slate-500"}`,children:" ()"}),w.jsx("button",{type:"button",onClick:()=>m("income"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${d==="income"?"bg-white text-emerald-500 shadow-sm":"text-slate-500"}`,children:" ()"})]})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:""}),w.jsx("input",{autoFocus:!0,type:"text",value:c,onChange:M=>f(M.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none font-bold",placeholder:d==="expense"?": , ":": (), ",required:!0})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:" "}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("input",{type:"color",value:p,onChange:M=>b(M.target.value),className:"w-12 h-12 p-1 bg-white border border-slate-200 rounded-xl cursor-pointer"}),w.jsx("div",{className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-xs font-bold text-slate-500 truncate uppercase",children:p})]})]}),w.jsxs("button",{type:"submit",className:"w-full py-4 text-white font-black bg-indigo-600 rounded-2xl shadow-lg shadow-indigo-100 flex items-center justify-center gap-2 hover:bg-indigo-700 active:scale-95 transition-all",children:[w.jsx(Ah,{size:20,strokeWidth:3}),""]})]})]})})]})},Yse=()=>{const t=Dl(),[e,n]=I.useState([]),[r,i]=I.useState(!1),[s,l]=I.useState(null),[c,f]=I.useState(""),[d,m]=I.useState("expense"),[p,b]=I.useState("#6366f1"),_=async()=>{try{const M=await pE();n(M)}catch(M){console.error("Error fetching payment methods:",M)}};I.useEffect(()=>{_()},[]);const S=()=>{f(""),m("expense"),b("#6366f1"),l(null)},E=()=>{S(),i(!0)},T=M=>{l(M),f(M.name),m(M.type),b(M.color),i(!0)},C=async M=>{var U;const B=((U=e.find(R=>R.id===M))==null?void 0:U.type)==="income"?"":"";if(confirm(` ${B} ?      .`))try{await R$(M),_()}catch(R){console.error("Error deleting payment method:",R),alert(" .  .")}},k=async M=>{if(M.preventDefault(),!!c.trim())try{const F={name:c,type:d,color:p,order:(s==null?void 0:s.order)??e.length};s?await C$(s.id,F):await O$(F),i(!1),_(),S()}catch(F){console.error("Error saving payment method:",F),alert(" .  .")}};return w.jsxs("div",{className:"max-w-xl mx-auto px-4 pt-6 pb-12",children:[w.jsxs("header",{className:"flex items-center gap-4 mb-8",children:[w.jsx("button",{onClick:()=>t("/settings"),className:"p-2 -ml-2 text-slate-400 hover:text-slate-800 transition-colors",children:w.jsx(Tc,{size:24})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:" "}),w.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"   "})]})]}),w.jsx("div",{className:"space-y-6",children:["expense","income"].map(M=>{const F=e.filter(U=>U.type===M),B=M==="expense"?" (  )":" (  )";return w.jsxs("div",{className:"space-y-3",children:[w.jsx("h3",{className:"px-2 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:B}),F.length===0?w.jsx("div",{className:"bg-slate-50 border-2 border-dashed border-slate-200 rounded-3xl py-8 text-center text-slate-300",children:w.jsx("p",{className:"text-xs font-bold",children:"  "})}):w.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:F.map((U,R)=>w.jsxs("div",{className:`flex items-center justify-between p-4 ${R!==F.length-1?"border-b border-slate-50":""}`,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white text-xs font-black shadow-sm",style:{backgroundColor:U.color},children:U.name[0]}),w.jsx("span",{className:"font-bold text-slate-700",children:U.name})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("button",{onClick:()=>T(U),className:"p-2 text-slate-300 hover:text-indigo-600 transition-colors",children:w.jsx(Xu,{size:16})}),w.jsx("button",{onClick:()=>C(U.id),className:"p-2 text-slate-300 hover:text-rose-600 transition-colors",children:w.jsx(yl,{size:16})})]})]},U.id))})]},M)})}),w.jsx("button",{onClick:E,className:"fixed bottom-24 md:bottom-6 right-6 w-14 h-14 bg-indigo-600 rounded-2xl shadow-xl shadow-indigo-200 text-white flex items-center justify-center hover:bg-indigo-700 active:scale-90 transition-all z-40",children:w.jsx(Fs,{size:28,strokeWidth:3})}),r&&w.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[100]",children:w.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-in fade-in zoom-in duration-200",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h2",{className:"text-xl font-bold text-slate-800",children:s?" ":"  "}),w.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-slate-600",children:w.jsx(Ey,{size:20})})]}),w.jsxs("form",{onSubmit:k,className:"space-y-5",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:""}),w.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl",children:[w.jsx("button",{type:"button",onClick:()=>m("expense"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${d==="expense"?"bg-white text-rose-500 shadow-sm":"text-slate-500"}`,children:""}),w.jsx("button",{type:"button",onClick:()=>m("income"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${d==="income"?"bg-white text-emerald-500 shadow-sm":"text-slate-500"}`,children:""})]})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:""}),w.jsx("input",{autoFocus:!0,type:"text",value:c,onChange:M=>f(M.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none font-bold",placeholder:d==="expense"?": , ":": , ",required:!0})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:" "}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("input",{type:"color",value:p,onChange:M=>b(M.target.value),className:"w-12 h-12 p-1 bg-white border border-slate-200 rounded-xl cursor-pointer"}),w.jsx("div",{className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-xs font-bold text-slate-500 truncate uppercase",children:p})]})]}),w.jsxs("button",{type:"submit",className:"w-full py-4 text-white font-black bg-indigo-600 rounded-2xl shadow-lg shadow-indigo-100 flex items-center justify-center gap-2 hover:bg-indigo-700 active:scale-95 transition-all",children:[w.jsx(Ah,{size:20,strokeWidth:3}),""]})]})]})})]})},Qse=()=>{const t=io(),e=r=>t.pathname===r,n=[{path:"/",label:"",icon:DB},{path:"/projects",label:"",icon:xM},{path:"/analysis",label:"",icon:sg},{path:"/statistics",label:"",icon:HB},{path:"/settings",label:"",icon:UB}];return w.jsxs(w.Fragment,{children:[w.jsxs("nav",{className:"hidden md:flex md:fixed md:left-0 md:top-0 md:h-screen md:w-60 md:flex-col md:gap-2 md:p-4 md:border-r z-40",style:{backgroundColor:"var(--notion-bg)",borderColor:"var(--notion-border)"},children:[w.jsxs("div",{className:"mb-6 px-3 pt-2",children:[w.jsx("h1",{className:"text-xl font-black text-slate-800",children:"FlexBook"}),w.jsx("p",{className:"text-xs text-slate-400 font-medium",children:""})]}),n.map(r=>w.jsxs(Qu,{to:r.path,className:`flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all ${e(r.path)?"bg-indigo-50 font-bold":"hover:bg-slate-50"}`,style:{color:e(r.path)?"var(--notion-blue)":"var(--notion-text-secondary)"},children:[w.jsx(r.icon,{size:20,strokeWidth:e(r.path)?2.5:2}),w.jsx("span",{className:"text-sm",children:r.label})]},r.path))]}),w.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 px-4 py-2 flex justify-around items-center z-50",style:{backgroundColor:"var(--notion-bg)",borderTop:"1px solid var(--notion-border)"},children:n.map(r=>w.jsxs(Qu,{to:r.path,className:"flex flex-col items-center gap-1 transition-colors",style:{color:e(r.path)?"var(--notion-blue)":"var(--notion-text-tertiary)"},children:[w.jsx(r.icon,{size:20,strokeWidth:e(r.path)?2.5:2}),w.jsx("span",{className:"text-[10px] font-medium",children:r.label})]},r.path))})]})},Xse=()=>w.jsx(U9,{children:w.jsxs("div",{className:"min-h-screen pb-20 md:pb-0 md:pl-60",style:{backgroundColor:"var(--notion-bg-secondary)"},children:[w.jsxs(y9,{children:[w.jsx($r,{path:"/",element:w.jsx(Lse,{})}),w.jsx($r,{path:"/analysis",element:w.jsx(zse,{})}),w.jsx($r,{path:"/projects",element:w.jsx(Bse,{})}),w.jsx($r,{path:"/projects/:id",element:w.jsx(Kse,{})}),w.jsx($r,{path:"/statistics",element:w.jsx(Use,{})}),w.jsx($r,{path:"/balances",element:w.jsx(qse,{})}),w.jsx($r,{path:"/recurring",element:w.jsx(Fse,{})}),w.jsx($r,{path:"/scheduled",element:w.jsx($se,{})}),w.jsx($r,{path:"/settings",element:w.jsx(Hse,{})}),w.jsx($r,{path:"/settings/categories",element:w.jsx(Gse,{})}),w.jsx($r,{path:"/settings/payments",element:w.jsx(Yse,{})})]}),w.jsx(Qse,{})]})}),CL=document.getElementById("root");if(!CL)throw new Error("Could not find root element to mount to");const Wse=bz.createRoot(CL);Wse.render(w.jsx(f1.StrictMode,{children:w.jsx(Xse,{})}));
